[
  {
    "__docId__": 1,
    "kind": "external",
    "name": "Infinity",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Infinity",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~Infinity",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 2,
    "kind": "external",
    "name": "NaN",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/NaN",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~NaN",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 3,
    "kind": "external",
    "name": "undefined",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/undefined",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~undefined",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 4,
    "kind": "external",
    "name": "null",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/null",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~null",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 5,
    "kind": "external",
    "name": "Object",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~Object",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 6,
    "kind": "external",
    "name": "object",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~object",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 7,
    "kind": "external",
    "name": "Function",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~Function",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 8,
    "kind": "external",
    "name": "function",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~function",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 9,
    "kind": "external",
    "name": "Boolean",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~Boolean",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 10,
    "kind": "external",
    "name": "boolean",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~boolean",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 11,
    "kind": "external",
    "name": "Symbol",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Symbol",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~Symbol",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 12,
    "kind": "external",
    "name": "Error",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Error",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~Error",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 13,
    "kind": "external",
    "name": "EvalError",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/EvalError",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~EvalError",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 14,
    "kind": "external",
    "name": "InternalError",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/InternalError",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~InternalError",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 15,
    "kind": "external",
    "name": "RangeError",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/RangeError",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~RangeError",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 16,
    "kind": "external",
    "name": "ReferenceError",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/ReferenceError",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~ReferenceError",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 17,
    "kind": "external",
    "name": "SyntaxError",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/SyntaxError",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~SyntaxError",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 18,
    "kind": "external",
    "name": "TypeError",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/TypeError",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~TypeError",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 19,
    "kind": "external",
    "name": "URIError",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/URIError",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~URIError",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 20,
    "kind": "external",
    "name": "Number",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~Number",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 21,
    "kind": "external",
    "name": "number",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~number",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 22,
    "kind": "external",
    "name": "Date",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~Date",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 23,
    "kind": "external",
    "name": "String",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~String",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 24,
    "kind": "external",
    "name": "string",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~string",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 25,
    "kind": "external",
    "name": "RegExp",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/RegExp",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~RegExp",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 26,
    "kind": "external",
    "name": "Array",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~Array",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 27,
    "kind": "external",
    "name": "Int8Array",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Int8Array",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~Int8Array",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 28,
    "kind": "external",
    "name": "Uint8Array",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Uint8Array",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~Uint8Array",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 29,
    "kind": "external",
    "name": "Uint8ClampedArray",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Uint8ClampedArray",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~Uint8ClampedArray",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 30,
    "kind": "external",
    "name": "Int16Array",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Int16Array",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~Int16Array",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 31,
    "kind": "external",
    "name": "Uint16Array",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Uint16Array",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~Uint16Array",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 32,
    "kind": "external",
    "name": "Int32Array",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Int32Array",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~Int32Array",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 33,
    "kind": "external",
    "name": "Uint32Array",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Uint32Array",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~Uint32Array",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 34,
    "kind": "external",
    "name": "Float32Array",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Float32Array",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~Float32Array",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 35,
    "kind": "external",
    "name": "Float64Array",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Float64Array",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~Float64Array",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 36,
    "kind": "external",
    "name": "Map",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Map",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~Map",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 37,
    "kind": "external",
    "name": "Set",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Set",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~Set",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 38,
    "kind": "external",
    "name": "WeakMap",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/WeakMap",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~WeakMap",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 39,
    "kind": "external",
    "name": "WeakSet",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/WeakSet",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~WeakSet",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 40,
    "kind": "external",
    "name": "ArrayBuffer",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/ArrayBuffer",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~ArrayBuffer",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 41,
    "kind": "external",
    "name": "DataView",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/DataView",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~DataView",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 42,
    "kind": "external",
    "name": "JSON",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/JSON",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~JSON",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 43,
    "kind": "external",
    "name": "Promise",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~Promise",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 44,
    "kind": "external",
    "name": "Generator",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Generator",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~Generator",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 45,
    "kind": "external",
    "name": "GeneratorFunction",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/GeneratorFunction",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~GeneratorFunction",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 46,
    "kind": "external",
    "name": "Reflect",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Reflect",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~Reflect",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 47,
    "kind": "external",
    "name": "Proxy",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Proxy",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~Proxy",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 48,
    "kind": "file",
    "name": "src/adapters/auth/localstorage.js",
    "content": "/**\n * OS.js - JavaScript Cloud/Web Desktop Platform\n *\n * Copyright (c) 2011-Present, Anders Evenrud <andersevenrud@gmail.com>\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *\n * 1. Redistributions of source code must retain the above copyright notice, this\n *    list of conditions and the following disclaimer\n * 2. Redistributions in binary form must reproduce the above copyright notice,\n *    this list of conditions and the following disclaimer in the documentation\n *    and/or other materials provided with the distribution\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\n * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR\n * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n *\n * @author  Anders Evenrud <andersevenrud@gmail.com>\n * @license Simplified BSD License\n */\n\n/**\n * LocalStorage Auth adapter\n * @param {Core} core MeeseOS Core instance reference\n * @param {Object} [options] Adapter options\n */\nconst localStorageAuth = (core, options) => ({\n\tlogin: (values) => Promise.resolve(values),\n});\n\nexport default localStorageAuth;\n",
    "static": true,
    "longname": "/home/runner/work/meeseOS/meeseOS/frontend/client/src/adapters/auth/localstorage.js",
    "access": "public",
    "description": null,
    "lineNumber": 1
  },
  {
    "__docId__": 49,
    "kind": "function",
    "name": "localStorageAuth",
    "memberof": "src/adapters/auth/localstorage.js",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "src/adapters/auth/localstorage.js~localStorageAuth",
    "access": "public",
    "export": true,
    "importPath": "@meeseOS/client/src/adapters/auth/localstorage.js",
    "importStyle": "localStorageAuth",
    "description": "LocalStorage Auth adapter",
    "lineNumber": 36,
    "params": [
      {
        "nullable": null,
        "types": [
          "Core"
        ],
        "spread": false,
        "optional": false,
        "name": "core",
        "description": "MeeseOS Core instance reference"
      },
      {
        "nullable": null,
        "types": [
          "Object"
        ],
        "spread": false,
        "optional": true,
        "name": "options",
        "description": "Adapter options"
      }
    ],
    "return": null
  },
  {
    "__docId__": 50,
    "kind": "file",
    "name": "src/adapters/auth/server.js",
    "content": "/**\n * OS.js - JavaScript Cloud/Web Desktop Platform\n *\n * Copyright (c) 2011-Present, Anders Evenrud <andersevenrud@gmail.com>\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *\n * 1. Redistributions of source code must retain the above copyright notice, this\n *    list of conditions and the following disclaimer\n * 2. Redistributions in binary form must reproduce the above copyright notice,\n *    this list of conditions and the following disclaimer in the documentation\n *    and/or other materials provided with the distribution\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\n * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR\n * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n *\n * @author  Anders Evenrud <andersevenrud@gmail.com>\n * @license Simplified BSD License\n */\n\n/**\n * Server Auth adapter\n * @param {Core} core MeeseOS Core instance reference\n * @param {Object} [options] Adapter options\n */\nconst serverAuth = (core, options) => {\n\tconst request = (endpoint, params = {}) =>\n\t\tcore.request(\n\t\t\tendpoint,\n\t\t\t{\n\t\t\t\tmethod: \"POST\",\n\t\t\t\tbody: JSON.stringify(params),\n\t\t\t},\n\t\t\t\"json\"\n\t\t);\n\n\treturn {\n\t\tregister: (values) => request(\"/register\", values),\n\t\tlogin: (values) => request(\"/login\", values),\n\t\tlogout: () => request(\"/logout\"),\n\t};\n};\n\nexport default serverAuth;\n",
    "static": true,
    "longname": "/home/runner/work/meeseOS/meeseOS/frontend/client/src/adapters/auth/server.js",
    "access": "public",
    "description": null,
    "lineNumber": 1
  },
  {
    "__docId__": 51,
    "kind": "function",
    "name": "serverAuth",
    "memberof": "src/adapters/auth/server.js",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "src/adapters/auth/server.js~serverAuth",
    "access": "public",
    "export": true,
    "importPath": "@meeseOS/client/src/adapters/auth/server.js",
    "importStyle": "serverAuth",
    "description": "Server Auth adapter",
    "lineNumber": 36,
    "params": [
      {
        "nullable": null,
        "types": [
          "Core"
        ],
        "spread": false,
        "optional": false,
        "name": "core",
        "description": "MeeseOS Core instance reference"
      },
      {
        "nullable": null,
        "types": [
          "Object"
        ],
        "spread": false,
        "optional": true,
        "name": "options",
        "description": "Adapter options"
      }
    ],
    "return": {
      "types": [
        "{\"register\": *, \"login\": *, \"logout\": *}"
      ]
    }
  },
  {
    "__docId__": 52,
    "kind": "file",
    "name": "src/adapters/settings/localstorage.js",
    "content": "/**\n * OS.js - JavaScript Cloud/Web Desktop Platform\n *\n * Copyright (c) 2011-Present, Anders Evenrud <andersevenrud@gmail.com>\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *\n * 1. Redistributions of source code must retain the above copyright notice, this\n *    list of conditions and the following disclaimer\n * 2. Redistributions in binary form must reproduce the above copyright notice,\n *    this list of conditions and the following disclaimer in the documentation\n *    and/or other materials provided with the distribution\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\n * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR\n * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n *\n * @author  Anders Evenrud <andersevenrud@gmail.com>\n * @license Simplified BSD License\n */\n\nimport logger from \"../../logger\";\n\n/**\n * LocalStorage Settings adapter\n * @param {Core} core MeeseOS Core instance reference\n * @param {Object} [options] Adapter options\n */\nconst localStorageSettings = (core) => {\n\t// Prevents collisions with other localStorage keys not\n\t// directly related to MeeseOS\n\tconst prefix = core.config(\"settings.prefix\", \"\");\n\n\treturn {\n\t\t/**\n\t\t * Clears the localStorage for the specified namespace\n\t\t * @param {String} [ns] The namespace\n\t\t * @returns {Promise<Boolean>}\n\t\t */\n\t\tclear(ns) {\n\t\t\tif (ns) {\n\t\t\t\tlocalStorage.removeItem(prefix + ns);\n\t\t\t} else {\n\t\t\t\tlocalStorage.clear();\n\t\t\t}\n\n\t\t\treturn Promise.resolve(true);\n\t\t},\n\n\t\t/**\n\t\t * Saves settings to localStorage\n\t\t * @param {Object} settings The settings to save\n\t\t * @returns {Promise<Boolean>}\n\t\t */\n\t\tsave(settings) {\n\t\t\tObject.keys(settings).forEach((key) => {\n\t\t\t\tlocalStorage.setItem(prefix + key, JSON.stringify(settings[key]));\n\t\t\t});\n\n\t\t\treturn Promise.resolve(true);\n\t\t},\n\n\t\t/**\n\t\t * Loads settings from localStorage\n\t\t * @returns {Promise<Boolean>}\n\t\t */\n\t\tload() {\n\t\t\tconst entries = Object\n\t\t\t\t.keys(localStorage)\n\t\t\t\t.filter((key) => prefix ? key.startsWith(prefix) : true)\n\t\t\t\t.map((key) => {\n\t\t\t\t\tconst value = localStorage.getItem(key);\n\t\t\t\t\tconst prefixedKey = prefix ? key.substring(prefix.length) : key;\n\n\t\t\t\t\ttry {\n\t\t\t\t\t\treturn [prefixedKey, JSON.parse(value)];\n\t\t\t\t\t} catch (err) {\n\t\t\t\t\t\tlogger.warn(`localStorageAdapter parse failed for '${key}':`, err);\n\t\t\t\t\t}\n\n\t\t\t\t\treturn [prefixedKey, value];\n\t\t\t\t});\n\n\t\t\treturn Promise.resolve(Object.fromEntries(entries));\n\t\t}\n\t};\n};\n\nexport default localStorageSettings;\n",
    "static": true,
    "longname": "/home/runner/work/meeseOS/meeseOS/frontend/client/src/adapters/settings/localstorage.js",
    "access": "public",
    "description": null,
    "lineNumber": 1
  },
  {
    "__docId__": 53,
    "kind": "function",
    "name": "localStorageSettings",
    "memberof": "src/adapters/settings/localstorage.js",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "src/adapters/settings/localstorage.js~localStorageSettings",
    "access": "public",
    "export": true,
    "importPath": "@meeseOS/client/src/adapters/settings/localstorage.js",
    "importStyle": "localStorageSettings",
    "description": "LocalStorage Settings adapter",
    "lineNumber": 38,
    "params": [
      {
        "nullable": null,
        "types": [
          "Core"
        ],
        "spread": false,
        "optional": false,
        "name": "core",
        "description": "MeeseOS Core instance reference"
      },
      {
        "nullable": null,
        "types": [
          "Object"
        ],
        "spread": false,
        "optional": true,
        "name": "options",
        "description": "Adapter options"
      }
    ],
    "return": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 54,
    "kind": "file",
    "name": "src/adapters/settings/server.js",
    "content": "/**\n * OS.js - JavaScript Cloud/Web Desktop Platform\n *\n * Copyright (c) 2011-Present, Anders Evenrud <andersevenrud@gmail.com>\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *\n * 1. Redistributions of source code must retain the above copyright notice, this\n *    list of conditions and the following disclaimer\n * 2. Redistributions in binary form must reproduce the above copyright notice,\n *    this list of conditions and the following disclaimer in the documentation\n *    and/or other materials provided with the distribution\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\n * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR\n * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n *\n * @author  Anders Evenrud <andersevenrud@gmail.com>\n * @license Simplified BSD License\n */\n\n/**\n * Server Settings adapter\n * @param {Core} core MeeseOS Core instance reference\n * @param {Object} [options] Adapter options\n */\nconst serverSettings = (core) => ({\n\tsave: (settings) =>\n\t\tcore.request(\n\t\t\tcore.url(\"/settings\"),\n\t\t\t{\n\t\t\t\tmethod: \"post\",\n\t\t\t\tbody: settings,\n\t\t\t},\n\t\t\t\"json\"\n\t\t),\n\n\tload: () =>\n\t\tcore.request(\n\t\t\tcore.url(\"/settings\"),\n\t\t\t{\n\t\t\t\tmethod: \"get\",\n\t\t\t},\n\t\t\t\"json\"\n\t\t),\n});\n\nexport default serverSettings;\n",
    "static": true,
    "longname": "/home/runner/work/meeseOS/meeseOS/frontend/client/src/adapters/settings/server.js",
    "access": "public",
    "description": null,
    "lineNumber": 1
  },
  {
    "__docId__": 55,
    "kind": "function",
    "name": "serverSettings",
    "memberof": "src/adapters/settings/server.js",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "src/adapters/settings/server.js~serverSettings",
    "access": "public",
    "export": true,
    "importPath": "@meeseOS/client/src/adapters/settings/server.js",
    "importStyle": "serverSettings",
    "description": "Server Settings adapter",
    "lineNumber": 36,
    "params": [
      {
        "nullable": null,
        "types": [
          "Core"
        ],
        "spread": false,
        "optional": false,
        "name": "core",
        "description": "MeeseOS Core instance reference"
      },
      {
        "nullable": null,
        "types": [
          "Object"
        ],
        "spread": false,
        "optional": true,
        "name": "options",
        "description": "Adapter options"
      }
    ],
    "return": null
  },
  {
    "__docId__": 56,
    "kind": "file",
    "name": "src/adapters/ui/iconview.js",
    "content": "/**\n * OS.js - JavaScript Cloud/Web Desktop Platform\n *\n * Copyright (c) 2011-Present, Anders Evenrud <andersevenrud@gmail.com>\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *\n * 1. Redistributions of source code must retain the above copyright notice, this\n *    list of conditions and the following disclaimer\n * 2. Redistributions in binary form must reproduce the above copyright notice,\n *    this list of conditions and the following disclaimer in the documentation\n *    and/or other materials provided with the distribution\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\n * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR\n * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n *\n * @author  Anders Evenrud <andersevenrud@gmail.com>\n * @license Simplified BSD License\n */\n\nimport { app, h } from \"hyperapp\";\nimport { isDroppingImage, validVfsDrop } from \"../../utils/desktop\";\nimport { EventEmitter } from \"@meeseOS/event-emitter\";\nimport { doubleTap } from \"../../utils/input\";\nimport { invertHex } from \"../../utils/colors\";\nimport { pathJoin } from \"../../utils/vfs\";\n\nconst tapper = doubleTap();\n\nconst onDropAction = (actions) =>\n\t(ev, data, files, shortcut = true) => {\n\t\tif (validVfsDrop(data)) {\n\t\t\tactions.addEntry({ entry: data, shortcut });\n\t\t} else if (files.length > 0) {\n\t\t\tactions.uploadEntries(files);\n\t\t}\n\t};\n\nconst isRootElement = (ev) =>\n\tev.target &&\n\tev.target.classList.contains(\"meeseOS-desktop-iconview__wrapper\");\n\nconst view = (fileIcon, themeIcon, droppable) => (state, actions) =>\n\th(\n\t\t\"div\",\n\t\t{\n\t\t\tclass: \"meeseOS-desktop-iconview__wrapper\",\n\t\t\toncontextmenu: (ev) => {\n\t\t\t\tif (isRootElement(ev)) {\n\t\t\t\t\tactions.openContextMenu({ ev });\n\t\t\t\t}\n\t\t\t},\n\t\t\tonclick: (ev) => {\n\t\t\t\tif (isRootElement(ev)) {\n\t\t\t\t\tactions.selectEntry({ index: -1 });\n\t\t\t\t}\n\t\t\t},\n\t\t\toncreate: (el) => {\n\t\t\t\tdroppable(el, {\n\t\t\t\t\tondrop: (ev, data, files) => {\n\t\t\t\t\t\tconst droppedImage = isDroppingImage(data);\n\n\t\t\t\t\t\tif (droppedImage || (ev.shiftKey && validVfsDrop(data))) {\n\t\t\t\t\t\t\tactions.openDropContextMenu({ ev, data, files });\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tonDropAction(actions)(ev, data, files);\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t});\n\t\t\t},\n\t\t},\n\t\tstate.entries.map((entry, index) => {\n\t\t\treturn h(\n\t\t\t\t\"div\",\n\t\t\t\t{\n\t\t\t\t\tclass:\n\t\t\t\t\t\t\"meeseOS-desktop-iconview__entry\" +\n\t\t\t\t\t\t(state.selected === index\n\t\t\t\t\t\t\t? \" meeseOS-desktop-iconview__entry--selected\"\n\t\t\t\t\t\t\t: \"\"),\n\t\t\t\t\toncontextmenu: (ev) => actions.openContextMenu({ ev, entry, index }),\n\t\t\t\t\tontouchstart: (ev) =>\n\t\t\t\t\t\ttapper(ev, () => actions.openEntry({ ev, entry, index })),\n\t\t\t\t\tondblclick: (ev) => actions.openEntry({ ev, entry, index }),\n\t\t\t\t\tonclick: (ev) => actions.selectEntry({ ev, entry, index }),\n\t\t\t\t},\n\t\t\t\t[\n\t\t\t\t\th(\n\t\t\t\t\t\t\"div\",\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tclass: \"meeseOS-desktop-iconview__entry__inner\",\n\t\t\t\t\t\t},\n\t\t\t\t\t\t[\n\t\t\t\t\t\t\th(\n\t\t\t\t\t\t\t\t\"div\",\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tclass: \"meeseOS-desktop-iconview__entry__icon\",\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t[\n\t\t\t\t\t\t\t\t\th(\"img\", {\n\t\t\t\t\t\t\t\t\t\tsrc: entry.icon\n\t\t\t\t\t\t\t\t\t\t\t? entry.icon\n\t\t\t\t\t\t\t\t\t\t\t: themeIcon(fileIcon(entry).name),\n\t\t\t\t\t\t\t\t\t\tclass: \"meeseOS-desktop-iconview__entry__icon__icon\",\n\t\t\t\t\t\t\t\t\t}),\n\t\t\t\t\t\t\t\t\tentry.shortcut !== false\n\t\t\t\t\t\t\t\t\t\t? h(\"img\", {\n\t\t\t\t\t\t\t\t\t\t\tsrc: themeIcon(\"emblem-symbolic-link\"),\n\t\t\t\t\t\t\t\t\t\t\tclass:\n\t\t\t\t\t\t\t\t\t\t\t\t\"meeseOS-desktop-iconview__entry__icon__shortcut\",\n\t\t\t\t\t\t\t\t\t\t  })\n\t\t\t\t\t\t\t\t\t\t: null,\n\t\t\t\t\t\t\t\t]\n\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\th(\n\t\t\t\t\t\t\t\t\"div\",\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tclass: \"meeseOS-desktop-iconview__entry__label\",\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\tentry.filename\n\t\t\t\t\t\t\t),\n\t\t\t\t\t\t]\n\t\t\t\t\t),\n\t\t\t\t]\n\t\t\t);\n\t\t})\n\t);\n\nconst createShortcuts = (root, readfile, writefile) => {\n\tconst read = () => {\n\t\tconst filename = pathJoin(root, \".shortcuts.json\");\n\n\t\treturn readfile(filename)\n\t\t\t.then((contents) => JSON.parse(contents))\n\t\t\t.catch((error) => []);\n\t};\n\n\tconst write = (shortcuts) => {\n\t\tconst filename = pathJoin(root, \".shortcuts.json\");\n\t\tconst contents = JSON.stringify(shortcuts || []);\n\n\t\treturn writefile(filename, contents).catch(() => 0);\n\t};\n\n\tconst add = (entry) =>\n\t\tread(root)\n\t\t\t.then((shortcuts) => [...shortcuts, entry])\n\t\t\t.then(write);\n\n\tconst remove = (index) =>\n\t\tread(root)\n\t\t\t.then((shortcuts) => {\n\t\t\t\tshortcuts.splice(index, 1);\n\t\t\t\treturn shortcuts;\n\t\t\t})\n\t\t\t.then(write);\n\n\treturn { read, add, remove };\n};\n\nconst readDesktopFolder = (root, readdir, shortcuts) => {\n\tconst supressError = () => [];\n\n\tconst read = () =>\n\t\treaddir(root, {\n\t\t\tshowHiddenFiles: false,\n\t\t})\n\t\t\t.then((files) => files.map((s) => ({ shortcut: false, ...s })))\n\t\t\t.catch(supressError);\n\n\tconst readShortcuts = () =>\n\t\tshortcuts\n\t\t\t.read()\n\t\t\t.then((shortcuts) =>\n\t\t\t\tshortcuts.map((s, index) => ({ shortcut: index, ...s }))\n\t\t\t)\n\t\t\t.catch(supressError);\n\n\treturn () => {\n\t\treturn Promise.all([readShortcuts(), read()]).then((results) =>\n\t\t\t[].concat(...results)\n\t\t);\n\t};\n};\n\n/**\n * Desktop Icon View\n */\nexport class DesktopIconView extends EventEmitter {\n\t/**\n\t * @param {Core} core MeeseOS Core instance reference\n\t */\n\tconstructor(core) {\n\t\tsuper(\"DesktopIconView\");\n\n\t\tthis.core = core;\n\t\tthis.$root = null;\n\t\tthis.iconview = null;\n\t\tthis.root = \"home:/.desktop\"; // Default path, changed later\n\t}\n\n\tdestroy() {\n\t\tif (this.$root && this.$root.parentNode) {\n\t\t\tthis.$root.remove();\n\t\t}\n\n\t\tthis.iconview = null;\n\t\tthis.$root = null;\n\n\t\tthis.emit(\"destroy\");\n\n\t\tsuper.destroy();\n\t}\n\n\t_render(root) {\n\t\tconst oldRoot = this.root;\n\t\tif (root) this.root = root;\n\n\t\tif (this.$root) {\n\t\t\tif (this.root !== oldRoot) {\n\t\t\t\tthis.iconview.reload();\n\t\t\t}\n\n\t\t\treturn false;\n\t\t}\n\n\t\treturn true;\n\t}\n\n\trender(root) {\n\t\tif (!this._render(root)) return;\n\n\t\tthis.$root = document.createElement(\"div\");\n\t\tthis.$root.className = \"meeseOS-desktop-iconview\";\n\t\tthis.core.$contents.appendChild(this.$root);\n\n\t\tconst { droppable } = this.core.make(\"meeseOS/dnd\");\n\t\tconst { icon: fileIcon } = this.core.make(\"meeseOS/fs\");\n\t\tconst { icon: themeIcon } = this.core.make(\"meeseOS/theme\");\n\t\tconst { copy, readdir, readfile, writefile, unlink, mkdir } =\n\t\t\tthis.core.make(\"meeseOS/vfs\");\n\t\tconst error = (err) => console.error(err);\n\t\tconst shortcuts = createShortcuts(root, readfile, writefile);\n\t\tconst read = readDesktopFolder(root, readdir, shortcuts);\n\n\t\tthis.iconview = app(\n\t\t\t{\n\t\t\t\tselected: -1,\n\t\t\t\tentries: [],\n\t\t\t},\n\t\t\t{\n\t\t\t\tsetEntries: (entries) => ({ entries }),\n\n\t\t\t\topenDropContextMenu: ({ ev, data, files, droppedImage }) => {\n\t\t\t\t\tthis.createDropContextMenu(ev, data, files, droppedImage);\n\t\t\t\t},\n\n\t\t\t\topenContextMenu: ({ ev, entry, index }) => {\n\t\t\t\t\tif (entry) {\n\t\t\t\t\t\tthis.createFileContextMenu(ev, entry);\n\t\t\t\t\t\treturn { selected: index };\n\t\t\t\t\t}\n\n\t\t\t\t\tthis.createRootContextMenu(ev);\n\t\t\t\t\treturn { selected: -1 };\n\t\t\t\t},\n\n\t\t\t\topenEntry: ({ entry, forceDialog }) => {\n\t\t\t\t\tif (entry.isDirectory) {\n\t\t\t\t\t\tthis.core.run(\"FileManager\", {\n\t\t\t\t\t\t\tpath: entry,\n\t\t\t\t\t\t});\n\t\t\t\t\t} else if (entry.mime === \"meeseOS/application\") {\n\t\t\t\t\t\tthis.core.run(entry.filename);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.core.open(entry, {\n\t\t\t\t\t\t\tuseDefault: true,\n\t\t\t\t\t\t\tforceDialog,\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\n\t\t\t\t\treturn { selected: -1 };\n\t\t\t\t},\n\n\t\t\t\tselectEntry: ({ index }) => ({ selected: index }),\n\n\t\t\t\tuploadEntries: (files) => {\n\t\t\t\t\t// TODO\n\t\t\t\t},\n\n\t\t\t\taddEntry: ({ entry, shortcut }) =>\n\t\t\t\t\t(state, actions) => {\n\t\t\t\t\t\tconst dest = `${root}/${entry.filename}`;\n\n\t\t\t\t\t\tmkdir(root)\n\t\t\t\t\t\t\t.catch(() => true)\n\t\t\t\t\t\t\t.then(() => {\n\t\t\t\t\t\t\t\tif (shortcut || entry.mime === \"meeseOS/application\") {\n\t\t\t\t\t\t\t\t\treturn shortcuts.add(entry);\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\treturn copy(entry, dest)\n\t\t\t\t\t\t\t\t\t.then(() => actions.reload(true))\n\t\t\t\t\t\t\t\t\t.catch(error);\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t.then(() => actions.reload(true));\n\n\t\t\t\t\t\treturn { selected: -1 };\n\t\t\t\t\t},\n\n\t\t\t\tremoveEntry: (entry) =>\n\t\t\t\t\t(state, actions) => {\n\t\t\t\t\t\tif (entry.shortcut !== false) {\n\t\t\t\t\t\t\tshortcuts\n\t\t\t\t\t\t\t\t.remove(entry.shortcut)\n\t\t\t\t\t\t\t\t.then(() => actions.reload(true))\n\t\t\t\t\t\t\t\t.catch(error);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tunlink(entry)\n\t\t\t\t\t\t\t\t.then(() => actions.reload(true))\n\t\t\t\t\t\t\t\t.catch(error);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\treturn { selected: -1 };\n\t\t\t\t\t},\n\n\t\t\t\treload: (fromUI) =>\n\t\t\t\t\t(state, actions) => {\n\t\t\t\t\t\tif (fromUI && this.core.config(\"vfs.watch\")) {\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tread()\n\t\t\t\t\t\t\t.then((entries) => entries.filter((e) => e.filename !== \"..\"))\n\t\t\t\t\t\t\t.then((entries) => actions.setEntries(entries));\n\t\t\t\t\t},\n\t\t\t},\n\t\t\tview(fileIcon, themeIcon, droppable),\n\t\t\tthis.$root\n\t\t);\n\n\t\tthis.applySettings();\n\t\tthis.iconview.reload();\n\t\tthis._createWatcher();\n\n\t\tthis.core.on(\"meeseOS/settings:save\", () => this.iconview.reload());\n\t}\n\n\tcreateFileContextMenu(ev, entry) {\n\t\tthis.core.make(\"meeseOS/contextmenu\", {\n\t\t\tposition: ev,\n\t\t\tmenu: [\n\t\t\t\t{\n\t\t\t\t\tlabel: \"Open\",\n\t\t\t\t\tonclick: () => this.iconview.openEntry({ entry, forceDialog: false }),\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tlabel: \"Open with...\",\n\t\t\t\t\tonclick: () => this.iconview.openEntry({ entry, forceDialog: true }),\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tlabel: entry.shortcut !== false ? \"Remove shortcut\" : \"Delete\",\n\t\t\t\t\tonclick: () => this.iconview.removeEntry(entry),\n\t\t\t\t},\n\t\t\t],\n\t\t});\n\t}\n\n\tcreateDropContextMenu(ev, data, files) {\n\t\tconst desktop = this.core.make(\"meeseOS/desktop\");\n\t\tconst action = (shortcut) =>\n\t\t\tonDropAction(this.iconview)(ev, data, files, shortcut);\n\n\t\tconst menu = [\n\t\t\t{\n\t\t\t\tlabel: \"Copy\",\n\t\t\t\tonclick: () => action(false),\n\t\t\t},\n\t\t\t{\n\t\t\t\tlabel: \"Create shortcut\",\n\t\t\t\tonclick: () => action(true),\n\t\t\t},\n\t\t\t...desktop.createDropContextMenu(data),\n\t\t];\n\n\t\tthis.core.make(\"meeseOS/contextmenu\", {\n\t\t\tposition: ev,\n\t\t\tmenu,\n\t\t});\n\t}\n\n\tcreateRootContextMenu(ev) {\n\t\tthis.core.make(\"meeseOS/desktop\").openContextMenu(ev);\n\t}\n\n\t_createWatcher() {\n\t\tconst listener = (args) => {\n\t\t\tconst currentPath = String(this.root).replace(/\\/$/, \"\");\n\t\t\tconst watchPath = String(args.path).replace(/\\/$/, \"\");\n\t\t\tif (currentPath === watchPath) {\n\t\t\t\tthis.iconview.reload();\n\t\t\t}\n\t\t};\n\n\t\tthis.core.on(\"meeseOS/vfs:directoryChanged\", listener);\n\t\tthis.on(\"destroy\", () =>\n\t\t\tthis.core.off(\"meeseOS/vfs:directoryChanged\", listener)\n\t\t);\n\t}\n\n\tapplySettings() {\n\t\tif (!this.$root) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst settings = this.core.make(\"meeseOS/settings\");\n\n\t\tconst defaults = this.core.config(\"desktop.settings\");\n\n\t\tconst fontColorStyle = settings.get(\n\t\t\t\"meeseOS/desktop\",\n\t\t\t\"iconview.fontColorStyle\",\n\t\t\tdefaults.iconview.fontColorStyle\n\t\t);\n\n\t\tconst fontColor = settings.get(\n\t\t\t\"meeseOS/desktop\",\n\t\t\t\"iconview.fontColor\",\n\t\t\t\"#ffffff\",\n\t\t\tdefaults.iconview.fontColor\n\t\t);\n\n\t\tconst backgroundColor = settings.get(\n\t\t\t\"meeseOS/desktop\",\n\t\t\t\"background.color\",\n\t\t\tdefaults.background.color\n\t\t);\n\n\t\tconst styles = {\n\t\t\tsystem: \"inherit\",\n\t\t\tinvert: invertHex(backgroundColor),\n\t\t\tcustom: fontColor,\n\t\t};\n\n\t\tthis.$root.style.color = styles[fontColorStyle];\n\t}\n}\n",
    "static": true,
    "longname": "/home/runner/work/meeseOS/meeseOS/frontend/client/src/adapters/ui/iconview.js",
    "access": "public",
    "description": null,
    "lineNumber": 1
  },
  {
    "__docId__": 57,
    "kind": "variable",
    "name": "tapper",
    "memberof": "src/adapters/ui/iconview.js",
    "static": true,
    "longname": "src/adapters/ui/iconview.js~tapper",
    "access": "public",
    "export": false,
    "importPath": "@meeseOS/client/src/adapters/ui/iconview.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 38,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    },
    "ignore": true
  },
  {
    "__docId__": 58,
    "kind": "function",
    "name": "onDropAction",
    "memberof": "src/adapters/ui/iconview.js",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "src/adapters/ui/iconview.js~onDropAction",
    "access": "public",
    "export": false,
    "importPath": "@meeseOS/client/src/adapters/ui/iconview.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 40,
    "undocument": true,
    "params": [
      {
        "name": "actions",
        "types": [
          "*"
        ]
      }
    ],
    "return": null,
    "ignore": true
  },
  {
    "__docId__": 59,
    "kind": "function",
    "name": "isRootElement",
    "memberof": "src/adapters/ui/iconview.js",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "src/adapters/ui/iconview.js~isRootElement",
    "access": "public",
    "export": false,
    "importPath": "@meeseOS/client/src/adapters/ui/iconview.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 49,
    "undocument": true,
    "params": [
      {
        "name": "ev",
        "types": [
          "*"
        ]
      }
    ],
    "return": null,
    "ignore": true
  },
  {
    "__docId__": 60,
    "kind": "function",
    "name": "view",
    "memberof": "src/adapters/ui/iconview.js",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "src/adapters/ui/iconview.js~view",
    "access": "public",
    "export": false,
    "importPath": "@meeseOS/client/src/adapters/ui/iconview.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 53,
    "undocument": true,
    "params": [
      {
        "name": "fileIcon",
        "types": [
          "*"
        ]
      },
      {
        "name": "themeIcon",
        "types": [
          "*"
        ]
      },
      {
        "name": "droppable",
        "types": [
          "*"
        ]
      }
    ],
    "return": null,
    "ignore": true
  },
  {
    "__docId__": 61,
    "kind": "function",
    "name": "createShortcuts",
    "memberof": "src/adapters/ui/iconview.js",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "src/adapters/ui/iconview.js~createShortcuts",
    "access": "public",
    "export": false,
    "importPath": "@meeseOS/client/src/adapters/ui/iconview.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 139,
    "undocument": true,
    "params": [
      {
        "name": "root",
        "types": [
          "*"
        ]
      },
      {
        "name": "readfile",
        "types": [
          "*"
        ]
      },
      {
        "name": "writefile",
        "types": [
          "*"
        ]
      }
    ],
    "return": {
      "types": [
        "{\"read\": *, \"add\": *, \"remove\": *}"
      ]
    },
    "ignore": true
  },
  {
    "__docId__": 62,
    "kind": "function",
    "name": "readDesktopFolder",
    "memberof": "src/adapters/ui/iconview.js",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "src/adapters/ui/iconview.js~readDesktopFolder",
    "access": "public",
    "export": false,
    "importPath": "@meeseOS/client/src/adapters/ui/iconview.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 171,
    "undocument": true,
    "params": [
      {
        "name": "root",
        "types": [
          "*"
        ]
      },
      {
        "name": "readdir",
        "types": [
          "*"
        ]
      },
      {
        "name": "shortcuts",
        "types": [
          "*"
        ]
      }
    ],
    "return": {
      "types": [
        "*"
      ]
    },
    "ignore": true
  },
  {
    "__docId__": 63,
    "kind": "class",
    "name": "DesktopIconView",
    "memberof": "src/adapters/ui/iconview.js",
    "static": true,
    "longname": "src/adapters/ui/iconview.js~DesktopIconView",
    "access": "public",
    "export": true,
    "importPath": "@meeseOS/client/src/adapters/ui/iconview.js",
    "importStyle": "{DesktopIconView}",
    "description": "Desktop Icon View",
    "lineNumber": 199,
    "interface": false,
    "extends": [
      "@meeseOS/event-emitter~EventEmitter"
    ]
  },
  {
    "__docId__": 64,
    "kind": "constructor",
    "name": "constructor",
    "memberof": "src/adapters/ui/iconview.js~DesktopIconView",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/adapters/ui/iconview.js~DesktopIconView#constructor",
    "access": "public",
    "description": "",
    "lineNumber": 203,
    "params": [
      {
        "nullable": null,
        "types": [
          "Core"
        ],
        "spread": false,
        "optional": false,
        "name": "core",
        "description": "MeeseOS Core instance reference"
      }
    ]
  },
  {
    "__docId__": 65,
    "kind": "member",
    "name": "core",
    "memberof": "src/adapters/ui/iconview.js~DesktopIconView",
    "static": false,
    "longname": "src/adapters/ui/iconview.js~DesktopIconView#core",
    "access": "public",
    "description": null,
    "lineNumber": 206,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    },
    "ignore": true
  },
  {
    "__docId__": 66,
    "kind": "member",
    "name": "$root",
    "memberof": "src/adapters/ui/iconview.js~DesktopIconView",
    "static": false,
    "longname": "src/adapters/ui/iconview.js~DesktopIconView#$root",
    "access": "public",
    "description": null,
    "lineNumber": 207,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    },
    "ignore": true
  },
  {
    "__docId__": 67,
    "kind": "member",
    "name": "iconview",
    "memberof": "src/adapters/ui/iconview.js~DesktopIconView",
    "static": false,
    "longname": "src/adapters/ui/iconview.js~DesktopIconView#iconview",
    "access": "public",
    "description": null,
    "lineNumber": 208,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    },
    "ignore": true
  },
  {
    "__docId__": 68,
    "kind": "member",
    "name": "root",
    "memberof": "src/adapters/ui/iconview.js~DesktopIconView",
    "static": false,
    "longname": "src/adapters/ui/iconview.js~DesktopIconView#root",
    "access": "public",
    "description": null,
    "lineNumber": 209,
    "undocument": true,
    "type": {
      "types": [
        "string"
      ]
    },
    "ignore": true
  },
  {
    "__docId__": 69,
    "kind": "method",
    "name": "destroy",
    "memberof": "src/adapters/ui/iconview.js~DesktopIconView",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/adapters/ui/iconview.js~DesktopIconView#destroy",
    "access": "public",
    "description": null,
    "lineNumber": 212,
    "undocument": true,
    "params": [],
    "return": null,
    "ignore": true
  },
  {
    "__docId__": 72,
    "kind": "method",
    "name": "_render",
    "memberof": "src/adapters/ui/iconview.js~DesktopIconView",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/adapters/ui/iconview.js~DesktopIconView#_render",
    "access": "private",
    "description": null,
    "lineNumber": 225,
    "undocument": true,
    "params": [
      {
        "name": "root",
        "types": [
          "*"
        ]
      }
    ],
    "return": {
      "types": [
        "boolean"
      ]
    },
    "ignore": true
  },
  {
    "__docId__": 74,
    "kind": "method",
    "name": "render",
    "memberof": "src/adapters/ui/iconview.js~DesktopIconView",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/adapters/ui/iconview.js~DesktopIconView#render",
    "access": "public",
    "description": null,
    "lineNumber": 240,
    "undocument": true,
    "params": [
      {
        "name": "root",
        "types": [
          "*"
        ]
      }
    ],
    "return": null,
    "ignore": true
  },
  {
    "__docId__": 77,
    "kind": "method",
    "name": "createFileContextMenu",
    "memberof": "src/adapters/ui/iconview.js~DesktopIconView",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/adapters/ui/iconview.js~DesktopIconView#createFileContextMenu",
    "access": "public",
    "description": null,
    "lineNumber": 359,
    "undocument": true,
    "params": [
      {
        "name": "ev",
        "types": [
          "*"
        ]
      },
      {
        "name": "entry",
        "types": [
          "*"
        ]
      }
    ],
    "return": null,
    "ignore": true
  },
  {
    "__docId__": 78,
    "kind": "method",
    "name": "createDropContextMenu",
    "memberof": "src/adapters/ui/iconview.js~DesktopIconView",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/adapters/ui/iconview.js~DesktopIconView#createDropContextMenu",
    "access": "public",
    "description": null,
    "lineNumber": 379,
    "undocument": true,
    "params": [
      {
        "name": "ev",
        "types": [
          "*"
        ]
      },
      {
        "name": "data",
        "types": [
          "*"
        ]
      },
      {
        "name": "files",
        "types": [
          "*"
        ]
      }
    ],
    "return": null,
    "ignore": true
  },
  {
    "__docId__": 79,
    "kind": "method",
    "name": "createRootContextMenu",
    "memberof": "src/adapters/ui/iconview.js~DesktopIconView",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/adapters/ui/iconview.js~DesktopIconView#createRootContextMenu",
    "access": "public",
    "description": null,
    "lineNumber": 402,
    "undocument": true,
    "params": [
      {
        "name": "ev",
        "types": [
          "*"
        ]
      }
    ],
    "return": null,
    "ignore": true
  },
  {
    "__docId__": 80,
    "kind": "method",
    "name": "_createWatcher",
    "memberof": "src/adapters/ui/iconview.js~DesktopIconView",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/adapters/ui/iconview.js~DesktopIconView#_createWatcher",
    "access": "private",
    "description": null,
    "lineNumber": 406,
    "undocument": true,
    "params": [],
    "return": null,
    "ignore": true
  },
  {
    "__docId__": 81,
    "kind": "method",
    "name": "applySettings",
    "memberof": "src/adapters/ui/iconview.js~DesktopIconView",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/adapters/ui/iconview.js~DesktopIconView#applySettings",
    "access": "public",
    "description": null,
    "lineNumber": 421,
    "undocument": true,
    "params": [],
    "return": null,
    "ignore": true
  },
  {
    "__docId__": 82,
    "kind": "file",
    "name": "src/adapters/ui/login.js",
    "content": "/**\n * OS.js - JavaScript Cloud/Web Desktop Platform\n *\n * Copyright (c) 2011-Present, Anders Evenrud <andersevenrud@gmail.com>\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *\n * 1. Redistributions of source code must retain the above copyright notice, this\n *    list of conditions and the following disclaimer\n * 2. Redistributions in binary form must reproduce the above copyright notice,\n *    this list of conditions and the following disclaimer in the documentation\n *    and/or other materials provided with the distribution\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\n * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR\n * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n *\n * @author  Anders Evenrud <andersevenrud@gmail.com>\n * @license Simplified BSD License\n */\n\nimport { app, h } from \"hyperapp\";\nimport { EventEmitter } from \"@meeseOS/event-emitter\";\n\n/**\n * Creates the attributes for a given field\n * @param {Object} props\n * @param {HTMLElement} field\n * @param {Boolean} disabled\n * @returns {Object}\n */\nconst createAttributes = (props, field, disabled) => {\n\tdisabled = disabled ? \"disabled\" : undefined;\n\tif (field.tagName === \"input\") {\n\t\tif (field.attributes.type !== \"submit\") {\n\t\t\tconst autocomplete = field.attributes.autocomplete || true;\n\t\t\treturn {\n\t\t\t\tautocapitalize: \"off\",\n\t\t\t\tautocomplete: autocomplete ? \"new-\" + field.attributes.name : \"off\",\n\t\t\t\tdisabled,\n\t\t\t\toncreate: (el) =>\n\t\t\t\t\t(el.value = props[field.attributes.name] || field.value || \"\"),\n\t\t\t\t...field.attributes,\n\t\t\t};\n\t\t}\n\t}\n\n\treturn { disabled, ...field.attributes };\n};\n\n/**\n * Creates the fields for the login form\n * @param {Object} props\n * @param {HTMLElement[]} fields\n * @param {Boolean} disabled\n * @returns {Array}\n */\nconst createFields = (props, fields, disabled) => {\n\tconst children = (field) => {\n\t\tif (field.tagName === \"select\" && field.choices) {\n\t\t\treturn field.choices.map((c) =>\n\t\t\t\th(\n\t\t\t\t\t\"option\",\n\t\t\t\t\t{\n\t\t\t\t\t\tcurrent: c.current ? \"current\" : undefined,\n\t\t\t\t\t\tvalue: c.value,\n\t\t\t\t\t},\n\t\t\t\t\tc.label\n\t\t\t\t)\n\t\t\t);\n\t\t}\n\n\t\treturn field.children || [];\n\t};\n\n\treturn fields.map((field) =>\n\t\th(\n\t\t\t\"div\",\n\t\t\t{\n\t\t\t\tclass: \"meeseOS-login-field meeseOS-login-field-\" + field.tagName,\n\t\t\t},\n\t\t\th(field.tagName, createAttributes(props, field, disabled), children(field))\n\t\t)\n\t);\n};\n\n/**\n * Creates the view for the login UI\n * @param {Object} options\n */\nconst createView = (options) => {\n\tconst { src, position } = options.logo;\n\n\tconst logo = () =>\n\t\th(\"div\", {\n\t\t\tclass: \"meeseOS-login-logo\",\n\t\t\t\"data-position\": position,\n\t\t\tstyle: {\n\t\t\t\tbackgroundImage: `url(\"${src}\")`,\n\t\t\t},\n\t\t});\n\n\tconst fields = (state) => {\n\t\tconst result = createFields(state, options.fields, state.loading);\n\n\t\tif (src && position === \"bottom\") {\n\t\t\tresult.push(logo());\n\t\t}\n\n\t\tif (options.stamp) {\n\t\t\tresult.push(\n\t\t\t\th(\n\t\t\t\t\t\"div\",\n\t\t\t\t\t{\n\t\t\t\t\t\tclass: \"meeseOS-login-stamp\",\n\t\t\t\t\t},\n\t\t\t\t\toptions.stamp\n\t\t\t\t)\n\t\t\t);\n\t\t}\n\n\t\treturn result;\n\t};\n\n\treturn (state, actions) => {\n\t\tconst header = [];\n\n\t\tif (options.title) {\n\t\t\theader.push(\n\t\t\t\th(\n\t\t\t\t\t\"div\",\n\t\t\t\t\t{\n\t\t\t\t\t\tclass: \"meeseOS-login-header\",\n\t\t\t\t\t},\n\t\t\t\t\th(\"span\", {}, options.title)\n\t\t\t\t)\n\t\t\t);\n\t\t}\n\n\t\tif (src && [\"top\", \"middle\"].indexOf(position) !== -1) {\n\t\t\tconst m = position === \"top\" ? \"unshift\" : \"push\";\n\n\t\t\theader[m](logo());\n\t\t}\n\n\t\tconst createSide = (side) =>\n\t\t\tposition === side\n\t\t\t\t? h(\"div\", { \"data-position\": position }, logo())\n\t\t\t\t: null;\n\n\t\tconst left = () => createSide(\"left\");\n\t\tconst right = () => createSide(\"right\");\n\t\tconst middle = () => h(\"div\", { class: \"meeseOS-login-content\" }, children);\n\n\t\tconst formFields = fields(state);\n\n\t\tconst children = [\n\t\t\t...header,\n\n\t\t\th(\n\t\t\t\t\"div\",\n\t\t\t\t{\n\t\t\t\t\tclass: \"meeseOS-login-error\",\n\t\t\t\t\tstyle: { display: state.error ? \"block\" : \"none\" },\n\t\t\t\t},\n\t\t\t\th(\"span\", {}, state.error)\n\t\t\t),\n\t\t\th(\n\t\t\t\t\"form\",\n\t\t\t\t{\n\t\t\t\t\tloading: false,\n\t\t\t\t\tmethod: \"post\",\n\t\t\t\t\taction: \"#\",\n\t\t\t\t\tautocomplete: \"off\",\n\t\t\t\t\tonsubmit: actions.submit,\n\t\t\t\t},\n\t\t\t\tformFields\n\t\t\t),\n\t\t];\n\n\t\treturn h(\n\t\t\t\"div\",\n\t\t\t{\n\t\t\t\tclass: \"meeseOS-login\",\n\t\t\t\tid: options.id,\n\t\t\t\tstyle: { display: state.hidden ? \"none\" : undefined },\n\t\t\t},\n\t\t\t[left(), middle(), right()].filter((el) => Boolean(el))\n\t\t);\n\t};\n};\n\n/**\n * Login UI Adapter\n * @param {Object} options\n * @param {*} login\n * @param {*} startHidden\n * @param {*} $container\n * @returns {EventEmitter}\n */\nconst create = (options, login, startHidden, $container) => {\n\tconst ee = new EventEmitter(\"LoginUI\");\n\tconst view = createView(options);\n\tconst a = app(\n\t\t{\n\t\t\thidden: startHidden,\n\t\t\t...login,\n\t\t},\n\t\t{\n\t\t\tsetLoading: (loading) => ({ loading }),\n\t\t\tsetError: (error) => ({ error, hidden: false }),\n\t\t\tsubmit: (ev) => (state) => {\n\t\t\t\tev.preventDefault();\n\t\t\t\tif (state.loading) return;\n\n\t\t\t\tlet values = {};\n\t\t\t\tif (ev.submitter.id === \"guest-login\") {\n\t\t\t\t\tvalues = { username: \"guest\", password: \"guest\" };\n\t\t\t\t} else {\n\t\t\t\t\tvalues = Array.from(ev.target.elements)\n\t\t\t\t\t\t.filter((el) => el.type !== \"submit\")\n\t\t\t\t\t\t.reduce((o, el) => ({ ...o, [el.name]: el.value }), {});\n\t\t\t\t}\n\n\t\t\t\tee.emit(\"login:post\", values);\n\t\t\t},\n\t\t},\n\t\tview,\n\t\t$container\n\t);\n\n\tee.on(\"login:start\", () => a.setLoading(true));\n\tee.on(\"login:stop\", () => a.setLoading(false));\n\tee.on(\"login:error\", (err) => a.setError(err));\n\n\treturn ee;\n};\n\nexport default create;\n",
    "static": true,
    "longname": "/home/runner/work/meeseOS/meeseOS/frontend/client/src/adapters/ui/login.js",
    "access": "public",
    "description": null,
    "lineNumber": 1
  },
  {
    "__docId__": 83,
    "kind": "function",
    "name": "createAttributes",
    "memberof": "src/adapters/ui/login.js",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "src/adapters/ui/login.js~createAttributes",
    "access": "public",
    "export": false,
    "importPath": "@meeseOS/client/src/adapters/ui/login.js",
    "importStyle": null,
    "description": "Creates the attributes for a given field",
    "lineNumber": 41,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{Object}"
      }
    ],
    "params": [
      {
        "nullable": null,
        "types": [
          "Object"
        ],
        "spread": false,
        "optional": false,
        "name": "props",
        "description": ""
      },
      {
        "nullable": null,
        "types": [
          "HTMLElement"
        ],
        "spread": false,
        "optional": false,
        "name": "field",
        "description": ""
      },
      {
        "nullable": null,
        "types": [
          "Boolean"
        ],
        "spread": false,
        "optional": false,
        "name": "disabled",
        "description": ""
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "Object"
      ],
      "spread": false,
      "description": ""
    },
    "ignore": true
  },
  {
    "__docId__": 84,
    "kind": "function",
    "name": "createFields",
    "memberof": "src/adapters/ui/login.js",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "src/adapters/ui/login.js~createFields",
    "access": "public",
    "export": false,
    "importPath": "@meeseOS/client/src/adapters/ui/login.js",
    "importStyle": null,
    "description": "Creates the fields for the login form",
    "lineNumber": 67,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{Array}"
      }
    ],
    "params": [
      {
        "nullable": null,
        "types": [
          "Object"
        ],
        "spread": false,
        "optional": false,
        "name": "props",
        "description": ""
      },
      {
        "nullable": null,
        "types": [
          "HTMLElement[]"
        ],
        "spread": false,
        "optional": false,
        "name": "fields",
        "description": ""
      },
      {
        "nullable": null,
        "types": [
          "Boolean"
        ],
        "spread": false,
        "optional": false,
        "name": "disabled",
        "description": ""
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "Array"
      ],
      "spread": false,
      "description": ""
    },
    "ignore": true
  },
  {
    "__docId__": 85,
    "kind": "function",
    "name": "createView",
    "memberof": "src/adapters/ui/login.js",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "src/adapters/ui/login.js~createView",
    "access": "public",
    "export": false,
    "importPath": "@meeseOS/client/src/adapters/ui/login.js",
    "importStyle": null,
    "description": "Creates the view for the login UI",
    "lineNumber": 100,
    "params": [
      {
        "nullable": null,
        "types": [
          "Object"
        ],
        "spread": false,
        "optional": false,
        "name": "options",
        "description": ""
      }
    ],
    "return": {
      "types": [
        "*"
      ]
    },
    "ignore": true
  },
  {
    "__docId__": 86,
    "kind": "function",
    "name": "create",
    "memberof": "src/adapters/ui/login.js",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "src/adapters/ui/login.js~create",
    "access": "public",
    "export": true,
    "importPath": "@meeseOS/client/src/adapters/ui/login.js",
    "importStyle": "create",
    "description": "Login UI Adapter",
    "lineNumber": 210,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{EventEmitter}"
      }
    ],
    "params": [
      {
        "nullable": null,
        "types": [
          "Object"
        ],
        "spread": false,
        "optional": false,
        "name": "options",
        "description": ""
      },
      {
        "nullable": null,
        "types": [
          "*"
        ],
        "spread": false,
        "optional": false,
        "name": "login",
        "description": ""
      },
      {
        "nullable": null,
        "types": [
          "*"
        ],
        "spread": false,
        "optional": false,
        "name": "startHidden",
        "description": ""
      },
      {
        "nullable": null,
        "types": [
          "*"
        ],
        "spread": false,
        "optional": false,
        "name": "$container",
        "description": ""
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "EventEmitter"
      ],
      "spread": false,
      "description": ""
    }
  },
  {
    "__docId__": 87,
    "kind": "file",
    "name": "src/adapters/ui/search.js",
    "content": "/**\n * OS.js - JavaScript Cloud/Web Desktop Platform\n *\n * Copyright (c) 2011-Present, Anders Evenrud <andersevenrud@gmail.com>\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *\n * 1. Redistributions of source code must retain the above copyright notice, this\n *    list of conditions and the following disclaimer\n * 2. Redistributions in binary form must reproduce the above copyright notice,\n *    this list of conditions and the following disclaimer in the documentation\n *    and/or other materials provided with the distribution\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\n * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR\n * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n *\n * @author  Anders Evenrud <andersevenrud@gmail.com>\n * @license Simplified BSD License\n */\n\nimport { app, h } from \"hyperapp\";\nimport { EventEmitter } from \"@meeseOS/event-emitter\";\n\nconst createView = (core, fs, icon) => {\n\tconst resultView = ({ results, index }, actions) =>\n\t\tresults.map((r, i) =>\n\t\t\th(\n\t\t\t\t\"li\",\n\t\t\t\t{\n\t\t\t\t\tonclick: () => actions.open(i),\n\t\t\t\t\tonupdate: (el) => {\n\t\t\t\t\t\tif (i === index) {\n\t\t\t\t\t\t\tel.scrollIntoView();\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\tclass: [\n\t\t\t\t\t\t\"meeseOS-search-result\",\n\t\t\t\t\t\tindex === i ? \"meeseOS__active\" : \"\",\n\t\t\t\t\t].join(\" \"),\n\t\t\t\t},\n\t\t\t\t[\n\t\t\t\t\th(\"img\", { src: icon(fs.icon(r).name) }),\n\t\t\t\t\th(\"span\", {}, `${r.path} (${r.mime})`),\n\t\t\t\t]\n\t\t\t)\n\t\t);\n\n\treturn (state, actions) =>\n\t\th(\n\t\t\t\"div\",\n\t\t\t{\n\t\t\t\tclass: \"meeseOS-search-container meeseOS-notification\",\n\t\t\t\tstyle: {\n\t\t\t\t\tdisplay: state.visible ? undefined : \"none\",\n\t\t\t\t},\n\t\t\t},\n\t\t\t[\n\t\t\t\th(\"input\", {\n\t\t\t\t\ttype: \"text\",\n\t\t\t\t\tplaceholder: \"Search filesystems...\",\n\t\t\t\t\tclass: \"meeseOS-search-input\",\n\t\t\t\t\tvalue: state.query,\n\t\t\t\t\tonblur: () => {\n\t\t\t\t\t\tif (!state.value) {\n\t\t\t\t\t\t\tsetTimeout(() => actions.toggle(false), 300);\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\toninput: (ev) => actions.setQuery(ev.target.value),\n\t\t\t\t\tonkeydown: (ev) => {\n\t\t\t\t\t\tif (ev.keyCode === 38) {\n\t\t\t\t\t\t\t// Up\n\t\t\t\t\t\t\tactions.setPreviousIndex();\n\t\t\t\t\t\t} else if (ev.keyCode === 40) {\n\t\t\t\t\t\t\t// Down\n\t\t\t\t\t\t\tactions.setNextIndex();\n\t\t\t\t\t\t} else if (ev.keyCode === 27) {\n\t\t\t\t\t\t\t// Escape\n\t\t\t\t\t\t\tactions.resetIndex();\n\n\t\t\t\t\t\t\tif (state.index === -1) {\n\t\t\t\t\t\t\t\tactions.hide();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\tonkeypress: (ev) => {\n\t\t\t\t\t\tif (ev.keyCode === 13) {\n\t\t\t\t\t\t\tif (state.index >= 0) {\n\t\t\t\t\t\t\t\tactions.open(state.index);\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tactions.search(\n\t\t\t\t\t\t\t\t\tstate.query.replace(/\\*?$/, \"*\").replace(/^\\*?/, \"*\")\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t}),\n\t\t\t\th(\n\t\t\t\t\t\"div\",\n\t\t\t\t\t{\n\t\t\t\t\t\t\"data-error\": Boolean(state.error),\n\t\t\t\t\t\tclass: \"meeseOS-search-message\",\n\t\t\t\t\t\tstyle: {\n\t\t\t\t\t\t\tdisplay: state.error || state.status ? \"block\" : \"none\",\n\t\t\t\t\t\t},\n\t\t\t\t\t},\n\t\t\t\t\tstate.error || state.status\n\t\t\t\t),\n\t\t\t\th(\n\t\t\t\t\t\"ol\",\n\t\t\t\t\t{\n\t\t\t\t\t\tclass: \"meeseOS-search-results\",\n\t\t\t\t\t\tstyle: {\n\t\t\t\t\t\t\tdisplay: state.results.length ? undefined : \"none\",\n\t\t\t\t\t\t},\n\t\t\t\t\t},\n\t\t\t\t\tresultView(state, actions)\n\t\t\t\t),\n\t\t\t]\n\t\t);\n};\n\n/**\n * Search UI Adapter.\n * @param {Core} core MeeseOS Core instance reference\n * @param {HTMLElement} $element Element to mount to\n * @returns {EventEmitter} The SearchUI event emitter\n */\nconst create = (core, $element) => {\n\tconst fs = core.make(\"meeseOS/fs\");\n\tconst { icon } = core.make(\"meeseOS/theme\");\n\tconst view = createView(core, fs, icon);\n\tconst ee = new EventEmitter(\"SearchUI\");\n\n\tconst hyperapp = app(\n\t\t{\n\t\t\tquery: \"\",\n\t\t\tindex: -1,\n\t\t\tstatus: undefined,\n\t\t\terror: null,\n\t\t\tvisible: false,\n\t\t\tresults: [],\n\t\t},\n\t\t{\n\t\t\tsearch: (query) => {\n\t\t\t\tee.emit(\"search\", query);\n\n\t\t\t\treturn { status: \"Searching...\" };\n\t\t\t},\n\t\t\topen: (index) => (state, actions) => {\n\t\t\t\tconst iter = state.results[index];\n\t\t\t\tif (iter) {\n\t\t\t\t\tee.emit(\"open\", iter);\n\t\t\t\t}\n\n\t\t\t\tactions.toggle(false);\n\t\t\t},\n\t\t\tresetIndex: () => () => ({\n\t\t\t\tindex: -1,\n\t\t\t}),\n\t\t\tsetNextIndex: () => (state) => ({\n\t\t\t\tindex: (state.index + 1) % state.results.length,\n\t\t\t}),\n\t\t\tsetPreviousIndex: () => (state) => ({\n\t\t\t\tindex: state.index <= 0 ? state.results.length - 1 : state.index - 1,\n\t\t\t}),\n\t\t\tsetError: (error) => () => ({\n\t\t\t\terror,\n\t\t\t\tstatus: undefined,\n\t\t\t\tindex: -1,\n\t\t\t}),\n\t\t\tsetResults: (results) => () => ({\n\t\t\t\tresults,\n\t\t\t\tindex: -1,\n\t\t\t\tstatus: `Showing ${results.length} results`,\n\t\t\t}),\n\t\t\tsetQuery: (query) => () => ({\n\t\t\t\tquery,\n\t\t\t}),\n\t\t\thide: () => {\n\t\t\t\tee.emit(\"hide\");\n\t\t\t},\n\t\t\ttoggle: (visible) => (state) => ({\n\t\t\t\tquery: \"\",\n\t\t\t\tresults: [],\n\t\t\t\tindex: -1,\n\t\t\t\tstatus: undefined,\n\t\t\t\terror: null,\n\t\t\t\tvisible: typeof visible === \"boolean\" ? visible : !state.visible,\n\t\t\t}),\n\t\t},\n\t\tview,\n\t\t$element\n\t);\n\n\tee.on(\"error\", (error) => hyperapp.setError(error));\n\tee.on(\"success\", (results) => hyperapp.setResults(results));\n\tee.on(\"toggle\", (toggle) => hyperapp.toggle(toggle));\n\tee.on(\"focus\", () => {\n\t\tconst el = $element.querySelector(\".meeseOS-search-input\");\n\t\tif (el) {\n\t\t\tel.focus();\n\t\t}\n\t});\n\n\treturn ee;\n};\n\nexport default create;\n",
    "static": true,
    "longname": "/home/runner/work/meeseOS/meeseOS/frontend/client/src/adapters/ui/search.js",
    "access": "public",
    "description": null,
    "lineNumber": 1
  },
  {
    "__docId__": 88,
    "kind": "function",
    "name": "createView",
    "memberof": "src/adapters/ui/search.js",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "src/adapters/ui/search.js~createView",
    "access": "public",
    "export": false,
    "importPath": "@meeseOS/client/src/adapters/ui/search.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 34,
    "undocument": true,
    "params": [
      {
        "name": "core",
        "types": [
          "*"
        ]
      },
      {
        "name": "fs",
        "types": [
          "*"
        ]
      },
      {
        "name": "icon",
        "types": [
          "*"
        ]
      }
    ],
    "return": {
      "types": [
        "*"
      ]
    },
    "ignore": true
  },
  {
    "__docId__": 89,
    "kind": "function",
    "name": "create",
    "memberof": "src/adapters/ui/search.js",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "src/adapters/ui/search.js~create",
    "access": "public",
    "export": true,
    "importPath": "@meeseOS/client/src/adapters/ui/search.js",
    "importStyle": "create",
    "description": "Search UI Adapter.",
    "lineNumber": 138,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{EventEmitter} The SearchUI event emitter"
      }
    ],
    "params": [
      {
        "nullable": null,
        "types": [
          "Core"
        ],
        "spread": false,
        "optional": false,
        "name": "core",
        "description": "MeeseOS Core instance reference"
      },
      {
        "nullable": null,
        "types": [
          "HTMLElement"
        ],
        "spread": false,
        "optional": false,
        "name": "$element",
        "description": "Element to mount to"
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "EventEmitter"
      ],
      "spread": false,
      "description": "The SearchUI event emitter"
    }
  },
  {
    "__docId__": 90,
    "kind": "file",
    "name": "src/adapters/vfs/apps.js",
    "content": "/**\n * OS.js - JavaScript Cloud/Web Desktop Platform\n *\n * Copyright (c) 2011-Present, Anders Evenrud <andersevenrud@gmail.com>\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *\n * 1. Redistributions of source code must retain the above copyright notice, this\n *    list of conditions and the following disclaimer\n * 2. Redistributions in binary form must reproduce the above copyright notice,\n *    this list of conditions and the following disclaimer in the documentation\n *    and/or other materials provided with the distribution\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\n * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR\n * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n *\n * @author  Anders Evenrud <andersevenrud@gmail.com>\n * @license Simplified BSD License\n */\n\n/**\n * Application VFS adapter\n * @param {Core} core MeeseOS Core instance reference\n * @param {Object} [options] Adapter options\n */\nconst adapter = (core) => {\n\tconst pkgs = core.make(\"meeseOS/packages\");\n\n\treturn {\n\t\treaddir: ({ path }, options) => {\n\t\t\treturn Promise.resolve(pkgs.getPackages()).then((pkgs) =>\n\t\t\t\tpkgs.map((pkg) => ({\n\t\t\t\t\tisDirectory: false,\n\t\t\t\t\tisFile: true,\n\t\t\t\t\tfilename: pkg.name,\n\t\t\t\t\tmime: \"meeseOS/application\",\n\t\t\t\t\tpath: `${path.replace(/(\\/+)?$/, \"/\")}${pkg.name}`,\n\t\t\t\t\tsize: 0,\n\t\t\t\t\tstat: {},\n\t\t\t\t\ticon: pkg.icon ? core.url(pkg.icon, {}, pkg) : null,\n\t\t\t\t}))\n\t\t\t);\n\t\t},\n\t};\n};\n\nexport default adapter;\n",
    "static": true,
    "longname": "/home/runner/work/meeseOS/meeseOS/frontend/client/src/adapters/vfs/apps.js",
    "access": "public",
    "description": null,
    "lineNumber": 1
  },
  {
    "__docId__": 91,
    "kind": "function",
    "name": "adapter",
    "memberof": "src/adapters/vfs/apps.js",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "src/adapters/vfs/apps.js~adapter",
    "access": "public",
    "export": true,
    "importPath": "@meeseOS/client/src/adapters/vfs/apps.js",
    "importStyle": "adapter",
    "description": "Application VFS adapter",
    "lineNumber": 36,
    "params": [
      {
        "nullable": null,
        "types": [
          "Core"
        ],
        "spread": false,
        "optional": false,
        "name": "core",
        "description": "MeeseOS Core instance reference"
      },
      {
        "nullable": null,
        "types": [
          "Object"
        ],
        "spread": false,
        "optional": true,
        "name": "options",
        "description": "Adapter options"
      }
    ],
    "return": {
      "types": [
        "{\"readdir\": *}"
      ]
    }
  },
  {
    "__docId__": 92,
    "kind": "file",
    "name": "src/adapters/vfs/null.js",
    "content": "/**\n * OS.js - JavaScript Cloud/Web Desktop Platform\n *\n * Copyright (c) 2011-Present, Anders Evenrud <andersevenrud@gmail.com>\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *\n * 1. Redistributions of source code must retain the above copyright notice, this\n *    list of conditions and the following disclaimer\n * 2. Redistributions in binary form must reproduce the above copyright notice,\n *    this list of conditions and the following disclaimer in the documentation\n *    and/or other materials provided with the distribution\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\n * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR\n * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n *\n * @author  Anders Evenrud <andersevenrud@gmail.com>\n * @license Simplified BSD License\n */\n\n/**\n * Null VFS adapter\n * @param {Core} core MeeseOS Core instance reference\n * @param {Object} [options] Adapter options\n */\nconst nullAdapter = {\n\tcapabilities: (path, options) => Promise.resolve({}),\n\treaddir: (path, options) => Promise.resolve([]),\n\treadfile: (path, type, options) =>\n\t\tPromise.resolve({\n\t\t\tbody: new ArrayBuffer(),\n\t\t\tmime: \"application/octet-stream\",\n\t\t}),\n\twritefile: (path, data, options) => Promise.resolve(-1),\n\tcopy: (from, to, options) => Promise.resolve(false),\n\trename: (from, to, options) => Promise.resolve(false),\n\tmkdir: (path, options) => Promise.resolve(false),\n\tunlink: (path, options) => Promise.resolve(false),\n\texists: (path, options) => Promise.resolve(false),\n\tstat: (path, options) => Promise.resolve({}),\n\turl: (path, options) => Promise.resolve(null),\n\tmount: (options) => Promise.resolve(true),\n\tunmount: (options) => Promise.resolve(true),\n\tsearch: (root, pattern, options) => Promise.resolve([]),\n\ttouch: (path, options) => Promise.resolve(false),\n\tarchive: (selection, options) => Promise.resolve(false),\n};\n\nexport default nullAdapter;\n",
    "static": true,
    "longname": "/home/runner/work/meeseOS/meeseOS/frontend/client/src/adapters/vfs/null.js",
    "access": "public",
    "description": null,
    "lineNumber": 1
  },
  {
    "__docId__": 93,
    "kind": "variable",
    "name": "nullAdapter",
    "memberof": "src/adapters/vfs/null.js",
    "static": true,
    "longname": "src/adapters/vfs/null.js~nullAdapter",
    "access": "public",
    "export": true,
    "importPath": "@meeseOS/client/src/adapters/vfs/null.js",
    "importStyle": "nullAdapter",
    "description": "Null VFS adapter",
    "lineNumber": 36,
    "params": [
      {
        "nullable": null,
        "types": [
          "Core"
        ],
        "spread": false,
        "optional": false,
        "name": "core",
        "description": "MeeseOS Core instance reference"
      },
      {
        "nullable": null,
        "types": [
          "Object"
        ],
        "spread": false,
        "optional": true,
        "name": "options",
        "description": "Adapter options"
      }
    ],
    "type": {
      "types": [
        "{\"capabilities\": *, \"readdir\": *, \"readfile\": *, \"writefile\": *, \"copy\": *, \"rename\": *, \"mkdir\": *, \"unlink\": *, \"exists\": *, \"stat\": *, \"url\": *, \"mount\": *, \"unmount\": *, \"search\": *, \"touch\": *, \"archive\": *}"
      ]
    }
  },
  {
    "__docId__": 94,
    "kind": "file",
    "name": "src/adapters/vfs/system.js",
    "content": "/**\n * OS.js - JavaScript Cloud/Web Desktop Platform\n *\n * Copyright (c) 2011-Present, Anders Evenrud <andersevenrud@gmail.com>\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *\n * 1. Redistributions of source code must retain the above copyright notice, this\n *    list of conditions and the following disclaimer\n * 2. Redistributions in binary form must reproduce the above copyright notice,\n *    this list of conditions and the following disclaimer in the documentation\n *    and/or other materials provided with the distribution\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\n * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR\n * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n *\n * @author  Anders Evenrud <andersevenrud@gmail.com>\n * @license Simplified BSD License\n */\n\nconst getters = [\"capabilities\", \"exists\", \"stat\", \"readdir\", \"readfile\"];\n\n/**\n * Middleware for the VFS system adapter.\n *\n * @param {String} fn The function to call\n * @param {*} body The body to pass to the function\n * @param {String} type The content type\n * @param {Object} [options] Adapter options\n * @returns {Object}\n */\nconst requester = (core) =>\n\t(fn, body, type, options = {}) =>\n\t\tcore.request(`/vfs/${fn}`,\n\t\t\t{\n\t\t\t\t// FIXME: The `options` here is being stringified to `[object Object]`\n\t\t\t\tbody,\n\t\t\t\tmethod: getters.indexOf(fn) !== -1 ? \"get\" : \"post\",\n\t\t\t\t...options,\n\t\t\t},\n\t\t\ttype\n\t\t).then((response) => {\n\t\t\tif (type === \"json\") {\n\t\t\t\treturn { mime: \"application/json\", body: response };\n\t\t\t} else if (fn === \"writefile\") {\n\t\t\t\treturn response.json();\n\t\t\t}\n\n\t\t\tconst contentType = response.headers.get(\"content-type\")\n\t\t\t\t|| \"application/octet-stream\";\n\n\t\t\treturn response.arrayBuffer().then((result) => ({\n\t\t\t\tmime: contentType,\n\t\t\t\tbody: result,\n\t\t\t}));\n\t\t});\n\n/**\n * Provides the methods for VFS system adapter.\n * @param {Core} core MeeseOS Core instance reference\n * @param {Function} request VFS abstraction function\n * @returns {Object}\n */\nconst methods = (core, request) => {\n\tconst passthrough = (name) =>\n\t\t({ path }, options) =>\n\t\t\trequest(name, { path, options }, \"json\").then(({ body }) => body);\n\n\treturn {\n\t\tcapabilities: passthrough(\"capabilities\"),\n\t\treaddir: passthrough(\"readdir\"),\n\n\t\treadfile: ({ path }, type, options) =>\n\t\t\trequest(\"readfile\", { path, options }),\n\n\t\twritefile: ({ path }, data, options = {}) => {\n\t\t\tconst formData = new FormData();\n\t\t\tformData.append(\"upload\", data);\n\t\t\tformData.append(\"path\", path);\n\t\t\tformData.append(\"options\", options);\n\n\t\t\treturn request(\"writefile\", formData, undefined, {\n\t\t\t\tonProgress: options.onProgress,\n\t\t\t\txhr: Boolean(options.onProgress),\n\t\t\t});\n\t\t},\n\n\t\tcopy: (from, to, options) =>\n\t\t\trequest(\"copy\", { from: from.path, to: to.path, options }, \"json\").then(\n\t\t\t\t({ body }) => body\n\t\t\t),\n\n\t\trename: (from, to, options) =>\n\t\t\trequest(\"rename\", { from: from.path, to: to.path, options }, \"json\").then(\n\t\t\t\t({ body }) => body\n\t\t\t),\n\n\t\tmkdir: passthrough(\"mkdir\"),\n\t\tunlink: passthrough(\"unlink\"),\n\t\texists: passthrough(\"exists\"),\n\t\tstat: passthrough(\"stat\"),\n\n\t\turl: ({ path }, options) =>\n\t\t\tPromise.resolve(\n\t\t\t\tcore.url(`/vfs/readfile?path=${encodeURIComponent(path)}`)\n\t\t\t),\n\n\t\tsearch: ({ path }, pattern, options) =>\n\t\t\trequest(\"search\", { root: path, pattern, options }, \"json\").then(\n\t\t\t\t({ body }) => body\n\t\t\t),\n\n\t\ttouch: ({ path }, options) =>\n\t\t\trequest(\"touch\", { path, options }, \"json\").then(({ body }) => body),\n\n\t\tdownload: ({ path }, options = {}) => {\n\t\t\tconst json = encodeURIComponent(JSON.stringify({ download: true }));\n\n\t\t\treturn Promise.resolve(\n\t\t\t\t`/vfs/readfile?options=${json}&path=` + encodeURIComponent(path)\n\t\t\t).then((url) => {\n\t\t\t\treturn (options.target || window).open(url);\n\t\t\t});\n\t\t},\n\n\t\tarchive: (selection, options = {}) => {\n\t\t\tconst paths = selection.map((item) => item.path);\n\t\t\treturn request(\"archive\", { selection: paths, options }, \"json\").then(\n\t\t\t\t({ body }) => body\n\t\t\t);\n\t\t},\n\t};\n};\n\n/**\n * System VFS adapter.\n * @param {Core} core MeeseOS Core instance reference\n * @param {Object} [options] Adapter options\n * @returns {Object}\n */\nconst adapter = (core) => {\n\tconst request = requester(core);\n\n\treturn methods(core, request);\n};\n\nexport default adapter;\n",
    "static": true,
    "longname": "/home/runner/work/meeseOS/meeseOS/frontend/client/src/adapters/vfs/system.js",
    "access": "public",
    "description": null,
    "lineNumber": 1
  },
  {
    "__docId__": 95,
    "kind": "variable",
    "name": "getters",
    "memberof": "src/adapters/vfs/system.js",
    "static": true,
    "longname": "src/adapters/vfs/system.js~getters",
    "access": "public",
    "export": false,
    "importPath": "@meeseOS/client/src/adapters/vfs/system.js",
    "importStyle": null,
    "description": "OS.js - JavaScript Cloud/Web Desktop Platform\n\nCopyright (c) 2011-Present, Anders Evenrud <andersevenrud@gmail.com>\nAll rights reserved.\n\nRedistribution and use in source and binary forms, with or without\nmodification, are permitted provided that the following conditions are met:\n\n1. Redistributions of source code must retain the above copyright notice, this\n   list of conditions and the following disclaimer\n2. Redistributions in binary form must reproduce the above copyright notice,\n   this list of conditions and the following disclaimer in the documentation\n   and/or other materials provided with the distribution\n\nTHIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\nANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\nWARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\nDISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR\nANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n(INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\nLOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\nON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n(INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\nSOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.",
    "lineNumber": 31,
    "unknown": [
      {
        "tagName": "@author",
        "tagValue": " Anders Evenrud <andersevenrud@gmail.com>"
      },
      {
        "tagName": "@license",
        "tagValue": "Simplified BSD License"
      }
    ],
    "type": {
      "types": [
        "string[]"
      ]
    },
    "ignore": true
  },
  {
    "__docId__": 96,
    "kind": "function",
    "name": "requester",
    "memberof": "src/adapters/vfs/system.js",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "src/adapters/vfs/system.js~requester",
    "access": "public",
    "export": false,
    "importPath": "@meeseOS/client/src/adapters/vfs/system.js",
    "importStyle": null,
    "description": "Middleware for the VFS system adapter.",
    "lineNumber": 42,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{Object}"
      }
    ],
    "params": [
      {
        "nullable": null,
        "types": [
          "String"
        ],
        "spread": false,
        "optional": false,
        "name": "fn",
        "description": "The function to call"
      },
      {
        "nullable": null,
        "types": [
          "*"
        ],
        "spread": false,
        "optional": false,
        "name": "body",
        "description": "The body to pass to the function"
      },
      {
        "nullable": null,
        "types": [
          "String"
        ],
        "spread": false,
        "optional": false,
        "name": "type",
        "description": "The content type"
      },
      {
        "nullable": null,
        "types": [
          "Object"
        ],
        "spread": false,
        "optional": true,
        "name": "options",
        "description": "Adapter options"
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "Object"
      ],
      "spread": false,
      "description": ""
    },
    "ignore": true
  },
  {
    "__docId__": 97,
    "kind": "function",
    "name": "methods",
    "memberof": "src/adapters/vfs/system.js",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "src/adapters/vfs/system.js~methods",
    "access": "public",
    "export": false,
    "importPath": "@meeseOS/client/src/adapters/vfs/system.js",
    "importStyle": null,
    "description": "Provides the methods for VFS system adapter.",
    "lineNumber": 74,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{Object}"
      }
    ],
    "params": [
      {
        "nullable": null,
        "types": [
          "Core"
        ],
        "spread": false,
        "optional": false,
        "name": "core",
        "description": "MeeseOS Core instance reference"
      },
      {
        "nullable": null,
        "types": [
          "Function"
        ],
        "spread": false,
        "optional": false,
        "name": "request",
        "description": "VFS abstraction function"
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "Object"
      ],
      "spread": false,
      "description": ""
    },
    "ignore": true
  },
  {
    "__docId__": 98,
    "kind": "function",
    "name": "adapter",
    "memberof": "src/adapters/vfs/system.js",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "src/adapters/vfs/system.js~adapter",
    "access": "public",
    "export": true,
    "importPath": "@meeseOS/client/src/adapters/vfs/system.js",
    "importStyle": "adapter",
    "description": "System VFS adapter.",
    "lineNumber": 151,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{Object}"
      }
    ],
    "params": [
      {
        "nullable": null,
        "types": [
          "Core"
        ],
        "spread": false,
        "optional": false,
        "name": "core",
        "description": "MeeseOS Core instance reference"
      },
      {
        "nullable": null,
        "types": [
          "Object"
        ],
        "spread": false,
        "optional": true,
        "name": "options",
        "description": "Adapter options"
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "Object"
      ],
      "spread": false,
      "description": ""
    }
  },
  {
    "__docId__": 99,
    "kind": "file",
    "name": "src/application.js",
    "content": "/**\n * OS.js - JavaScript Cloud/Web Desktop Platform\n *\n * Copyright (c) 2011-Present, Anders Evenrud <andersevenrud@gmail.com>\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *\n * 1. Redistributions of source code must retain the above copyright notice, this\n *    list of conditions and the following disclaimer\n * 2. Redistributions in binary form must reproduce the above copyright notice,\n *    this list of conditions and the following disclaimer in the documentation\n *    and/or other materials provided with the distribution\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\n * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR\n * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n *\n * @author  Anders Evenrud <andersevenrud@gmail.com>\n * @license Simplified BSD License\n */\n\nimport { EventEmitter } from \"@meeseOS/event-emitter\";\nimport { loadOptionsFromConfig } from \"./utils/windows\";\nimport logger from \"./logger\";\nimport merge from \"deepmerge\";\nimport Websocket from \"./websocket\";\nimport Window from \"./window\";\n\nconst applications = [];\nlet applicationCount = 0;\n\nconst getSettingsKey = (metadata) => \"meeseOS/application/\" + metadata.name;\n\n/**\n * Application Options\n *\n * @typedef {Object} ApplicationOptions\n * @property {Object} [settings] Initial settings\n * @property {Object} [restore] Restore data\n * @property {Boolean} [windowAutoFocus=true] Auto-focus first created window\n * @property {Boolean} [sessionable=true] Allow session storage\n */\n\n/**\n * Application Data\n *\n * @typedef {Object} ApplicationData\n * @property {{foo: *}} args Launch arguments\n * @property {ApplicationOptions} [options] Options\n * @property {PackageMetadata} [metadata] Package Metadata\n */\n\n/**\n * Application Session\n *\n * @typedef {Object} ApplicationSession\n * @property {{foo: string}} args\n * @property {String} name\n * @property {WindowSession[]} windows\n */\n\n/**\n * Base class for an Application\n */\nexport default class Application extends EventEmitter {\n\t/**\n\t * Create application\n\t *\n\t * @param {Core} core MeeseOS Core instance reference\n\t * @param {ApplicationData} data Application data\n\t */\n\tconstructor(core, data) {\n\t\tdata = {\n\t\t\targs: {},\n\t\t\toptions: {},\n\t\t\tmetadata: {},\n\t\t\t...data,\n\t\t};\n\n\t\tlogger.debug(\"Application::constructor()\", data);\n\n\t\tconst defaultSettings = data.options.settings\n\t\t\t? { ...data.options.settings }\n\t\t\t: {};\n\n\t\tconst name = data.metadata && data.metadata.name\n\t\t\t? \"Application@\" + data.metadata.name\n\t\t\t: \"Application\" + String(applicationCount);\n\n\t\tsuper(name);\n\n\t\t/**\n\t\t * The Application ID\n\t\t * @type {Number}\n\t\t * @readonly\n\t\t */\n\t\tthis.pid = applicationCount;\n\n\t\t/**\n\t\t * Core instance reference\n\t\t * @type {Core}\n\t\t * @readonly\n\t\t */\n\t\tthis.core = core;\n\n\t\t/**\n\t\t * Application arguments\n\t\t * @type {{foo: *}}\n\t\t */\n\t\tthis.args = data.args;\n\n\t\t/**\n\t\t * Application options\n\t\t * @type {ApplicationOptions}\n\t\t */\n\t\tthis.options = {\n\t\t\tsessionable: true,\n\t\t\twindowAutoFocus: true,\n\t\t\t...data.options,\n\t\t};\n\n\t\t/**\n\t\t * Application metadata\n\t\t * @type {PackageMetadata}\n\t\t * @readonly\n\t\t */\n\t\tthis.metadata = data.metadata;\n\n\t\t/**\n\t\t * Window list\n\t\t * @type {Window[]}\n\t\t */\n\t\tthis.windows = [];\n\n\t\t/**\n\t\t * Worker instances\n\t\t * @type {Worker[]}\n\t\t */\n\t\tthis.workers = [];\n\n\t\t/**\n\t\t * Options for internal fetch/requests\n\t\t * @type {Object}\n\t\t */\n\t\tthis.requestOptions = {};\n\n\t\t/**\n\t\t * The application destruction state\n\t\t * @type {Boolean}\n\t\t */\n\t\tthis.destroyed = false;\n\n\t\t/**\n\t\t * Application settings\n\t\t * @type {{foo: *}}\n\t\t */\n\t\tthis.settings = core\n\t\t\t.make(\"meeseOS/settings\")\n\t\t\t.get(getSettingsKey(this.metadata), null, defaultSettings);\n\n\t\t/**\n\t\t * Application started time\n\t\t * @type {Date}\n\t\t * @readonly\n\t\t */\n\t\tthis.started = new Date();\n\n\t\t/**\n\t\t * Application WebSockets\n\t\t * @type {Websocket[]}\n\t\t */\n\t\tthis.sockets = [];\n\n\t\tapplications.push(this);\n\t\tapplicationCount++;\n\n\t\tthis.core.emit(\"meeseOS/application:create\", this);\n\t}\n\n\t/**\n\t * Destroy application\n\t */\n\tdestroy(remove = true) {\n\t\tif (this.destroyed) return;\n\n\t\tthis.destroyed = true;\n\t\tthis.emit(\"destroy\");\n\t\tthis.core.emit(\"meeseOS/application:destroy\", this);\n\n\t\tconst destroy = (list, fn) => {\n\t\t\ttry {\n\t\t\t\tlist.forEach(fn);\n\t\t\t} catch (e) {\n\t\t\t\tlogger.warn(\"Exception on application destruction\", e);\n\t\t\t}\n\n\t\t\treturn [];\n\t\t};\n\n\t\tthis.windows = destroy(this.windows, (window) => window.destroy());\n\t\tthis.sockets = destroy(this.sockets, (ws) => ws.close());\n\t\tthis.workers = destroy(this.workers, (worker) => worker.terminate());\n\n\t\tif (remove) {\n\t\t\tconst foundIndex = applications.findIndex((a) => a === this);\n\t\t\tif (foundIndex !== -1) {\n\t\t\t\tapplications.splice(foundIndex, 1);\n\t\t\t}\n\t\t}\n\n\t\tsuper.destroy();\n\t}\n\n\t/**\n\t * Re-launch this application\n\t */\n\trelaunch() {\n\t\tconst windows = this.windows.map((w) => w.getSession());\n\n\t\tthis.destroy();\n\n\t\tsetTimeout(() => {\n\t\t\tthis.core.run(\n\t\t\t\tthis.metadata.name,\n\t\t\t\t{ ...this.args },\n\t\t\t\t{\n\t\t\t\t\t...this.options,\n\t\t\t\t\tforcePreload: this.core.config(\"development\"),\n\t\t\t\t\trestore: { windows },\n\t\t\t\t}\n\t\t\t);\n\t\t}, 1);\n\t}\n\n\t/**\n\t * Gets a URI to a resource for this application\n\t *\n\t * If given path is an URI it will just return itself.\n\t *\n\t * @param {String} path The path\n\t * @param {Object} [options] Options for url() in core\n\t * @returns {String} A complete URI\n\t */\n\tresource(path = \"/\", options = {}) {\n\t\treturn this.core.url(path, options, this.metadata);\n\t}\n\n\t/**\n\t * Performs a request to the MeeseOS server with the application\n\t * as the endpoint.\n\t * @param {String} [path=/] Append this to endpoint\n\t * @param {Options} [options] fetch options\n\t * @param {String} [type='json'] Request / Response type\n\t * @returns {Promise<*>} ArrayBuffer or JSON\n\t */\n\trequest(path = \"/\", options = {}, type = \"json\") {\n\t\tconst uri = this.resource(path);\n\n\t\treturn this.core.request(uri, options, type);\n\t}\n\n\t/**\n\t * Creates a new Websocket.\n\t * @param {String} [path=/socket] Append this to endpoint\n\t * @param {WebsocketOptions} [options={}] Connection options\n\t * @returns {Websocket}\n\t */\n\tsocket(path = \"/socket\", options = {}) {\n\t\toptions = {\n\t\t\tsocket: {},\n\t\t\t...options,\n\t\t};\n\n\t\tconst uri = this.resource(path, { type: \"websocket\" });\n\t\tconst ws = new Websocket(this.metadata.name, uri, options.socket);\n\n\t\tthis.sockets.push(ws);\n\n\t\treturn ws;\n\t}\n\n\t/**\n\t * Sends a message over Websocket via the core connection.\n\t *\n\t * This does not create a new connection, but rather uses the core connection.\n\t * For subscribing to messages from the server use the 'ws:message' event\n\t *\n\t * @param {*} ...args Arguments to pass to message\n\t */\n\tsend(...args) {\n\t\tthis.core.send(\"meeseOS/application:socket:message\", {\n\t\t\tpid: this.pid,\n\t\t\tname: this.metadata.name,\n\t\t\targs,\n\t\t});\n\t}\n\n\t/**\n\t * Creates a new Worker\n\t * @param {String} filename Worker filename\n\t * @param {Object} [options] Worker options\n\t * @returns {Worker}\n\t */\n\tworker(filename, options = {}) {\n\t\tconst uri = this.resource(filename);\n\t\tconst worker = new Worker(uri, {\n\t\t\tcredentials: \"same-origin\",\n\t\t\t...options,\n\t\t});\n\n\t\tthis.workers.push(worker);\n\n\t\treturn worker;\n\t}\n\n\t/**\n\t * Create a new window belonging to this application\n\t * @param {WindowOptions} [options={}] Window options\n\t * @returns {Window}\n\t */\n\tcreateWindow(options = {}) {\n\t\tconst found = this.windows.find((window) => window.id === options.id);\n\t\tif (found) {\n\t\t\tconst msg = `Window with ID '${options.id}' already exists`;\n\t\t\tthrow new Error(msg);\n\t\t}\n\n\t\tconst configWindows = this.core.config(\"application.windows\", []);\n\t\tconst applyOptions = loadOptionsFromConfig(\n\t\t\tconfigWindows,\n\t\t\tthis.metadata.name,\n\t\t\toptions.id\n\t\t);\n\t\tconst instance = new Window(this.core, merge(options, applyOptions));\n\n\t\tif (this.options.restore) {\n\t\t\tconst windows = this.options.restore.windows || [];\n\t\t\tconst found = windows.findIndex((win) => win.id === instance.id);\n\n\t\t\tif (found !== -1) {\n\t\t\t\tconst restore = windows[found];\n\t\t\t\tinstance.setPosition(restore.position, true);\n\t\t\t\tinstance.setDimension(restore.dimension);\n\n\t\t\t\tif (restore.minimized) {\n\t\t\t\t\tinstance.minimize();\n\t\t\t\t} else if (restore.maximized) {\n\t\t\t\t\tinstance.maximize();\n\t\t\t\t}\n\n\t\t\t\tthis.options.restore.windows.splice(found, 1);\n\t\t\t}\n\t\t}\n\n\t\tinstance.init();\n\n\t\tthis.windows.push(instance);\n\n\t\tthis.emit(\"create-window\", instance);\n\t\tinstance.on(\"destroy\", () => {\n\t\t\tif (!this.destroyed) {\n\t\t\t\tconst foundIndex = this.windows.findIndex((win) => win === instance);\n\t\t\t\tif (foundIndex !== -1) {\n\t\t\t\t\tthis.windows.splice(foundIndex, 1);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tthis.emit(\"destroy-window\", instance);\n\t\t});\n\n\t\tif (this.options.windowAutoFocus) {\n\t\t\tinstance.focus();\n\t\t}\n\n\t\treturn instance;\n\t}\n\n\t/**\n\t * Removes window(s) based on given filter\n\t * @param {Function} filter Filter function\n\t */\n\tremoveWindow(filter) {\n\t\tconst found = this.windows.filter(filter);\n\t\tfound.forEach((win) => win.destroy());\n\t}\n\n\t/**\n\t * Gets a snapshot of the application session\n\t * @returns {ApplicationSession}\n\t */\n\tgetSession() {\n\t\tconst session = {\n\t\t\targs: { ...this.args },\n\t\t\tname: this.metadata.name,\n\t\t\twindows: this.windows\n\t\t\t\t.map((w) => w.getSession())\n\t\t\t\t.filter((s) => s !== null),\n\t\t};\n\n\t\treturn session;\n\t}\n\n\t/**\n\t * Saves settings\n\t * @returns {Promise<Boolean>}\n\t */\n\tsaveSettings() {\n\t\tconst service = this.core.make(\"meeseOS/settings\");\n\t\tconst name = getSettingsKey(this.metadata);\n\n\t\tservice.set(name, null, this.settings);\n\n\t\treturn service.save();\n\t}\n\n\t/**\n\t * Get a list of all running applications\n\t * @returns {Application[]}\n\t */\n\tstatic getApplications() {\n\t\treturn applications;\n\t}\n\n\t/**\n\t * Kills all running applications\n\t */\n\tstatic destroyAll() {\n\t\tapplications.forEach((proc) => {\n\t\t\ttry {\n\t\t\t\tproc.destroy(false);\n\t\t\t} catch (e) {\n\t\t\t\tlogger.warn(\"Exception on destroyAll\", e);\n\t\t\t}\n\t\t});\n\n\t\tapplications.splice(0, applications.length);\n\t}\n}\n",
    "static": true,
    "longname": "/home/runner/work/meeseOS/meeseOS/frontend/client/src/application.js",
    "access": "public",
    "description": null,
    "lineNumber": 1
  },
  {
    "__docId__": 100,
    "kind": "variable",
    "name": "applications",
    "memberof": "src/application.js",
    "static": true,
    "longname": "src/application.js~applications",
    "access": "public",
    "export": false,
    "importPath": "@meeseOS/client/src/application.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 38,
    "undocument": true,
    "type": {
      "types": [
        "*[]"
      ]
    },
    "ignore": true
  },
  {
    "__docId__": 101,
    "kind": "variable",
    "name": "applicationCount",
    "memberof": "src/application.js",
    "static": true,
    "longname": "src/application.js~applicationCount",
    "access": "public",
    "export": false,
    "importPath": "@meeseOS/client/src/application.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 39,
    "undocument": true,
    "type": {
      "types": [
        "number"
      ]
    },
    "ignore": true
  },
  {
    "__docId__": 102,
    "kind": "function",
    "name": "getSettingsKey",
    "memberof": "src/application.js",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "src/application.js~getSettingsKey",
    "access": "public",
    "export": false,
    "importPath": "@meeseOS/client/src/application.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 41,
    "undocument": true,
    "params": [
      {
        "name": "metadata",
        "types": [
          "*"
        ]
      }
    ],
    "return": null,
    "ignore": true
  },
  {
    "__docId__": 103,
    "kind": "typedef",
    "name": "ApplicationOptions",
    "memberof": "src/application.js",
    "static": true,
    "longname": "src/application.js~ApplicationOptions",
    "access": "public",
    "description": "Application Options",
    "properties": [
      {
        "nullable": null,
        "types": [
          "Object"
        ],
        "spread": false,
        "optional": true,
        "name": "settings",
        "description": "Initial settings"
      },
      {
        "nullable": null,
        "types": [
          "Object"
        ],
        "spread": false,
        "optional": true,
        "name": "restore",
        "description": "Restore data"
      },
      {
        "nullable": null,
        "types": [
          "Boolean"
        ],
        "spread": false,
        "optional": true,
        "defaultValue": "true",
        "defaultRaw": true,
        "name": "windowAutoFocus",
        "description": "Auto-focus first created window"
      },
      {
        "nullable": null,
        "types": [
          "Boolean"
        ],
        "spread": false,
        "optional": true,
        "defaultValue": "true",
        "defaultRaw": true,
        "name": "sessionable",
        "description": "Allow session storage"
      }
    ],
    "type": {
      "types": [
        "Object"
      ],
      "optional": false,
      "name": "ApplicationOptions"
    }
  },
  {
    "__docId__": 104,
    "kind": "typedef",
    "name": "ApplicationData",
    "memberof": "src/application.js",
    "static": true,
    "longname": "src/application.js~ApplicationData",
    "access": "public",
    "description": "Application Data",
    "properties": [
      {
        "nullable": null,
        "types": [
          "{foo: *}"
        ],
        "spread": false,
        "optional": false,
        "name": "args",
        "description": "Launch arguments"
      },
      {
        "nullable": null,
        "types": [
          "ApplicationOptions"
        ],
        "spread": false,
        "optional": true,
        "name": "options",
        "description": "Options"
      },
      {
        "nullable": null,
        "types": [
          "PackageMetadata"
        ],
        "spread": false,
        "optional": true,
        "name": "metadata",
        "description": "Package Metadata"
      }
    ],
    "type": {
      "types": [
        "Object"
      ],
      "optional": false,
      "name": "ApplicationData"
    }
  },
  {
    "__docId__": 105,
    "kind": "typedef",
    "name": "ApplicationSession",
    "memberof": "src/application.js",
    "static": true,
    "longname": "src/application.js~ApplicationSession",
    "access": "public",
    "description": "Application Session",
    "properties": [
      {
        "nullable": null,
        "types": [
          "{foo: string}"
        ],
        "spread": false,
        "optional": false,
        "name": "args",
        "description": ""
      },
      {
        "nullable": null,
        "types": [
          "String"
        ],
        "spread": false,
        "optional": false,
        "name": "name",
        "description": ""
      },
      {
        "nullable": null,
        "types": [
          "WindowSession[]"
        ],
        "spread": false,
        "optional": false,
        "name": "windows",
        "description": ""
      }
    ],
    "type": {
      "types": [
        "Object"
      ],
      "optional": false,
      "name": "ApplicationSession"
    }
  },
  {
    "__docId__": 106,
    "kind": "class",
    "name": "Application",
    "memberof": "src/application.js",
    "static": true,
    "longname": "src/application.js~Application",
    "access": "public",
    "export": true,
    "importPath": "@meeseOS/client/src/application.js",
    "importStyle": "Application",
    "description": "Base class for an Application",
    "lineNumber": 74,
    "interface": false,
    "extends": [
      "@meeseOS/event-emitter~EventEmitter"
    ]
  },
  {
    "__docId__": 107,
    "kind": "constructor",
    "name": "constructor",
    "memberof": "src/application.js~Application",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/application.js~Application#constructor",
    "access": "public",
    "description": "Create application",
    "lineNumber": 81,
    "params": [
      {
        "nullable": null,
        "types": [
          "Core"
        ],
        "spread": false,
        "optional": false,
        "name": "core",
        "description": "MeeseOS Core instance reference"
      },
      {
        "nullable": null,
        "types": [
          "ApplicationData"
        ],
        "spread": false,
        "optional": false,
        "name": "data",
        "description": "Application data"
      }
    ]
  },
  {
    "__docId__": 108,
    "kind": "member",
    "name": "pid",
    "memberof": "src/application.js~Application",
    "static": false,
    "longname": "src/application.js~Application#pid",
    "access": "public",
    "description": "The Application ID",
    "lineNumber": 106,
    "unknown": [
      {
        "tagName": "@readonly",
        "tagValue": ""
      }
    ],
    "type": {
      "nullable": null,
      "types": [
        "Number"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 109,
    "kind": "member",
    "name": "core",
    "memberof": "src/application.js~Application",
    "static": false,
    "longname": "src/application.js~Application#core",
    "access": "public",
    "description": "Core instance reference",
    "lineNumber": 113,
    "unknown": [
      {
        "tagName": "@readonly",
        "tagValue": ""
      }
    ],
    "type": {
      "nullable": null,
      "types": [
        "Core"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 110,
    "kind": "member",
    "name": "args",
    "memberof": "src/application.js~Application",
    "static": false,
    "longname": "src/application.js~Application#args",
    "access": "public",
    "description": "Application arguments",
    "lineNumber": 119,
    "type": {
      "nullable": null,
      "types": [
        "{foo: *}"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 111,
    "kind": "member",
    "name": "options",
    "memberof": "src/application.js~Application",
    "static": false,
    "longname": "src/application.js~Application#options",
    "access": "public",
    "description": "Application options",
    "lineNumber": 125,
    "type": {
      "nullable": null,
      "types": [
        "ApplicationOptions"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 112,
    "kind": "member",
    "name": "metadata",
    "memberof": "src/application.js~Application",
    "static": false,
    "longname": "src/application.js~Application#metadata",
    "access": "public",
    "description": "Application metadata",
    "lineNumber": 136,
    "unknown": [
      {
        "tagName": "@readonly",
        "tagValue": ""
      }
    ],
    "type": {
      "nullable": null,
      "types": [
        "PackageMetadata"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 113,
    "kind": "member",
    "name": "windows",
    "memberof": "src/application.js~Application",
    "static": false,
    "longname": "src/application.js~Application#windows",
    "access": "public",
    "description": "Window list",
    "lineNumber": 142,
    "type": {
      "nullable": null,
      "types": [
        "Window[]"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 114,
    "kind": "member",
    "name": "workers",
    "memberof": "src/application.js~Application",
    "static": false,
    "longname": "src/application.js~Application#workers",
    "access": "public",
    "description": "Worker instances",
    "lineNumber": 148,
    "type": {
      "nullable": null,
      "types": [
        "Worker[]"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 115,
    "kind": "member",
    "name": "requestOptions",
    "memberof": "src/application.js~Application",
    "static": false,
    "longname": "src/application.js~Application#requestOptions",
    "access": "public",
    "description": "Options for internal fetch/requests",
    "lineNumber": 154,
    "type": {
      "nullable": null,
      "types": [
        "Object"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 116,
    "kind": "member",
    "name": "destroyed",
    "memberof": "src/application.js~Application",
    "static": false,
    "longname": "src/application.js~Application#destroyed",
    "access": "public",
    "description": "The application destruction state",
    "lineNumber": 160,
    "type": {
      "nullable": null,
      "types": [
        "Boolean"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 117,
    "kind": "member",
    "name": "settings",
    "memberof": "src/application.js~Application",
    "static": false,
    "longname": "src/application.js~Application#settings",
    "access": "public",
    "description": "Application settings",
    "lineNumber": 166,
    "type": {
      "nullable": null,
      "types": [
        "{foo: *}"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 118,
    "kind": "member",
    "name": "started",
    "memberof": "src/application.js~Application",
    "static": false,
    "longname": "src/application.js~Application#started",
    "access": "public",
    "description": "Application started time",
    "lineNumber": 175,
    "unknown": [
      {
        "tagName": "@readonly",
        "tagValue": ""
      }
    ],
    "type": {
      "nullable": null,
      "types": [
        "Date"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 119,
    "kind": "member",
    "name": "sockets",
    "memberof": "src/application.js~Application",
    "static": false,
    "longname": "src/application.js~Application#sockets",
    "access": "public",
    "description": "Application WebSockets",
    "lineNumber": 181,
    "type": {
      "nullable": null,
      "types": [
        "Websocket[]"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 120,
    "kind": "method",
    "name": "destroy",
    "memberof": "src/application.js~Application",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/application.js~Application#destroy",
    "access": "public",
    "description": "Destroy application",
    "lineNumber": 192,
    "params": [
      {
        "name": "remove",
        "optional": true,
        "types": [
          "boolean"
        ],
        "defaultRaw": true,
        "defaultValue": "true"
      }
    ],
    "return": null
  },
  {
    "__docId__": 125,
    "kind": "method",
    "name": "relaunch",
    "memberof": "src/application.js~Application",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/application.js~Application#relaunch",
    "access": "public",
    "description": "Re-launch this application",
    "lineNumber": 226,
    "params": [],
    "return": null
  },
  {
    "__docId__": 126,
    "kind": "method",
    "name": "resource",
    "memberof": "src/application.js~Application",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/application.js~Application#resource",
    "access": "public",
    "description": "Gets a URI to a resource for this application\n\nIf given path is an URI it will just return itself.",
    "lineNumber": 253,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{String} A complete URI"
      }
    ],
    "params": [
      {
        "nullable": null,
        "types": [
          "String"
        ],
        "spread": false,
        "optional": false,
        "name": "path",
        "description": "The path"
      },
      {
        "nullable": null,
        "types": [
          "Object"
        ],
        "spread": false,
        "optional": true,
        "name": "options",
        "description": "Options for url() in core"
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "String"
      ],
      "spread": false,
      "description": "A complete URI"
    }
  },
  {
    "__docId__": 127,
    "kind": "method",
    "name": "request",
    "memberof": "src/application.js~Application",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/application.js~Application#request",
    "access": "public",
    "description": "Performs a request to the MeeseOS server with the application\nas the endpoint.",
    "lineNumber": 265,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{Promise<*>} ArrayBuffer or JSON"
      }
    ],
    "params": [
      {
        "nullable": null,
        "types": [
          "String"
        ],
        "spread": false,
        "optional": true,
        "defaultValue": "/",
        "defaultRaw": "/",
        "name": "path",
        "description": "Append this to endpoint"
      },
      {
        "nullable": null,
        "types": [
          "Options"
        ],
        "spread": false,
        "optional": true,
        "name": "options",
        "description": "fetch options"
      },
      {
        "nullable": null,
        "types": [
          "String"
        ],
        "spread": false,
        "optional": true,
        "defaultValue": "'json'",
        "defaultRaw": "'json'",
        "name": "type",
        "description": "Request / Response type"
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "Promise<*>"
      ],
      "spread": false,
      "description": "ArrayBuffer or JSON"
    }
  },
  {
    "__docId__": 128,
    "kind": "method",
    "name": "socket",
    "memberof": "src/application.js~Application",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/application.js~Application#socket",
    "access": "public",
    "description": "Creates a new Websocket.",
    "lineNumber": 277,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{Websocket}"
      }
    ],
    "params": [
      {
        "nullable": null,
        "types": [
          "String"
        ],
        "spread": false,
        "optional": true,
        "defaultValue": "/socket",
        "defaultRaw": "/socket",
        "name": "path",
        "description": "Append this to endpoint"
      },
      {
        "nullable": null,
        "types": [
          "WebsocketOptions"
        ],
        "spread": false,
        "optional": true,
        "defaultValue": "{}",
        "defaultRaw": {},
        "name": "options",
        "description": "Connection options"
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "Websocket"
      ],
      "spread": false,
      "description": ""
    }
  },
  {
    "__docId__": 129,
    "kind": "method",
    "name": "send",
    "memberof": "src/application.js~Application",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/application.js~Application#send",
    "access": "public",
    "description": "Sends a message over Websocket via the core connection.\n\nThis does not create a new connection, but rather uses the core connection.\nFor subscribing to messages from the server use the 'ws:message' event",
    "lineNumber": 299,
    "params": [
      {
        "nullable": null,
        "types": [
          "*"
        ],
        "spread": false,
        "optional": false,
        "name": "...args",
        "description": "Arguments to pass to message"
      }
    ],
    "return": null
  },
  {
    "__docId__": 130,
    "kind": "method",
    "name": "worker",
    "memberof": "src/application.js~Application",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/application.js~Application#worker",
    "access": "public",
    "description": "Creates a new Worker",
    "lineNumber": 313,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{Worker}"
      }
    ],
    "params": [
      {
        "nullable": null,
        "types": [
          "String"
        ],
        "spread": false,
        "optional": false,
        "name": "filename",
        "description": "Worker filename"
      },
      {
        "nullable": null,
        "types": [
          "Object"
        ],
        "spread": false,
        "optional": true,
        "name": "options",
        "description": "Worker options"
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "Worker"
      ],
      "spread": false,
      "description": ""
    }
  },
  {
    "__docId__": 131,
    "kind": "method",
    "name": "createWindow",
    "memberof": "src/application.js~Application",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/application.js~Application#createWindow",
    "access": "public",
    "description": "Create a new window belonging to this application",
    "lineNumber": 330,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{Window}"
      }
    ],
    "params": [
      {
        "nullable": null,
        "types": [
          "WindowOptions"
        ],
        "spread": false,
        "optional": true,
        "defaultValue": "{}",
        "defaultRaw": {},
        "name": "options",
        "description": "Window options"
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "Window"
      ],
      "spread": false,
      "description": ""
    }
  },
  {
    "__docId__": 132,
    "kind": "method",
    "name": "removeWindow",
    "memberof": "src/application.js~Application",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/application.js~Application#removeWindow",
    "access": "public",
    "description": "Removes window(s) based on given filter",
    "lineNumber": 391,
    "params": [
      {
        "nullable": null,
        "types": [
          "Function"
        ],
        "spread": false,
        "optional": false,
        "name": "filter",
        "description": "Filter function"
      }
    ],
    "return": null
  },
  {
    "__docId__": 133,
    "kind": "method",
    "name": "getSession",
    "memberof": "src/application.js~Application",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/application.js~Application#getSession",
    "access": "public",
    "description": "Gets a snapshot of the application session",
    "lineNumber": 400,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{ApplicationSession}"
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "ApplicationSession"
      ],
      "spread": false,
      "description": ""
    },
    "params": []
  },
  {
    "__docId__": 134,
    "kind": "method",
    "name": "saveSettings",
    "memberof": "src/application.js~Application",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/application.js~Application#saveSettings",
    "access": "public",
    "description": "Saves settings",
    "lineNumber": 416,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{Promise<Boolean>}"
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "Promise<Boolean>"
      ],
      "spread": false,
      "description": ""
    },
    "params": []
  },
  {
    "__docId__": 135,
    "kind": "method",
    "name": "getApplications",
    "memberof": "src/application.js~Application",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "src/application.js~Application.getApplications",
    "access": "public",
    "description": "Get a list of all running applications",
    "lineNumber": 429,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{Application[]}"
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "Application[]"
      ],
      "spread": false,
      "description": ""
    },
    "params": []
  },
  {
    "__docId__": 136,
    "kind": "method",
    "name": "destroyAll",
    "memberof": "src/application.js~Application",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "src/application.js~Application.destroyAll",
    "access": "public",
    "description": "Kills all running applications",
    "lineNumber": 436,
    "params": [],
    "return": null
  },
  {
    "__docId__": 137,
    "kind": "file",
    "name": "src/auth.js",
    "content": "/**\n * OS.js - JavaScript Cloud/Web Desktop Platform\n *\n * Copyright (c) 2011-Present, Anders Evenrud <andersevenrud@gmail.com>\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *\n * 1. Redistributions of source code must retain the above copyright notice, this\n *    list of conditions and the following disclaimer\n * 2. Redistributions in binary form must reproduce the above copyright notice,\n *    this list of conditions and the following disclaimer in the documentation\n *    and/or other materials provided with the distribution\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\n * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR\n * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n *\n * @author  Anders Evenrud <andersevenrud@gmail.com>\n * @license Simplified BSD License\n */\n\nimport Cookies from \"js-cookie\";\nimport localStorageAuth from \"./adapters/auth/localstorage\";\nimport logger from \"./logger\";\nimport Login from \"./login\";\nimport serverAuth from \"./adapters/auth/server\";\n\nconst defaultAdapters = {\n\tserver: serverAuth,\n\tlocalStorage: localStorageAuth,\n};\n\nconst createUi = (core, options) => {\n\tconst defaultUi = core.config(\"auth.ui\", {});\n\n\treturn options.login\n\t\t? options.login(core, options.config || {})\n\t\t: new Login(core, options.ui || defaultUi);\n};\n\nconst createAdapter = (core, options) => {\n\tconst adapter = core.config(\"standalone\")\n\t\t? localStorageAuth\n\t\t: typeof options.adapter === \"function\"\n\t\t\t? options.adapter\n\t\t\t: defaultAdapters[options.adapter || \"server\"];\n\n\treturn {\n\t\tlogin: () => Promise.reject(new Error(\"Not implemented\")),\n\t\tlogout: () => Promise.reject(new Error(\"Not implemented\")),\n\t\tregister: () => Promise.reject(new Error(\"Not implemented\")),\n\t\tinit: () => Promise.resolve(true),\n\t\tdestroy: () => {},\n\t\t...adapter(core, options.config || {}),\n\t};\n};\n\n/**\n * TODO: typedef\n * @typedef {Object} AuthAdapter\n */\n\n/**\n * TODO: typedef\n * @typedef {Object} AuthAdapterConfig\n */\n\n/**\n * @typedef {Object} AuthForm\n * @property {String} [username]\n * @property {String} [password]\n */\n\n/**\n * @typedef {Object} RefreshToken\n * @property {String} [refreshToken]\n */\n\n/**\n * @callback AuthAdapterCallback\n * @param {Core} core\n * @returns {AuthAdapter}\n */\n\n/**\n * @callback LoginAdapterCallback\n * @param {Core} core\n * @returns {Login}\n */\n\n/**\n * @callback AuthCallback\n * @param {AuthForm} data\n * @returns {Boolean}\n */\n\n/**\n * @typedef {Object} AuthSettings\n * @property {AuthAdapterCallback|AuthAdapter} [adapter] Adapter to use\n * @property {LoginAdapterCallback|Login} [login] Login Adapter to use\n * @property {AuthAdapterConfig} [config] Adapter configuration\n */\n\n/**\n * Handles Authentication.\n */\nexport default class Auth {\n\t/**\n\t * @param {Core} core MeeseOS Core instance reference\n\t * @param {AuthSettings} [options={}] Auth Options\n\t */\n\tconstructor(core, options = {}) {\n\t\t/**\n\t\t * Authentication UI.\n\t\t * @type {Login}\n\t\t * @readonly\n\t\t */\n\t\tthis.ui = createUi(core, options);\n\n\t\t/**\n\t\t * Authentication adapter.\n\t\t * @type {AuthAdapter}\n\t\t * @readonly\n\t\t */\n\t\tthis.adapter = createAdapter(core, options);\n\n\t\t/**\n\t\t * Authentication callback function.\n\t\t * @type {AuthCallback}\n\t\t * @readonly\n\t\t */\n\t\tthis.callback = function() {};\n\n\t\t/**\n\t\t * Core instance reference.\n\t\t * @type {Core}\n\t\t * @readonly\n\t\t */\n\t\tthis.core = core;\n\t}\n\n\t/**\n\t * Initializes the authentication handler.\n\t */\n\tinit() {\n\t\tthis.ui.on(\"login:post\", (values) => this.login(values));\n\t\tthis.ui.on(\"register:post\", (values) => this.register(values));\n\n\t\treturn this.adapter.init();\n\t}\n\n\t/**\n\t * Destroy authentication handler.\n\t */\n\tdestroy() {\n\t\tthis.ui.destroy();\n\t}\n\n\t/**\n\t * Run the shutdown procedure.\n\t * @param {Boolean} [reload=false] Reload afterwards\n\t */\n\tasync shutdown(reload = false) {\n\t\ttry {\n\t\t\tthis.core.destroy();\n\t\t} catch (e) {\n\t\t\tlogger.warn(\"Exception on destruction\", e);\n\t\t}\n\n\t\tthis.core.emit(\"meeseOS/core:logged-out\");\n\n\t\tif (reload) {\n\t\t\tsetTimeout(() => {\n\t\t\t\t// Reloads the page\n\t\t\t\twindow.location.reload();\n\t\t\t}, 1);\n\t\t} else {\n\t\t\t// NOTE: This does not work in most browsers, but eventually support may return\n\t\t\twindow.close();\n\t\t}\n\t}\n\n\t/**\n\t * Shows Login UI.\n\t * @param {AuthCallback} cb Authentication callback\n\t * @returns {Promise<Boolean>}\n\t */\n\tshow(cb) {\n\t\tconst login = this.core.config(\"auth.login\", {});\n\t\tconst autologin = login.username && login.password;\n\t\tconst settings = this.core.config(\"auth.cookie\");\n\n\t\tthis.callback = cb;\n\t\tthis.ui.init(autologin);\n\n\t\tif (autologin) {\n\t\t\treturn this.login(login);\n\t\t} else if (settings.enabled) {\n\t\t\tconst cookie = Cookies.get(settings.name);\n\t\t\tif (cookie) {\n\t\t\t\tif (this.core.config(\"development\")) {\n\t\t\t\t\tlogger.debug(\"Authentication cookie:\", cookie);\n\t\t\t\t}\n\n\t\t\t\treturn this.login({ refreshToken: cookie });\n\t\t\t}\n\t\t}\n\n\t\treturn Promise.resolve(true);\n\t}\n\n\t/**\n\t * Performs a login.\n\t * @param {AuthForm|RefreshToken} values Form values as JSON or refresh token\n\t * @returns {Promise<Boolean>}\n\t */\n\tlogin(values) {\n\t\tconst settings = this.core.config(\"auth.cookie\");\n\t\tthis.ui.emit(\"login:start\");\n\n\t\treturn this.adapter\n\t\t\t.login(values)\n\t\t\t.then((response) => {\n\t\t\t\tif (!response) return false;\n\n\t\t\t\tif (settings.enabled) {\n\t\t\t\t\tconst refreshToken = response.refreshToken;\n\n\t\t\t\t\tCookies.set(settings.name, refreshToken, {\n\t\t\t\t\t\texpires: settings.expires,\n\t\t\t\t\t\tsameSite: \"strict\",\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\tCookies.remove(settings.name);\n\t\t\t\t}\n\n\t\t\t\tthis.ui.destroy();\n\t\t\t\tthis.callback(response);\n\n\t\t\t\t// TODO: Emit a different event based on cookie login vs. password login\n\t\t\t\tthis.core.emit(\"meeseOS/core:logged-in\");\n\t\t\t\tthis.ui.emit(\"login:stop\", response);\n\n\t\t\t\treturn true;\n\t\t\t})\n\t\t\t.catch((e) => {\n\t\t\t\tif (this.core.config(\"development\")) {\n\t\t\t\t\tlogger.warn(\"Exception on login:\", e);\n\t\t\t\t}\n\n\t\t\t\tthis.ui.emit(\"login:error\", \"Login failed\");\n\t\t\t\tthis.ui.emit(\"login:stop\");\n\n\t\t\t\tCookies.remove(settings.name);\n\t\t\t\treturn false;\n\t\t\t});\n\t}\n\n\t/**\n\t * Performs a logout.\n\t * @param {Boolean} [reload=true] Reload client afterwards\n\t * @returns {Promise<Boolean>}\n\t */\n\tlogout(reload = true) {\n\t\treturn this.adapter.logout(reload).then((response) => {\n\t\t\tif (!response) return false;\n\n\t\t\tconst settings = this.core.config(\"auth.cookie\");\n\t\t\tCookies.remove(settings.name);\n\n\t\t\tthis.shutdown(reload);\n\n\t\t\treturn true;\n\t\t});\n\t}\n\n\t/**\n\t * Performs a register call.\n\t * @param {AuthForm} values Form values as JSON\n\t * @returns {Promise<*>}\n\t */\n\tregister(values) {\n\t\tthis.ui.emit(\"register:start\");\n\n\t\treturn this.adapter\n\t\t\t.register(values)\n\t\t\t.then((response) => {\n\t\t\t\tif (!response) return false;\n\n\t\t\t\tthis.ui.emit(\"register:stop\", response);\n\t\t\t\treturn response;\n\t\t\t})\n\t\t\t.catch((e) => {\n\t\t\t\tif (this.core.config(\"development\")) {\n\t\t\t\t\tlogger.warn(\"Exception on registration\", e);\n\t\t\t\t}\n\n\t\t\t\tthis.ui.emit(\"register:error\", \"Registration failed\");\n\t\t\t\tthis.ui.emit(\"register:stop\");\n\n\t\t\t\treturn false;\n\t\t\t});\n\t}\n}\n",
    "static": true,
    "longname": "/home/runner/work/meeseOS/meeseOS/frontend/client/src/auth.js",
    "access": "public",
    "description": null,
    "lineNumber": 1
  },
  {
    "__docId__": 138,
    "kind": "variable",
    "name": "defaultAdapters",
    "memberof": "src/auth.js",
    "static": true,
    "longname": "src/auth.js~defaultAdapters",
    "access": "public",
    "export": false,
    "importPath": "@meeseOS/client/src/auth.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 37,
    "undocument": true,
    "type": {
      "types": [
        "{\"server\": *, \"localStorage\": *}"
      ]
    },
    "ignore": true
  },
  {
    "__docId__": 139,
    "kind": "function",
    "name": "createUi",
    "memberof": "src/auth.js",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "src/auth.js~createUi",
    "access": "public",
    "export": false,
    "importPath": "@meeseOS/client/src/auth.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 42,
    "undocument": true,
    "params": [
      {
        "name": "core",
        "types": [
          "*"
        ]
      },
      {
        "name": "options",
        "types": [
          "*"
        ]
      }
    ],
    "return": {
      "types": [
        "*"
      ]
    },
    "ignore": true
  },
  {
    "__docId__": 140,
    "kind": "function",
    "name": "createAdapter",
    "memberof": "src/auth.js",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "src/auth.js~createAdapter",
    "access": "public",
    "export": false,
    "importPath": "@meeseOS/client/src/auth.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 50,
    "undocument": true,
    "params": [
      {
        "name": "core",
        "types": [
          "*"
        ]
      },
      {
        "name": "options",
        "types": [
          "*"
        ]
      }
    ],
    "return": {
      "types": [
        "{\"login\": *, \"logout\": *, \"register\": *, \"init\": *, \"destroy\": *, ...undefined: Object}"
      ]
    },
    "ignore": true
  },
  {
    "__docId__": 141,
    "kind": "typedef",
    "name": "AuthAdapter",
    "memberof": "src/auth.js",
    "static": true,
    "longname": "src/auth.js~AuthAdapter",
    "access": "public",
    "description": "TODO: typedef",
    "type": {
      "types": [
        "Object"
      ],
      "optional": false,
      "name": "AuthAdapter"
    }
  },
  {
    "__docId__": 142,
    "kind": "typedef",
    "name": "AuthAdapterConfig",
    "memberof": "src/auth.js",
    "static": true,
    "longname": "src/auth.js~AuthAdapterConfig",
    "access": "public",
    "description": "TODO: typedef",
    "type": {
      "types": [
        "Object"
      ],
      "optional": false,
      "name": "AuthAdapterConfig"
    }
  },
  {
    "__docId__": 143,
    "kind": "typedef",
    "name": "AuthForm",
    "memberof": "src/auth.js",
    "static": true,
    "longname": "src/auth.js~AuthForm",
    "access": "public",
    "description": "",
    "properties": [
      {
        "nullable": null,
        "types": [
          "String"
        ],
        "spread": false,
        "optional": true,
        "name": "username",
        "description": ""
      },
      {
        "nullable": null,
        "types": [
          "String"
        ],
        "spread": false,
        "optional": true,
        "name": "password",
        "description": ""
      }
    ],
    "type": {
      "types": [
        "Object"
      ],
      "optional": false,
      "name": "AuthForm"
    }
  },
  {
    "__docId__": 144,
    "kind": "typedef",
    "name": "RefreshToken",
    "memberof": "src/auth.js",
    "static": true,
    "longname": "src/auth.js~RefreshToken",
    "access": "public",
    "description": "",
    "properties": [
      {
        "nullable": null,
        "types": [
          "String"
        ],
        "spread": false,
        "optional": true,
        "name": "refreshToken",
        "description": ""
      }
    ],
    "type": {
      "types": [
        "Object"
      ],
      "optional": false,
      "name": "RefreshToken"
    }
  },
  {
    "__docId__": 145,
    "kind": "typedef",
    "name": "AuthSettings",
    "memberof": "src/auth.js",
    "static": true,
    "longname": "src/auth.js~AuthSettings",
    "access": "public",
    "description": "",
    "properties": [
      {
        "nullable": null,
        "types": [
          "AuthAdapterCallback",
          "AuthAdapter"
        ],
        "spread": false,
        "optional": true,
        "name": "adapter",
        "description": "Adapter to use"
      },
      {
        "nullable": null,
        "types": [
          "LoginAdapterCallback",
          "Login"
        ],
        "spread": false,
        "optional": true,
        "name": "login",
        "description": "Login Adapter to use"
      },
      {
        "nullable": null,
        "types": [
          "AuthAdapterConfig"
        ],
        "spread": false,
        "optional": true,
        "name": "config",
        "description": "Adapter configuration"
      }
    ],
    "type": {
      "types": [
        "Object"
      ],
      "optional": false,
      "name": "AuthSettings"
    }
  },
  {
    "__docId__": 146,
    "kind": "class",
    "name": "Auth",
    "memberof": "src/auth.js",
    "static": true,
    "longname": "src/auth.js~Auth",
    "access": "public",
    "export": true,
    "importPath": "@meeseOS/client/src/auth.js",
    "importStyle": "Auth",
    "description": "Handles Authentication.",
    "lineNumber": 116,
    "interface": false
  },
  {
    "__docId__": 147,
    "kind": "constructor",
    "name": "constructor",
    "memberof": "src/auth.js~Auth",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/auth.js~Auth#constructor",
    "access": "public",
    "description": "",
    "lineNumber": 121,
    "params": [
      {
        "nullable": null,
        "types": [
          "Core"
        ],
        "spread": false,
        "optional": false,
        "name": "core",
        "description": "MeeseOS Core instance reference"
      },
      {
        "nullable": null,
        "types": [
          "AuthSettings"
        ],
        "spread": false,
        "optional": true,
        "defaultValue": "{}",
        "defaultRaw": {},
        "name": "options",
        "description": "Auth Options"
      }
    ]
  },
  {
    "__docId__": 148,
    "kind": "member",
    "name": "ui",
    "memberof": "src/auth.js~Auth",
    "static": false,
    "longname": "src/auth.js~Auth#ui",
    "access": "public",
    "description": "Authentication UI.",
    "lineNumber": 127,
    "unknown": [
      {
        "tagName": "@readonly",
        "tagValue": ""
      }
    ],
    "type": {
      "nullable": null,
      "types": [
        "Login"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 149,
    "kind": "member",
    "name": "adapter",
    "memberof": "src/auth.js~Auth",
    "static": false,
    "longname": "src/auth.js~Auth#adapter",
    "access": "public",
    "description": "Authentication adapter.",
    "lineNumber": 134,
    "unknown": [
      {
        "tagName": "@readonly",
        "tagValue": ""
      }
    ],
    "type": {
      "nullable": null,
      "types": [
        "AuthAdapter"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 150,
    "kind": "member",
    "name": "core",
    "memberof": "src/auth.js~Auth",
    "static": false,
    "longname": "src/auth.js~Auth#core",
    "access": "public",
    "description": "Core instance reference.",
    "lineNumber": 148,
    "unknown": [
      {
        "tagName": "@readonly",
        "tagValue": ""
      }
    ],
    "type": {
      "nullable": null,
      "types": [
        "Core"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 151,
    "kind": "method",
    "name": "init",
    "memberof": "src/auth.js~Auth",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/auth.js~Auth#init",
    "access": "public",
    "description": "Initializes the authentication handler.",
    "lineNumber": 154,
    "params": [],
    "return": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 152,
    "kind": "method",
    "name": "destroy",
    "memberof": "src/auth.js~Auth",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/auth.js~Auth#destroy",
    "access": "public",
    "description": "Destroy authentication handler.",
    "lineNumber": 164,
    "params": [],
    "return": null
  },
  {
    "__docId__": 153,
    "kind": "method",
    "name": "shutdown",
    "memberof": "src/auth.js~Auth",
    "generator": false,
    "async": true,
    "static": false,
    "longname": "src/auth.js~Auth#shutdown",
    "access": "public",
    "description": "Run the shutdown procedure.",
    "lineNumber": 172,
    "params": [
      {
        "nullable": null,
        "types": [
          "Boolean"
        ],
        "spread": false,
        "optional": true,
        "defaultValue": "false",
        "defaultRaw": false,
        "name": "reload",
        "description": "Reload afterwards"
      }
    ],
    "return": null
  },
  {
    "__docId__": 154,
    "kind": "method",
    "name": "show",
    "memberof": "src/auth.js~Auth",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/auth.js~Auth#show",
    "access": "public",
    "description": "Shows Login UI.",
    "lineNumber": 197,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{Promise<Boolean>}"
      }
    ],
    "params": [
      {
        "nullable": null,
        "types": [
          "AuthCallback"
        ],
        "spread": false,
        "optional": false,
        "name": "cb",
        "description": "Authentication callback"
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "Promise<Boolean>"
      ],
      "spread": false,
      "description": ""
    }
  },
  {
    "__docId__": 155,
    "kind": "member",
    "name": "callback",
    "memberof": "src/auth.js~Auth",
    "static": false,
    "longname": "src/auth.js~Auth#callback",
    "access": "public",
    "description": null,
    "lineNumber": 202,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    },
    "ignore": true
  },
  {
    "__docId__": 156,
    "kind": "method",
    "name": "login",
    "memberof": "src/auth.js~Auth",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/auth.js~Auth#login",
    "access": "public",
    "description": "Performs a login.",
    "lineNumber": 226,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{Promise<Boolean>}"
      }
    ],
    "params": [
      {
        "nullable": null,
        "types": [
          "AuthForm",
          "RefreshToken"
        ],
        "spread": false,
        "optional": false,
        "name": "values",
        "description": "Form values as JSON or refresh token"
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "Promise<Boolean>"
      ],
      "spread": false,
      "description": ""
    }
  },
  {
    "__docId__": 157,
    "kind": "method",
    "name": "logout",
    "memberof": "src/auth.js~Auth",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/auth.js~Auth#logout",
    "access": "public",
    "description": "Performs a logout.",
    "lineNumber": 273,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{Promise<Boolean>}"
      }
    ],
    "params": [
      {
        "nullable": null,
        "types": [
          "Boolean"
        ],
        "spread": false,
        "optional": true,
        "defaultValue": "true",
        "defaultRaw": true,
        "name": "reload",
        "description": "Reload client afterwards"
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "Promise<Boolean>"
      ],
      "spread": false,
      "description": ""
    }
  },
  {
    "__docId__": 158,
    "kind": "method",
    "name": "register",
    "memberof": "src/auth.js~Auth",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/auth.js~Auth#register",
    "access": "public",
    "description": "Performs a register call.",
    "lineNumber": 291,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{Promise<*>}"
      }
    ],
    "params": [
      {
        "nullable": null,
        "types": [
          "AuthForm"
        ],
        "spread": false,
        "optional": false,
        "name": "values",
        "description": "Form values as JSON"
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "Promise<*>"
      ],
      "spread": false,
      "description": ""
    }
  },
  {
    "__docId__": 159,
    "kind": "file",
    "name": "src/basic-application.js",
    "content": "/**\n * OS.js - JavaScript Cloud/Web Desktop Platform\n *\n * Copyright (c) 2011-Present, Anders Evenrud <andersevenrud@gmail.com>\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *\n * 1. Redistributions of source code must retain the above copyright notice, this\n *    list of conditions and the following disclaimer\n * 2. Redistributions in binary form must reproduce the above copyright notice,\n *    this list of conditions and the following disclaimer in the documentation\n *    and/or other materials provided with the distribution\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\n * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR\n * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n *\n * @author  Anders Evenrud <andersevenrud@gmail.com>\n * @license Simplified BSD License\n */\n\nimport { EventEmitter } from \"@meeseOS/event-emitter\";\nimport { basename, pathname } from \"./utils/vfs\";\n\n/**\n * Basic Application Options\n *\n * @typedef {Object} BasicApplicationOptions\n * @property {String[]} [mimeTypes] What MIME types to support (all/fallback)\n * @property {String[]} [loadMimeTypes] What MIME types to support on load\n * @property {String[]} [saveMimeTypes] What MIME types to support on save\n * @property {String} [defaultFilename] Default filename of a new file\n */\n\n/**\n * Basic Application Helper\n *\n * A class for helping creating basic applications with open/load/create functionality.\n * Also sets the internal proc args for sessions.\n */\nexport class BasicApplication extends EventEmitter {\n\t/**\n\t * Basic Application Constructor\n\t * @param {Core} core MeeseOS Core instance reference\n\t * @param {Application} proc The application process\n\t * @param {Window} win The main application window\n\t * @param {BasicApplicationOptions} [options={}] Basic application options\n\t */\n\tconstructor(core, proc, win, options = {}) {\n\t\tsuper(\"BasicApplication<\" + proc.name + \">\");\n\n\t\t/**\n\t\t * Core instance reference\n\t\t * @type {Core}\n\t\t * @readonly\n\t\t */\n\t\tthis.core = core;\n\n\t\t/**\n\t\t * Application instance reference\n\t\t * @type {Application}\n\t\t * @readonly\n\t\t */\n\t\tthis.proc = proc;\n\n\t\t/**\n\t\t * Window instance reference\n\t\t * @type {Window}\n\t\t * @readonly\n\t\t */\n\t\tthis.win = win;\n\n\t\t/**\n\t\t * Basic Application Options\n\t\t * @type {BasicApplicationOptions}\n\t\t * @readonly\n\t\t */\n\t\tthis.options = {\n\t\t\tmimeTypes: proc.metadata.mimes || [],\n\t\t\tloadMimeTypes: [],\n\t\t\tsaveMimeTypes: [],\n\t\t\tdefaultFilename: \"New File\",\n\t\t\t...options,\n\t\t};\n\t}\n\n\t/**\n\t * Destroys all Basic Application internals\n\t */\n\tdestroy() {\n\t\tthis.off();\n\t\tsuper.destroy();\n\t}\n\n\t/**\n\t * Initializes the application\n\t * @returns {Promise<Boolean>}\n\t */\n\tinit() {\n\t\tif (this.proc.args.file) {\n\t\t\tthis.open(this.proc.args.file);\n\t\t} else {\n\t\t\tthis.create();\n\t\t}\n\n\t\treturn Promise.resolve(true);\n\t}\n\n\t/**\n\t * Gets options for a dialog\n\t * @param {String} type Dialog type\n\t * @returns {Object}\n\t */\n\tgetDialogOptions(type, options = {}) {\n\t\tconst { file, ...rest } = options;\n\n\t\tconst { defaultFilename, mimeTypes, loadMimeTypes, saveMimeTypes } =\n\t\t\tthis.options;\n\n\t\tconst currentFile = file || this.proc.args.file;\n\t\tconst defaultPath = this.core.config(\"vfs.defaultPath\");\n\t\tconst path = currentFile ? currentFile.path : null;\n\n\t\tlet mime = type === \"open\" ? loadMimeTypes : saveMimeTypes;\n\t\tif (!mime.length) {\n\t\t\tmime = mimeTypes;\n\t\t}\n\n\t\treturn [\n\t\t\t{\n\t\t\t\ttype,\n\t\t\t\tmime,\n\t\t\t\tfilename: path ? basename(path) : defaultFilename,\n\t\t\t\tpath: path ? pathname(path) : defaultPath,\n\t\t\t\t...rest,\n\t\t\t},\n\t\t\t{\n\t\t\t\tparent: this.win,\n\t\t\t\tattributes: {\n\t\t\t\t\tmodal: true,\n\t\t\t\t},\n\t\t\t},\n\t\t];\n\t}\n\n\t/**\n\t * Updates the window title to match open file\n\t */\n\tupdateWindowTitle() {\n\t\tif (!this.win) return;\n\n\t\tconst prefix = this.proc.metadata.title;\n\t\tconst title = this._createTitle(prefix);\n\n\t\tthis.win.setTitle(title);\n\t}\n\n\t/**\n\t * Creates a new dialog of a type\n\t * @param {String} type Dialog type\n\t * @param {Function} cb Callback\n\t * @param {Object} [options] Override options\n\t */\n\tcreateDialog(type, cb, options = {}) {\n\t\tconst [args, opts] = this.getDialogOptions(type, options);\n\n\t\tif (this.core.has(\"meeseOS/dialog\")) {\n\t\t\tthis.core.make(\"meeseOS/dialog\", \"file\", args, opts, (btn, item) => {\n\t\t\t\tif (btn === \"ok\") {\n\t\t\t\t\tcb(item);\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t}\n\n\t/**\n\t * Opens the given file.\n\t * Does not perform any actual VFS operations.\n\t * @param {VFSFile} file A file\n\t */\n\topen(item) {\n\t\tthis._setFile(item, \"open-file\");\n\t}\n\n\t/**\n\t * Saves the given file.\n\t * Does not perform any actual VFS operations.\n\t * @param {VFSFile} file A file\n\t */\n\tsave(item) {\n\t\tthis._setFile(item, \"save-file\");\n\t}\n\n\t/**\n\t * Create a new file.\n\t * Does not perform any actual VFS operations.\n\t */\n\tcreate() {\n\t\tthis.proc.args.file = null;\n\n\t\tthis.emit(\"new-file\");\n\n\t\tthis.updateWindowTitle();\n\t}\n\n\t/**\n\t * Create a new file\n\t * @see BasicApplication#create\n\t */\n\tcreateNew() {\n\t\tthis.create();\n\t}\n\n\t/**\n\t * Creates a new save dialog\n\t * @param {Object} [options] Dialog options\n\t */\n\tcreateSaveDialog(options = {}) {\n\t\tthis.createDialog(\"save\", (item) => this.save(item), options);\n\t}\n\n\t/**\n\t * Creates a new load dialog\n\t * @param {Object} [options] Dialog options\n\t */\n\tcreateOpenDialog(options = {}) {\n\t\tthis.createDialog(\"open\", (item) => this.open(item), options);\n\t}\n\n\t/**\n\t * Sets file from open/save action\n\t *\n\t * @private\n\t * @param {VFSFile} item File\n\t * @param {String} eventName Event to fire\n\t */\n\t_setFile(item, eventName) {\n\t\tthis.proc.args.file = { ...item };\n\t\tthis.emit(eventName, item);\n\t\tthis.updateWindowTitle();\n\t}\n\n\t/**\n\t * Creates the window title\n\t *\n\t * @private\n\t * @param {String} prefix Title prefix\n\t * @returns {String}\n\t */\n\t_createTitle(prefix) {\n\t\tconst title = this.proc.args.file\n\t\t\t? basename(this.proc.args.file.path)\n\t\t\t: this.options.defaultFilename;\n\n\t\treturn title ? `${prefix} - ${title}` : prefix;\n\t}\n}\n",
    "static": true,
    "longname": "/home/runner/work/meeseOS/meeseOS/frontend/client/src/basic-application.js",
    "access": "public",
    "description": null,
    "lineNumber": 1
  },
  {
    "__docId__": 160,
    "kind": "typedef",
    "name": "BasicApplicationOptions",
    "memberof": "src/basic-application.js",
    "static": true,
    "longname": "src/basic-application.js~BasicApplicationOptions",
    "access": "public",
    "description": "Basic Application Options",
    "properties": [
      {
        "nullable": null,
        "types": [
          "String[]"
        ],
        "spread": false,
        "optional": true,
        "name": "mimeTypes",
        "description": "What MIME types to support (all/fallback)"
      },
      {
        "nullable": null,
        "types": [
          "String[]"
        ],
        "spread": false,
        "optional": true,
        "name": "loadMimeTypes",
        "description": "What MIME types to support on load"
      },
      {
        "nullable": null,
        "types": [
          "String[]"
        ],
        "spread": false,
        "optional": true,
        "name": "saveMimeTypes",
        "description": "What MIME types to support on save"
      },
      {
        "nullable": null,
        "types": [
          "String"
        ],
        "spread": false,
        "optional": true,
        "name": "defaultFilename",
        "description": "Default filename of a new file"
      }
    ],
    "type": {
      "types": [
        "Object"
      ],
      "optional": false,
      "name": "BasicApplicationOptions"
    }
  },
  {
    "__docId__": 161,
    "kind": "class",
    "name": "BasicApplication",
    "memberof": "src/basic-application.js",
    "static": true,
    "longname": "src/basic-application.js~BasicApplication",
    "access": "public",
    "export": true,
    "importPath": "@meeseOS/client/src/basic-application.js",
    "importStyle": "{BasicApplication}",
    "description": "Basic Application Helper\n\nA class for helping creating basic applications with open/load/create functionality.\nAlso sets the internal proc args for sessions.",
    "lineNumber": 50,
    "interface": false,
    "extends": [
      "@meeseOS/event-emitter~EventEmitter"
    ]
  },
  {
    "__docId__": 162,
    "kind": "constructor",
    "name": "constructor",
    "memberof": "src/basic-application.js~BasicApplication",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/basic-application.js~BasicApplication#constructor",
    "access": "public",
    "description": "Basic Application Constructor",
    "lineNumber": 58,
    "params": [
      {
        "nullable": null,
        "types": [
          "Core"
        ],
        "spread": false,
        "optional": false,
        "name": "core",
        "description": "MeeseOS Core instance reference"
      },
      {
        "nullable": null,
        "types": [
          "Application"
        ],
        "spread": false,
        "optional": false,
        "name": "proc",
        "description": "The application process"
      },
      {
        "nullable": null,
        "types": [
          "Window"
        ],
        "spread": false,
        "optional": false,
        "name": "win",
        "description": "The main application window"
      },
      {
        "nullable": null,
        "types": [
          "BasicApplicationOptions"
        ],
        "spread": false,
        "optional": true,
        "defaultValue": "{}",
        "defaultRaw": {},
        "name": "options",
        "description": "Basic application options"
      }
    ]
  },
  {
    "__docId__": 163,
    "kind": "member",
    "name": "core",
    "memberof": "src/basic-application.js~BasicApplication",
    "static": false,
    "longname": "src/basic-application.js~BasicApplication#core",
    "access": "public",
    "description": "Core instance reference",
    "lineNumber": 66,
    "unknown": [
      {
        "tagName": "@readonly",
        "tagValue": ""
      }
    ],
    "type": {
      "nullable": null,
      "types": [
        "Core"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 164,
    "kind": "member",
    "name": "proc",
    "memberof": "src/basic-application.js~BasicApplication",
    "static": false,
    "longname": "src/basic-application.js~BasicApplication#proc",
    "access": "public",
    "description": "Application instance reference",
    "lineNumber": 73,
    "unknown": [
      {
        "tagName": "@readonly",
        "tagValue": ""
      }
    ],
    "type": {
      "nullable": null,
      "types": [
        "Application"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 165,
    "kind": "member",
    "name": "win",
    "memberof": "src/basic-application.js~BasicApplication",
    "static": false,
    "longname": "src/basic-application.js~BasicApplication#win",
    "access": "public",
    "description": "Window instance reference",
    "lineNumber": 80,
    "unknown": [
      {
        "tagName": "@readonly",
        "tagValue": ""
      }
    ],
    "type": {
      "nullable": null,
      "types": [
        "Window"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 166,
    "kind": "member",
    "name": "options",
    "memberof": "src/basic-application.js~BasicApplication",
    "static": false,
    "longname": "src/basic-application.js~BasicApplication#options",
    "access": "public",
    "description": "Basic Application Options",
    "lineNumber": 87,
    "unknown": [
      {
        "tagName": "@readonly",
        "tagValue": ""
      }
    ],
    "type": {
      "nullable": null,
      "types": [
        "BasicApplicationOptions"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 167,
    "kind": "method",
    "name": "destroy",
    "memberof": "src/basic-application.js~BasicApplication",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/basic-application.js~BasicApplication#destroy",
    "access": "public",
    "description": "Destroys all Basic Application internals",
    "lineNumber": 99,
    "params": [],
    "return": null
  },
  {
    "__docId__": 168,
    "kind": "method",
    "name": "init",
    "memberof": "src/basic-application.js~BasicApplication",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/basic-application.js~BasicApplication#init",
    "access": "public",
    "description": "Initializes the application",
    "lineNumber": 108,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{Promise<Boolean>}"
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "Promise<Boolean>"
      ],
      "spread": false,
      "description": ""
    },
    "params": []
  },
  {
    "__docId__": 169,
    "kind": "method",
    "name": "getDialogOptions",
    "memberof": "src/basic-application.js~BasicApplication",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/basic-application.js~BasicApplication#getDialogOptions",
    "access": "public",
    "description": "Gets options for a dialog",
    "lineNumber": 123,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{Object}"
      }
    ],
    "params": [
      {
        "nullable": null,
        "types": [
          "String"
        ],
        "spread": false,
        "optional": false,
        "name": "type",
        "description": "Dialog type"
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "Object"
      ],
      "spread": false,
      "description": ""
    }
  },
  {
    "__docId__": 170,
    "kind": "method",
    "name": "updateWindowTitle",
    "memberof": "src/basic-application.js~BasicApplication",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/basic-application.js~BasicApplication#updateWindowTitle",
    "access": "public",
    "description": "Updates the window title to match open file",
    "lineNumber": 158,
    "params": [],
    "return": null
  },
  {
    "__docId__": 171,
    "kind": "method",
    "name": "createDialog",
    "memberof": "src/basic-application.js~BasicApplication",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/basic-application.js~BasicApplication#createDialog",
    "access": "public",
    "description": "Creates a new dialog of a type",
    "lineNumber": 173,
    "params": [
      {
        "nullable": null,
        "types": [
          "String"
        ],
        "spread": false,
        "optional": false,
        "name": "type",
        "description": "Dialog type"
      },
      {
        "nullable": null,
        "types": [
          "Function"
        ],
        "spread": false,
        "optional": false,
        "name": "cb",
        "description": "Callback"
      },
      {
        "nullable": null,
        "types": [
          "Object"
        ],
        "spread": false,
        "optional": true,
        "name": "options",
        "description": "Override options"
      }
    ],
    "return": null
  },
  {
    "__docId__": 172,
    "kind": "method",
    "name": "open",
    "memberof": "src/basic-application.js~BasicApplication",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/basic-application.js~BasicApplication#open",
    "access": "public",
    "description": "Opens the given file.\nDoes not perform any actual VFS operations.",
    "lineNumber": 190,
    "params": [
      {
        "nullable": null,
        "types": [
          "VFSFile"
        ],
        "spread": false,
        "optional": false,
        "name": "file",
        "description": "A file"
      }
    ],
    "return": null
  },
  {
    "__docId__": 173,
    "kind": "method",
    "name": "save",
    "memberof": "src/basic-application.js~BasicApplication",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/basic-application.js~BasicApplication#save",
    "access": "public",
    "description": "Saves the given file.\nDoes not perform any actual VFS operations.",
    "lineNumber": 199,
    "params": [
      {
        "nullable": null,
        "types": [
          "VFSFile"
        ],
        "spread": false,
        "optional": false,
        "name": "file",
        "description": "A file"
      }
    ],
    "return": null
  },
  {
    "__docId__": 174,
    "kind": "method",
    "name": "create",
    "memberof": "src/basic-application.js~BasicApplication",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/basic-application.js~BasicApplication#create",
    "access": "public",
    "description": "Create a new file.\nDoes not perform any actual VFS operations.",
    "lineNumber": 207,
    "params": [],
    "return": null
  },
  {
    "__docId__": 175,
    "kind": "method",
    "name": "createNew",
    "memberof": "src/basic-application.js~BasicApplication",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/basic-application.js~BasicApplication#createNew",
    "access": "public",
    "description": "Create a new file",
    "see": [
      "BasicApplication#create"
    ],
    "lineNumber": 219,
    "params": [],
    "return": null
  },
  {
    "__docId__": 176,
    "kind": "method",
    "name": "createSaveDialog",
    "memberof": "src/basic-application.js~BasicApplication",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/basic-application.js~BasicApplication#createSaveDialog",
    "access": "public",
    "description": "Creates a new save dialog",
    "lineNumber": 227,
    "params": [
      {
        "nullable": null,
        "types": [
          "Object"
        ],
        "spread": false,
        "optional": true,
        "name": "options",
        "description": "Dialog options"
      }
    ],
    "return": null
  },
  {
    "__docId__": 177,
    "kind": "method",
    "name": "createOpenDialog",
    "memberof": "src/basic-application.js~BasicApplication",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/basic-application.js~BasicApplication#createOpenDialog",
    "access": "public",
    "description": "Creates a new load dialog",
    "lineNumber": 235,
    "params": [
      {
        "nullable": null,
        "types": [
          "Object"
        ],
        "spread": false,
        "optional": true,
        "name": "options",
        "description": "Dialog options"
      }
    ],
    "return": null
  },
  {
    "__docId__": 178,
    "kind": "method",
    "name": "_setFile",
    "memberof": "src/basic-application.js~BasicApplication",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/basic-application.js~BasicApplication#_setFile",
    "access": "private",
    "description": "Sets file from open/save action",
    "lineNumber": 246,
    "params": [
      {
        "nullable": null,
        "types": [
          "VFSFile"
        ],
        "spread": false,
        "optional": false,
        "name": "item",
        "description": "File"
      },
      {
        "nullable": null,
        "types": [
          "String"
        ],
        "spread": false,
        "optional": false,
        "name": "eventName",
        "description": "Event to fire"
      }
    ],
    "return": null
  },
  {
    "__docId__": 179,
    "kind": "method",
    "name": "_createTitle",
    "memberof": "src/basic-application.js~BasicApplication",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/basic-application.js~BasicApplication#_createTitle",
    "access": "private",
    "description": "Creates the window title",
    "lineNumber": 259,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{String}"
      }
    ],
    "params": [
      {
        "nullable": null,
        "types": [
          "String"
        ],
        "spread": false,
        "optional": false,
        "name": "prefix",
        "description": "Title prefix"
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "String"
      ],
      "spread": false,
      "description": ""
    }
  },
  {
    "__docId__": 180,
    "kind": "file",
    "name": "src/clipboard.js",
    "content": "/**\n * OS.js - JavaScript Cloud/Web Desktop Platform\n *\n * Copyright (c) 2011-Present, Anders Evenrud <andersevenrud@gmail.com>\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *\n * 1. Redistributions of source code must retain the above copyright notice, this\n *    list of conditions and the following disclaimer\n * 2. Redistributions in binary form must reproduce the above copyright notice,\n *    this list of conditions and the following disclaimer in the documentation\n *    and/or other materials provided with the distribution\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\n * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR\n * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n *\n * @author  Anders Evenrud <andersevenrud@gmail.com>\n * @license Simplified BSD License\n */\n\n/**\n * Clipboard Data\n *\n * @typedef {Object} ClipboardData\n * @property {String} [type] Optional data type\n * @property {*} data\n */\n\n/**\n * Clipboard Manager\n */\nexport default class Clipboard {\n\t/**\n\t * Create new clipboard\n\t */\n\tconstructor() {\n\t\t/**\n\t\t * @type {ClipboardData}\n\t\t */\n\t\tthis.clipboard = undefined;\n\n\t\tthis.clear();\n\t}\n\n\t/**\n\t * Destroy clipboard\n\t */\n\tdestroy() {\n\t\tthis.clear();\n\t}\n\n\t/**\n\t * Clear clipboard\n\t */\n\tclear() {\n\t\tthis.clipboard = { data: undefined, type: undefined };\n\t}\n\n\t/**\n\t * Set clipboard data\n\t * @param {*} data Clipboard data. For async data, provide a function that returns a promise\n\t * @param {String} [type] Optional type used by applications for identifying content\n\t */\n\tset(data, type) {\n\t\tthis.clipboard = { data, type };\n\t}\n\n\t/**\n\t * Checks if current clipboard data has this type\n\t * @param {String|RegExp} type Data type\n\t * @returns {Boolean}\n\t */\n\thas(type) {\n\t\tif (type instanceof RegExp) {\n\t\t\treturn (\n\t\t\t\ttypeof this.clipboard.type === \"string\" &&\n\t\t\t\tBoolean(this.clipboard.type.match(type))\n\t\t\t);\n\t\t}\n\t\treturn this.clipboard.type === type;\n\t}\n\n\t/**\n\t * Gets clipboard data\n\t * @param {Boolean} [clear=false] Clear clipboard\n\t * @returns {Promise<*>}\n\t */\n\tget(clear = false) {\n\t\tconst { data } = this.clipboard;\n\t\tconst result = typeof data === \"function\" ? data() : data;\n\n\t\tif (clear) {\n\t\t\tthis.clear();\n\t\t}\n\n\t\treturn Promise.resolve(result);\n\t}\n}\n",
    "static": true,
    "longname": "/home/runner/work/meeseOS/meeseOS/frontend/client/src/clipboard.js",
    "access": "public",
    "description": null,
    "lineNumber": 1
  },
  {
    "__docId__": 181,
    "kind": "typedef",
    "name": "ClipboardData",
    "memberof": "src/clipboard.js",
    "static": true,
    "longname": "src/clipboard.js~ClipboardData",
    "access": "public",
    "description": "Clipboard Data",
    "properties": [
      {
        "nullable": null,
        "types": [
          "String"
        ],
        "spread": false,
        "optional": true,
        "name": "type",
        "description": "Optional data type"
      },
      {
        "nullable": null,
        "types": [
          "*"
        ],
        "spread": false,
        "optional": false,
        "name": "data",
        "description": ""
      }
    ],
    "type": {
      "types": [
        "Object"
      ],
      "optional": false,
      "name": "ClipboardData"
    }
  },
  {
    "__docId__": 182,
    "kind": "class",
    "name": "Clipboard",
    "memberof": "src/clipboard.js",
    "static": true,
    "longname": "src/clipboard.js~Clipboard",
    "access": "public",
    "export": true,
    "importPath": "@meeseOS/client/src/clipboard.js",
    "importStyle": "Clipboard",
    "description": "Clipboard Manager",
    "lineNumber": 42,
    "interface": false
  },
  {
    "__docId__": 183,
    "kind": "constructor",
    "name": "constructor",
    "memberof": "src/clipboard.js~Clipboard",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/clipboard.js~Clipboard#constructor",
    "access": "public",
    "description": "Create new clipboard",
    "lineNumber": 46
  },
  {
    "__docId__": 184,
    "kind": "member",
    "name": "clipboard",
    "memberof": "src/clipboard.js~Clipboard",
    "static": false,
    "longname": "src/clipboard.js~Clipboard#clipboard",
    "access": "public",
    "description": "",
    "lineNumber": 50,
    "type": {
      "nullable": null,
      "types": [
        "ClipboardData"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 185,
    "kind": "method",
    "name": "destroy",
    "memberof": "src/clipboard.js~Clipboard",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/clipboard.js~Clipboard#destroy",
    "access": "public",
    "description": "Destroy clipboard",
    "lineNumber": 58,
    "params": [],
    "return": null
  },
  {
    "__docId__": 186,
    "kind": "method",
    "name": "clear",
    "memberof": "src/clipboard.js~Clipboard",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/clipboard.js~Clipboard#clear",
    "access": "public",
    "description": "Clear clipboard",
    "lineNumber": 65,
    "params": [],
    "return": null
  },
  {
    "__docId__": 188,
    "kind": "method",
    "name": "set",
    "memberof": "src/clipboard.js~Clipboard",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/clipboard.js~Clipboard#set",
    "access": "public",
    "description": "Set clipboard data",
    "lineNumber": 74,
    "params": [
      {
        "nullable": null,
        "types": [
          "*"
        ],
        "spread": false,
        "optional": false,
        "name": "data",
        "description": "Clipboard data. For async data, provide a function that returns a promise"
      },
      {
        "nullable": null,
        "types": [
          "String"
        ],
        "spread": false,
        "optional": true,
        "name": "type",
        "description": "Optional type used by applications for identifying content"
      }
    ],
    "return": null
  },
  {
    "__docId__": 190,
    "kind": "method",
    "name": "has",
    "memberof": "src/clipboard.js~Clipboard",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/clipboard.js~Clipboard#has",
    "access": "public",
    "description": "Checks if current clipboard data has this type",
    "lineNumber": 83,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{Boolean}"
      }
    ],
    "params": [
      {
        "nullable": null,
        "types": [
          "String",
          "RegExp"
        ],
        "spread": false,
        "optional": false,
        "name": "type",
        "description": "Data type"
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "Boolean"
      ],
      "spread": false,
      "description": ""
    }
  },
  {
    "__docId__": 191,
    "kind": "method",
    "name": "get",
    "memberof": "src/clipboard.js~Clipboard",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/clipboard.js~Clipboard#get",
    "access": "public",
    "description": "Gets clipboard data",
    "lineNumber": 98,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{Promise<*>}"
      }
    ],
    "params": [
      {
        "nullable": null,
        "types": [
          "Boolean"
        ],
        "spread": false,
        "optional": true,
        "defaultValue": "false",
        "defaultRaw": false,
        "name": "clear",
        "description": "Clear clipboard"
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "Promise<*>"
      ],
      "spread": false,
      "description": ""
    }
  },
  {
    "__docId__": 192,
    "kind": "file",
    "name": "src/config.js",
    "content": "/**\n * OS.js - JavaScript Cloud/Web Desktop Platform\n *\n * Copyright (c) 2011-Present, Anders Evenrud <andersevenrud@gmail.com>\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *\n * 1. Redistributions of source code must retain the above copyright notice, this\n *    list of conditions and the following disclaimer\n * 2. Redistributions in binary form must reproduce the above copyright notice,\n *    this list of conditions and the following disclaimer in the documentation\n *    and/or other materials provided with the distribution\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\n * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR\n * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n *\n * @author  Anders Evenrud <andersevenrud@gmail.com>\n * @license Simplified BSD License\n */\n\nimport defaultIcon from \"./styles/icon.png\";\n\n/**\n * TODO: typedef\n * @typedef {Object} CoreConfig\n */\n\nconst createUri = (str) =>\n\tstr.replace(/(index\\.(html?|php))$/, \"\").replace(/\\/?$/, \"/\");\n\nconst pathname = createUri(window.location.pathname);\nconst href = createUri(window.location.href);\nconst development = !(process.env.NODE_ENV || \"\").match(/^prod/i);\n\nexport const defaultConfiguration = {\n\tdevelopment: development,\n\tstandalone: false,\n\n\thttp: {\n\t\tping: true,\n\t\tpublic: pathname,\n\t\turi: href,\n\t},\n\n\tws: {\n\t\tconnectInterval: 5000,\n\t\turi: href.replace(/^http/, \"ws\"),\n\t\tdisabled: false,\n\t},\n\n\tpackages: {\n\t\tmanifest: \"/metadata.json\",\n\t\tmetadata: [],\n\t\thidden: [],\n\t\tpermissions: {},\n\t\toverrideMetadata: {},\n\t},\n\n\tapplication: {\n\t\tpinned: [],\n\t\tautostart: [],\n\t\tcategories: {\n\t\t\tdevelopment: {\n\t\t\t\tlabel: \"Development\",\n\t\t\t\ticon: \"applications-development\",\n\t\t\t},\n\t\t\tscience: {\n\t\t\t\tlabel: \"Science\",\n\t\t\t\ticon: \"applications-science\",\n\t\t\t},\n\t\t\tgames: {\n\t\t\t\tlabel: \"Games\",\n\t\t\t\ticon: \"applications-games\",\n\t\t\t},\n\t\t\tgraphics: {\n\t\t\t\tlabel: \"Graphics\",\n\t\t\t\ticon: \"applications-graphics\",\n\t\t\t},\n\t\t\tnetwork: {\n\t\t\t\tlabel: \"Network\",\n\t\t\t\ticon: \"applications-internet\",\n\t\t\t},\n\t\t\tmultimedia: {\n\t\t\t\tlabel: \"Multimedia\",\n\t\t\t\ticon: \"applications-multimedia\",\n\t\t\t},\n\t\t\toffice: {\n\t\t\t\tlabel: \"Office\",\n\t\t\t\ticon: \"applications-office\",\n\t\t\t},\n\t\t\tsystem: {\n\t\t\t\tlabel: \"System\",\n\t\t\t\ticon: \"applications-system\",\n\t\t\t},\n\t\t\tutilities: {\n\t\t\t\tlabel: \"Utilities\",\n\t\t\t\ticon: \"applications-utilities\",\n\t\t\t},\n\t\t\tother: {\n\t\t\t\tlabel: \"Other\",\n\t\t\t\ticon: \"applications-other\",\n\t\t\t},\n\t\t},\n\t\twindows: [\n\t\t\t/*\n      {\n        application: string | RegExp | undefined,\n        window: string | RegExp | undefined,\n        options: {\n          dimension: object | undefined,\n          position: object | undefined,\n          attributes: object | undefined\n        }\n      }\n      */\n\t\t],\n\t},\n\n\tauth: {\n\t\tui: {},\n\n\t\tcookie: {\n\t\t\tname: \"meeseOS.auth\",\n\t\t\texpires: 7,\n\t\t\tenabled: true,\n\t\t\t// Only supports HTTPS in production, but allows insecure cookies in development\n\t\t\tsecure: !development,\n\t\t},\n\n\t\t// The default credentials to use when logging in\n\t\tlogin: {\n\t\t\tusername: \"guest\",\n\t\t\tpassword: \"guest\",\n\t\t},\n\n\t\t// The default values for newly registered users\n\t\tdefaultUserData: {\n\t\t\tusername: \"user\",\n\t\t\tgroups: [\"user\"],\n\t\t},\n\n\t\tallowGuest: true,\n\t},\n\n\tsettings: {\n\t\tlock: [],\n\n\t\t// localStorage settings adapter key prefix\n\t\tprefix: \"meeseOS__\",\n\n\t\tdefaults: {\n\t\t\t\"meeseOS/default-application\": {},\n\t\t\t\"meeseOS/session\": [],\n\t\t\t\"meeseOS/desktop\": {},\n\t\t},\n\t},\n\n\tfilemanager: {\n\t\tdisableDownload: false,\n\t},\n\n\tsearch: {\n\t\tenabled: true,\n\t},\n\n\tnotifications: {\n\t\tnative: false,\n\t},\n\n\tdesktop: {\n\t\tlock: false,\n\t\tcontextmenu: {\n\t\t\tenabled: true,\n\t\t\tdefaults: true,\n\t\t},\n\n\t\tsettings: {\n\t\t\tfont: \"Roboto\",\n\t\t\ttheme: \"StandardTheme\",\n\t\t\tsounds: \"Sounds\",\n\t\t\ticons: \"GnomeIcons\",\n\t\t\tanimations: false,\n\t\t\tpanels: [\n\t\t\t\t{\n\t\t\t\t\tposition: \"top\",\n\t\t\t\t\titems: [\n\t\t\t\t\t\t{ name: \"menu\" },\n\t\t\t\t\t\t{ name: \"windows\" },\n\t\t\t\t\t\t{ name: \"tray\" },\n\t\t\t\t\t\t{ name: \"clock\" },\n\t\t\t\t\t],\n\t\t\t\t},\n\t\t\t],\n\t\t\twidgets: [],\n\t\t\tkeybindings: {\n\t\t\t\t\"open-application-menu\": \"shift+alt+a\",\n\t\t\t\t\"close-window\": \"shift+alt+w\",\n\t\t\t},\n\t\t\tnotifications: {\n\t\t\t\tposition: \"top-right\",\n\t\t\t},\n\t\t\tbackground: {\n\t\t\t\ttype: \"static\",\n\t\t\t\trandom: true,\n\t\t\t\tsrc: \"meeseOS:/wallpapers/Wallpapers/plain.png\",\n\t\t\t\tcolor: \"#572a79\",\n\t\t\t\tstyle: \"cover\",\n\t\t\t},\n\t\t\tcursor: {\n\t\t\t\teffect: \"none\",\n\t\t\t},\n\t\t\ticonview: {\n\t\t\t\tenabled: true,\n\t\t\t\tpath: \"home:/.desktop\",\n\t\t\t\tfontColorStyle: \"system\",\n\t\t\t\tfontColor: \"#ffffff\",\n\t\t\t},\n\t\t},\n\t},\n\n\twindows: {\n\t\tlofi: false,\n\t\tmobile: false, // Trigger for setting mobile UI\n\t\ttemplate: null, // A string. See 'window.js' for example\n\t\tclampToViewport: true, // Clamp windows to viewport on resize\n\t\tmoveKeybinding: \"ctrl\",\n\t},\n\n\tvfs: {\n\t\twatch: true,\n\t\tdefaultPath: \"home:/\",\n\t\tdefaultAdapter: \"system\",\n\t\tadapters: {},\n\t\tenableBaseFolder: true,\n\t\tmountpoints: [\n\t\t\t{\n\t\t\t\tname: \"apps\",\n\t\t\t\tlabel: \"Applications\",\n\t\t\t\tadapter: \"apps\",\n\t\t\t\ticon: defaultIcon,\n\t\t\t\tattributes: {\n\t\t\t\t\tvisibility: \"restricted\",\n\t\t\t\t\treadOnly: true,\n\t\t\t\t},\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"meeseOS\",\n\t\t\t\tlabel: \"MeeseOS\",\n\t\t\t\tadapter: \"system\",\n\t\t\t\ticon: { name: \"folder-publicshare\" },\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"home\",\n\t\t\t\tlabel: \"Home\",\n\t\t\t\tadapter: \"system\",\n\t\t\t\ticon: { name: \"user-home\" },\n\t\t\t},\n\t\t],\n\t\ticons: {\n\t\t\t\"^application/javascript\": { name: \"text-x-script\" },\n\t\t\t\"^application/json\": { name: \"text-x-script\" },\n\t\t\t\"^application/x-python\": { name: \"text-x-script\" },\n\t\t\t\"^application/php\": { name: \"text-x-script\" },\n\t\t\t\"^application/pdf\": { name: \"x-office-document\" },\n\t\t\t\"^application/rtf\": { name: \"x-office-document\" },\n\t\t\t\"^application/msword\": { name: \"x-office-document\" },\n\t\t\t\"^application/(xz|tar|g?zip)\": { name: \"package-x-generic\" },\n\t\t\t\"^text/css\": { name: \"text-x-script\" },\n\t\t\t\"^text/html\": { name: \"text-html\" },\n\t\t\t\"^(application|text)/xml\": { name: \"text-html\" },\n\t\t\t\"^application\": { name: \"application-x-executable\" },\n\t\t\t\"^text\": { name: \"text-x-generic\" },\n\t\t\t\"^audio\": { name: \"audio-x-generic\" },\n\t\t\t\"^video\": { name: \"video-x-generic\" },\n\t\t\t\"^image\": { name: \"image-x-generic\" },\n\t\t},\n\t},\n\n\tproviders: {\n\t\tglobalBlacklist: [\"meeseOS/websocket\", \"meeseOS/clipboard\", \"meeseOS/gapi\"],\n\t\tglobalWhitelist: [],\n\t},\n};\n",
    "static": true,
    "longname": "/home/runner/work/meeseOS/meeseOS/frontend/client/src/config.js",
    "access": "public",
    "description": null,
    "lineNumber": 1
  },
  {
    "__docId__": 193,
    "kind": "typedef",
    "name": "CoreConfig",
    "memberof": "src/config.js",
    "static": true,
    "longname": "src/config.js~CoreConfig",
    "access": "public",
    "description": "TODO: typedef",
    "lineNumber": 38,
    "type": {
      "types": [
        "Object"
      ],
      "optional": false,
      "name": "CoreConfig"
    }
  },
  {
    "__docId__": 194,
    "kind": "variable",
    "name": "pathname",
    "memberof": "src/config.js",
    "static": true,
    "longname": "src/config.js~pathname",
    "access": "public",
    "export": false,
    "importPath": "@meeseOS/client/src/config.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 41,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    },
    "ignore": true
  },
  {
    "__docId__": 195,
    "kind": "variable",
    "name": "href",
    "memberof": "src/config.js",
    "static": true,
    "longname": "src/config.js~href",
    "access": "public",
    "export": false,
    "importPath": "@meeseOS/client/src/config.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 42,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    },
    "ignore": true
  },
  {
    "__docId__": 196,
    "kind": "variable",
    "name": "development",
    "memberof": "src/config.js",
    "static": true,
    "longname": "src/config.js~development",
    "access": "public",
    "export": false,
    "importPath": "@meeseOS/client/src/config.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 43,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    },
    "ignore": true
  },
  {
    "__docId__": 197,
    "kind": "variable",
    "name": "defaultConfiguration",
    "memberof": "src/config.js",
    "static": true,
    "longname": "src/config.js~defaultConfiguration",
    "access": "public",
    "export": true,
    "importPath": "@meeseOS/client/src/config.js",
    "importStyle": "{defaultConfiguration}",
    "description": null,
    "lineNumber": 45,
    "undocument": true,
    "type": {
      "types": [
        "{\"development\": *, \"standalone\": *, \"http\": *, \"ws\": *, \"packages\": *, \"application\": *, \"auth\": *, \"settings\": *, \"filemanager\": *, \"search\": *, \"notifications\": *, \"desktop\": *, \"windows\": *, \"vfs\": *, \"providers\": *}"
      ]
    },
    "ignore": true
  },
  {
    "__docId__": 198,
    "kind": "file",
    "name": "src/core.js",
    "content": "/**\n * OS.js - JavaScript Cloud/Web Desktop Platform\n *\n * Copyright (c) 2011-Present, Anders Evenrud <andersevenrud@gmail.com>\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *\n * 1. Redistributions of source code must retain the above copyright notice, this\n *    list of conditions and the following disclaimer\n * 2. Redistributions in binary form must reproduce the above copyright notice,\n *    this list of conditions and the following disclaimer in the documentation\n *    and/or other materials provided with the distribution\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\n * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR\n * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n *\n * @author  Anders Evenrud <andersevenrud@gmail.com>\n * @license Simplified BSD License\n */\n\nimport { CoreBase } from \"@meeseOS/common\";\nimport { defaultConfiguration } from \"./config\";\nimport { fetch } from \"./utils/fetch\";\nimport { urlResolver } from \"./utils/url\";\nimport Application from \"./application\";\nimport logger from \"./logger\";\nimport Splash from \"./splash\";\nimport Websocket from \"./websocket\";\nimport merge from \"deepmerge\";\nimport { isPlainObject } from \"is-plain-object\";\n\n/**\n * @callback SplashCallback\n * @param {Core} core\n * @returns {Splash}\n */\n\n/**\n * User Data\n *\n * @typedef {Object} CoreUserData\n * @property {String} username\n * @property {Number} [id]\n * @property {String[]} [groups=[]]\n */\n\n/**\n * Core Options\n *\n * @typedef {Object} CoreOptions\n * @property {Element} [root] The root DOM element for elements\n * @property {Element} [resourceRoot] The root DOM element for resources\n * @property {String[]} [classNames] List of class names to apply to root dom element\n * @property {SplashCallback|Splash} [splash] Custom callback function for creating splash screen\n */\n\n/**\n * Core Open File Options\n *\n * @typedef {Object} CoreOpenOptions\n * @property {Boolean} [useDefault] Use saved default application preference\n * @property {Boolean} [forceDialog] Force application choice dialog on multiple choices\n */\n\n/**\n * Main Core class for MeeseOS service providers and bootstrapping.\n */\nexport default class Core extends CoreBase {\n\t/**\n\t * Create core instance.\n\t * @param {CoreConfig} [config={}] Configuration tree\n\t * @param {CoreOptions} [options={}] Options\n\t */\n\tconstructor(config = {}, options = {}) {\n\t\toptions = {\n\t\t\tclassNames: [\"meeseOS-root\"],\n\t\t\troot: document.body,\n\t\t\t...(options || {}),\n\t\t};\n\n\t\tsuper(defaultConfiguration, config, options);\n\n\t\tconst $contents = document.createElement(\"div\");\n\t\t$contents.className = \"meeseOS-contents\";\n\n\t\tthis.logger = logger;\n\n\t\t/**\n\t\t * Websocket connection.\n\t\t * @type {Websocket}\n\t\t */\n\t\tthis.ws = null;\n\n\t\t/**\n\t\t * Ping (stay alive) interval.\n\t\t * @type {Number}\n\t\t */\n\t\tthis.ping = null;\n\n\t\t/**\n\t\t * Main DOM element (typically `<body>`)\n\t\t * @type {Element}\n\t\t * @readonly\n\t\t */\n\t\tthis.$root = options.root;\n\n\t\t/**\n\t\t * DOM element that contains all windows, the desktop, etc.\n\t\t * @type {Element}\n\t\t * @readonly\n\t\t */\n\t\tthis.$contents = $contents;\n\n\t\t/**\n\t\t * Resource script container DOM element.\n\t\t * @type {Element}\n\t\t * @readonly\n\t\t */\n\t\tthis.$resourceRoot = options.resourceRoot || document.querySelector(\"head\");\n\n\t\t/**\n\t\t * Default fetch request options.\n\t\t * @type {Object}\n\t\t */\n\t\tthis.requestOptions = {};\n\n\t\t/**\n\t\t * URL Resolver\n\t\t * TODO: typedef\n\t\t * @type {Function(): String}\n\t\t * @readonly\n\t\t */\n\t\tthis.urlResolver = urlResolver(this.configuration);\n\n\t\t/**\n\t\t * Current user data.\n\t\t * @type {CoreUserData}\n\t\t * @readonly\n\t\t */\n\t\tthis.user = this.config(\"auth.defaultUserData\");\n\n\t\tthis.options.classNames.forEach((n) => this.$root.classList.add(n));\n\n\t\tconst { uri } = this.configuration.ws;\n\t\tif (!uri.match(/^wss?:/)) {\n\t\t\tconst { protocol, host } = window.location;\n\n\t\t\tthis.configuration.ws.uri =\n\t\t\t\tprotocol.replace(/^http/, \"ws\") +\n\t\t\t\t\"//\" +\n\t\t\t\thost +\n\t\t\t\turi.replace(/^\\/+/, \"/\");\n\t\t}\n\n\t\t// Only create the splash in production\n\t\tif (this.configuration.development === false) {\n\t\t\t/**\n\t\t\t * Splash instance\n\t\t\t * @type {Splash}\n\t\t\t * @readonly\n\t\t\t */\n\t\t\tthis.splash = options.splash ? options.splash(this) : new Splash(this);\n\t\t\tthis.splash.init();\n\t\t}\n\t}\n\n\t/**\n\t * Destroy core instance.\n\t * @returns {Boolean}\n\t */\n\tdestroy() {\n\t\tif (this.destroyed) {\n\t\t\treturn Promise.resolve();\n\t\t}\n\n\t\tthis.emit(\"meeseOS/core:destroy\");\n\n\t\tthis.ping = clearInterval(this.ping);\n\n\t\tApplication.destroyAll();\n\n\t\tif (this.ws) {\n\t\t\tthis.ws.close();\n\t\t}\n\n\t\tif (this.$contents) {\n\t\t\tthis.$contents.remove();\n\t\t\tthis.$contents = undefined;\n\t\t}\n\n\t\tthis.user = this.config(\"auth.defaultUserData\");\n\t\tthis.ws = null;\n\t\tthis.ping = null;\n\n\t\treturn super.destroy();\n\t}\n\n\t/**\n\t * Boots up MeeseOS.\n\t * @returns {Promise<Boolean>}\n\t */\n\tboot() {\n\t\tconst done = (e) => {\n\t\t\tif (e) {\n\t\t\t\tlogger.error(\"Error while booting\", e);\n\t\t\t}\n\n\t\t\tconsole.groupEnd();\n\n\t\t\treturn this.start();\n\t\t};\n\n\t\tif (this.booted) {\n\t\t\treturn Promise.resolve(false);\n\t\t}\n\n\t\tconsole.group(\"Core::boot()\");\n\n\t\tthis.$root.appendChild(this.$contents);\n\t\tthis._attachEvents();\n\t\tthis.emit(\"meeseOS/core:boot\");\n\n\t\t// TODO: Start the service providers before auth, not after\n\t\treturn super\n\t\t\t.boot()\n\t\t\t.then(() => {\n\t\t\t\tthis.emit(\"meeseOS/core:booted\");\n\n\t\t\t\tif (this.has(\"meeseOS/auth\")) {\n\t\t\t\t\treturn this.make(\"meeseOS/auth\").show((user) => {\n\t\t\t\t\t\tconst defaultData = this.config(\"auth.defaultUserData\");\n\t\t\t\t\t\tthis.user = {\n\t\t\t\t\t\t\t...defaultData,\n\t\t\t\t\t\t\t...user,\n\t\t\t\t\t\t};\n\n\t\t\t\t\t\tif (this.has(\"meeseOS/settings\")) {\n\t\t\t\t\t\t\tthis.make(\"meeseOS/settings\")\n\t\t\t\t\t\t\t\t.load()\n\t\t\t\t\t\t\t\t.then(() => done())\n\t\t\t\t\t\t\t\t.catch(() => done());\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tdone();\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\n\t\t\t\tlogger.debug(\"MeeseOS STARTED WITHOUT ANY AUTHENTICATION\");\n\t\t\t\treturn done();\n\t\t\t})\n\t\t\t.catch(done);\n\t}\n\n\t/**\n\t * Starts all core services.\n\t * @returns {Promise<Boolean>}\n\t */\n\tstart() {\n\t\tconst connect = () =>\n\t\t\tnew Promise((resolve, reject) => {\n\t\t\t\ttry {\n\t\t\t\t\tconst valid = this._createConnection((error) =>\n\t\t\t\t\t\terror ? reject(error) : resolve()\n\t\t\t\t\t);\n\t\t\t\t\tif (valid === false) {\n\t\t\t\t\t\t// We can skip the connection\n\t\t\t\t\t\tresolve();\n\t\t\t\t\t}\n\t\t\t\t} catch (e) {\n\t\t\t\t\treject(e);\n\t\t\t\t}\n\t\t\t});\n\n\t\tconst done = (err) => {\n\t\t\tthis.emit(\"meeseOS/core:started\");\n\n\t\t\tif (err) {\n\t\t\t\tlogger.warn(\"Error while starting\", err);\n\t\t\t}\n\n\t\t\tconsole.groupEnd();\n\t\t\treturn !err;\n\t\t};\n\n\t\tif (this.started) {\n\t\t\treturn Promise.resolve(false);\n\t\t}\n\n\t\tconsole.group(\"Core::start()\");\n\t\tthis.emit(\"meeseOS/core:start\");\n\t\tthis._createListeners();\n\n\t\treturn super\n\t\t\t.start()\n\t\t\t.then((result) => {\n\t\t\t\tconsole.groupEnd();\n\n\t\t\t\tif (result) {\n\t\t\t\t\treturn connect()\n\t\t\t\t\t\t.then(() => done())\n\t\t\t\t\t\t.catch((err) => done(err));\n\t\t\t\t}\n\n\t\t\t\treturn false;\n\t\t\t})\n\t\t\t.catch(done);\n\t}\n\n\t/**\n\t * Attaches some internal events.\n\t * @private\n\t */\n\t_attachEvents() {\n\t\t// Attaches sounds for certain events\n\t\tthis.on(\"meeseOS/core:started\", () => {\n\t\t\tif (this.has(\"meeseOS/sounds\")) {\n\t\t\t\t// TODO: Don't attempt to run this on autologin via cookie; DOMException\n\t\t\t\tthis.make(\"meeseOS/sounds\").play(\"service-login\");\n\t\t\t}\n\t\t});\n\n\t\tthis.on(\"meeseOS/core:destroy\", () => {\n\t\t\tif (this.has(\"meeseOS/sounds\")) {\n\t\t\t\tthis.make(\"meeseOS/sounds\").play(\"service-logout\");\n\t\t\t}\n\t\t});\n\n\t\t// Forwards messages to an application from internal websocket\n\t\tthis.on(\"meeseOS/application:socket:message\", ({ pid, args }) => {\n\t\t\tconst found = Application.getApplications().find(\n\t\t\t\t(proc) => proc && proc.pid === pid\n\t\t\t);\n\n\t\t\tif (found) {\n\t\t\t\tfound.emit(\"ws:message\", ...args);\n\t\t\t}\n\t\t});\n\n\t\t// Sets up a server ping\n\t\tthis.on(\"meeseOS/core:connected\", (config) => {\n\t\t\tconst enabled = this.config(\"http.ping\");\n\n\t\t\tif (enabled) {\n\t\t\t\t// Defaults to every 30 minutes if not specified otherwise\n\t\t\t\tconst pingTime = typeof enabled === \"number\" ? enabled : 30 * 60 * 1000;\n\n\t\t\t\tthis.ping = setInterval(() => {\n\t\t\t\t\tif (this.ws) {\n\t\t\t\t\t\tif (this.ws.connected && !this.ws.reconnecting) {\n\t\t\t\t\t\t\tthis.request(\"/ping\").catch((e) =>\n\t\t\t\t\t\t\t\tlogger.warn(\"Error on ping\", e)\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}, pingTime);\n\t\t\t}\n\t\t});\n\t}\n\n\t/**\n\t * Creates the main connection to server.\n\t *\n\t * @private\n\t * @param {Function} cb Callback function\n\t * @returns {Boolean}\n\t */\n\t_createConnection(cb) {\n\t\tif (this.configuration.standalone || this.configuration.ws.disabled) {\n\t\t\treturn false;\n\t\t}\n\n\t\tconst { uri } = this.config(\"ws\");\n\t\tlet wasConnected = false;\n\n\t\tlogger.debug(\"Creating websocket connection on\", uri);\n\t\tthis.ws = new Websocket(\"CoreSocket\", uri, {\n\t\t\tinterval: this.config(\"ws.connectInterval\", 1000),\n\t\t});\n\n\t\tthis.ws.once(\"connected\", () => {\n\t\t\t// Allow for some grace-time in case we close prematurely\n\t\t\tsetTimeout(() => {\n\t\t\t\twasConnected = true;\n\t\t\t\tcb();\n\t\t\t}, 100);\n\t\t});\n\n\t\tthis.ws.on(\"connected\", (ev, reconnected) => {\n\t\t\tthis.emit(\"meeseOS/core:connect\", ev, reconnected);\n\t\t});\n\n\t\tthis.ws.once(\"failed\", (ev) => {\n\t\t\tif (!wasConnected) {\n\t\t\t\tcb(new Error(\"Connection closed\"));\n\t\t\t\tthis.emit(\"meeseOS/core:connection-failed\", ev);\n\t\t\t}\n\t\t});\n\n\t\tthis.ws.on(\"disconnected\", (ev) => {\n\t\t\tthis.emit(\"meeseOS/core:disconnect\", ev);\n\t\t});\n\n\t\tthis.ws.on(\"message\", (ev) => {\n\t\t\ttry {\n\t\t\t\tconst data = JSON.parse(ev.data);\n\t\t\t\tconst params = data.params || [];\n\t\t\t\tthis.emit(data.name, ...params);\n\t\t\t} catch (e) {\n\t\t\t\tlogger.warn(\"Exception on websocket message\", e);\n\t\t\t}\n\t\t});\n\n\t\treturn true;\n\t}\n\n\t/**\n\t * Creates event listeners.\n\t * @private\n\t */\n\t_createListeners() {\n\t\tconst handle = (data) => {\n\t\t\tconst { pid, wid, args } = data;\n\t\t\tconst proc = Application.getApplications().find(\n\t\t\t\t(app) => app.pid === pid\n\t\t\t);\n\t\t\tconst win = proc ? proc.windows.find((w) => w.wid === wid) : null;\n\n\t\t\tif (win) {\n\t\t\t\twin.emit(\"iframe:get\", ...(args || []));\n\t\t\t}\n\t\t};\n\n\t\twindow.addEventListener(\"message\", (ev) => {\n\t\t\tconst message = ev.data || {};\n\t\t\tif (message && message.name === \"meeseOS/iframe:message\") {\n\t\t\t\thandle(...(message.params || []));\n\t\t\t}\n\t\t});\n\t}\n\n\t/**\n\t * Creates an URL based on configured public path.\n\t *\n\t * If you give a options.type, the URL will be resolved\n\t * to the correct resource.\n\t *\n\t * @param {String} [endpoint=/] Endpoint\n\t * @param {Object} [options] Additional options for resolving url\n\t * @param {Boolean} [options.prefix=false] Returns a full URL complete with\n\t * scheme, etc. (will always be true on websocket)\n\t * @param {String} [options.type] Optional URL type (websocket)\n\t * @param {PackageMetadata} [metadata] A package metadata\n\t * @returns {String}\n\t */\n\turl(endpoint = \"/\", options = {}, metadata = {}) {\n\t\treturn this.urlResolver(endpoint, options, metadata);\n\t}\n\n\t/**\n\t * Makes an HTTP request.\n\t *\n\t * This is a wrapper for making a 'fetch' request with some helpers\n\t * and integration with MeeseOS.\n\t *\n\t * @param {String} url The endpoint\n\t * @param {Options} [options] fetch options\n\t * @param {String} [type] Request / Response type\n\t * @param {Boolean} [force=false] Force request even when in standalone mode\n\t * @returns {*}\n\t */\n\trequest(url, options = {}, type = null, force = false) {\n\t\tif (this.config(\"standalone\") && !force) {\n\t\t\treturn Promise.reject(\n\t\t\t\tnew Error(\"Cannot make requests in standalone mode.\")\n\t\t\t);\n\t\t}\n\n\t\tif (!url.match(/^((http|ws|ftp)s?:)/i)) {\n\t\t\turl = this.url(url);\n\n\t\t\toptions = merge(\n\t\t\t\toptions,\n\t\t\t\tthis.requestOptions,\n\t\t\t\t{ isMergeableObject: isPlainObject }\n\t\t\t);\n\t\t}\n\n\t\treturn fetch(url, options, type).catch((error) => {\n\t\t\tlogger.warn(error);\n\n\t\t\tthrow new Error(`An error occured while performing a request: ${error}`);\n\t\t});\n\t}\n\n\t/**\n\t * Create an application from a package.\n\t *\n\t * @param {String} name Package name\n\t * @param {{foo: *}} [args] Launch arguments\n\t * @param {PackageLaunchOptions} [options] Launch options\n\t * @see {Packages}\n\t * @returns {Promise<Application>}\n\t */\n\trun(name, args = {}, options = {}) {\n\t\tlogger.debug(\"Core::run()\", name, args, options);\n\n\t\treturn this.make(\"meeseOS/packages\").launch(name, args, options);\n\t}\n\n\t/**\n\t * Spawns an application based on the file given.\n\t *\n\t * @param {VFSFile} file A file object\n\t * @param {CoreOpenOptions} [options] Options\n\t * @returns {Boolean|Application}\n\t */\n\topen(file, options = {}) {\n\t\tif (file.mime === \"meeseOS/application\") {\n\t\t\treturn this.run(file.path.split(\"/\").pop());\n\t\t}\n\n\t\tconst run = (app) => this.run(app, { file }, options);\n\t\tconst compatible = this.make(\"meeseOS/packages\").getCompatiblePackages(\n\t\t\tfile.mime\n\t\t);\n\n\t\tif (compatible.length > 0) {\n\t\t\tif (compatible.length > 1) {\n\t\t\t\ttry {\n\t\t\t\t\tthis._openApplicationDialog(options, compatible, file, run);\n\n\t\t\t\t\treturn true;\n\t\t\t\t} catch (e) {\n\t\t\t\t\tlogger.warn(\"Exception on compability check\", e);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\trun(compatible[0].name);\n\n\t\t\treturn Promise.resolve(true);\n\t\t}\n\n\t\treturn Promise.resolve(false);\n\t}\n\n\t/**\n\t * Wrapper method to create an application choice dialog.\n\t * @private\n\t */\n\t_openApplicationDialog(options, compatible, file, run) {\n\t\tconst useDefault = options.useDefault && this.has(\"meeseOS/settings\");\n\t\tconst setDefault = (name) =>\n\t\t\tthis.make(\"meeseOS/settings\")\n\t\t\t\t.set(\"meeseOS/default-application\", file.mime, name)\n\t\t\t\t.save();\n\n\t\tconst value = useDefault\n\t\t\t? this.make(\"meeseOS/settings\").get(\n\t\t\t\t\"meeseOS/default-application\",\n\t\t\t\tfile.mime\n\t\t\t)\n\t\t\t: null;\n\n\t\tconst type = useDefault ? \"defaultApplication\" : \"choice\";\n\n\t\tconst args = {\n\t\t\ttitle: \"Select application\",\n\t\t\tmessage: `Select application for '${file.path}'`,\n\t\t\tchoices: compatible.reduce((o, i) => ({ ...o, [i.name]: i.name }), {}),\n\t\t\tvalue,\n\t\t};\n\n\t\tif (value && !options.forceDialog) {\n\t\t\trun(value);\n\t\t} else {\n\t\t\tthis.make(\"meeseOS/dialog\", type, args, (btn, choice) => {\n\t\t\t\tif (btn === \"ok\") {\n\t\t\t\t\tif (type === \"defaultApplication\") {\n\t\t\t\t\t\tif (useDefault) {\n\t\t\t\t\t\t\tsetDefault(choice.checked ? choice.value : null);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\trun(choice.value);\n\t\t\t\t\t} else if (choice) {\n\t\t\t\t\t\trun(choice);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t}\n\n\t/**\n\t * Removes an event handler.\n\t *\n\t * @param {String} name\n\t * @param {Function} [callback=null]\n\t * @param {Boolean} [force=false]\n\t * @returns {Core} this\n\t */\n\toff(name, callback = null, force = false) {\n\t\tif (name.match(/^meeseOS\\//) && typeof callback !== \"function\") {\n\t\t\tthrow new TypeError(\"The callback must be a function\");\n\t\t}\n\n\t\treturn super.off(name, callback, force);\n\t}\n\n\t/**\n\t * Sends a 'broadcast' event with given arguments\n\t * to all applications matching given filter.\n\t *\n\t * @param {String|Function} pkg The filter\n\t * @param {String} name The event name\n\t * @param {*} ...args Arguments to pass to emit\n\t * @returns {String[]} List of application names emitted to\n\t */\n\tbroadcast(pkg, name, ...args) {\n\t\tconst filter =\n\t\t\ttypeof pkg === \"function\" ? pkg : (p) => p.metadata.name === pkg;\n\n\t\tconst apps = Application.getApplications().filter(filter);\n\n\t\treturn apps.map((proc) => {\n\t\t\tproc.emit(name, ...args);\n\n\t\t\treturn proc.name;\n\t\t});\n\t}\n\n\t/**\n\t * Sends a signal to the server over websocket.\n\t * This will be interpreted as an event in the server core.\n\t * @param {String} name Event name\n\t * @param {*} ...params Event callback parameters\n\t */\n\tsend(name, ...params) {\n\t\treturn this.ws.send(\n\t\t\tJSON.stringify({\n\t\t\t\tname,\n\t\t\t\tparams,\n\t\t\t})\n\t\t);\n\t}\n\n\t/**\n\t * Set the internal fetch/request options.\n\t * @param {Object} options Request options\n\t */\n\tsetRequestOptions(options) {\n\t\tthis.requestOptions = { ...options };\n\t}\n\n\t/**\n\t * Gets the current user.\n\t * @returns {CoreUserData} User object\n\t */\n\tgetUser() {\n\t\treturn { ...this.user };\n\t}\n\n\t/**\n\t * Add middleware function to a group.\n\t * @param {String} group Middleware group\n\t * @param {Function} callback Middleware function to add\n\t */\n\tmiddleware(group, callback) {\n\t\treturn this.make(\"meeseOS/middleware\").add(group, callback);\n\t}\n\n\t/**\n\t * Kills the specified application.\n\t * @param {String|Number} match Application name or PID\n\t */\n\tkill(match) {\n\t\tconst apps = Application.getApplications();\n\t\tconst matcher = typeof match === \"number\"\n\t\t\t? app => app.pid === match\n\t\t\t: app => app.metadata.name === match;\n\n\t\tconst found = apps.filter(matcher);\n\t\tfound.forEach(app => app.destroy());\n\t}\n}\n",
    "static": true,
    "longname": "/home/runner/work/meeseOS/meeseOS/frontend/client/src/core.js",
    "access": "public",
    "description": null,
    "lineNumber": 1
  },
  {
    "__docId__": 199,
    "kind": "typedef",
    "name": "CoreUserData",
    "memberof": "src/core.js",
    "static": true,
    "longname": "src/core.js~CoreUserData",
    "access": "public",
    "description": "User Data",
    "properties": [
      {
        "nullable": null,
        "types": [
          "String"
        ],
        "spread": false,
        "optional": false,
        "name": "username",
        "description": ""
      },
      {
        "nullable": null,
        "types": [
          "Number"
        ],
        "spread": false,
        "optional": true,
        "name": "id",
        "description": ""
      },
      {
        "nullable": null,
        "types": [
          "String[]"
        ],
        "spread": false,
        "optional": true,
        "defaultValue": "[]",
        "defaultRaw": [],
        "name": "groups",
        "description": ""
      }
    ],
    "type": {
      "types": [
        "Object"
      ],
      "optional": false,
      "name": "CoreUserData"
    }
  },
  {
    "__docId__": 200,
    "kind": "typedef",
    "name": "CoreOptions",
    "memberof": "src/core.js",
    "static": true,
    "longname": "src/core.js~CoreOptions",
    "access": "public",
    "description": "Core Options",
    "properties": [
      {
        "nullable": null,
        "types": [
          "Element"
        ],
        "spread": false,
        "optional": true,
        "name": "root",
        "description": "The root DOM element for elements"
      },
      {
        "nullable": null,
        "types": [
          "Element"
        ],
        "spread": false,
        "optional": true,
        "name": "resourceRoot",
        "description": "The root DOM element for resources"
      },
      {
        "nullable": null,
        "types": [
          "String[]"
        ],
        "spread": false,
        "optional": true,
        "name": "classNames",
        "description": "List of class names to apply to root dom element"
      },
      {
        "nullable": null,
        "types": [
          "SplashCallback",
          "Splash"
        ],
        "spread": false,
        "optional": true,
        "name": "splash",
        "description": "Custom callback function for creating splash screen"
      }
    ],
    "type": {
      "types": [
        "Object"
      ],
      "optional": false,
      "name": "CoreOptions"
    }
  },
  {
    "__docId__": 201,
    "kind": "typedef",
    "name": "CoreOpenOptions",
    "memberof": "src/core.js",
    "static": true,
    "longname": "src/core.js~CoreOpenOptions",
    "access": "public",
    "description": "Core Open File Options",
    "properties": [
      {
        "nullable": null,
        "types": [
          "Boolean"
        ],
        "spread": false,
        "optional": true,
        "name": "useDefault",
        "description": "Use saved default application preference"
      },
      {
        "nullable": null,
        "types": [
          "Boolean"
        ],
        "spread": false,
        "optional": true,
        "name": "forceDialog",
        "description": "Force application choice dialog on multiple choices"
      }
    ],
    "type": {
      "types": [
        "Object"
      ],
      "optional": false,
      "name": "CoreOpenOptions"
    }
  },
  {
    "__docId__": 202,
    "kind": "class",
    "name": "Core",
    "memberof": "src/core.js",
    "static": true,
    "longname": "src/core.js~Core",
    "access": "public",
    "export": true,
    "importPath": "@meeseOS/client/src/core.js",
    "importStyle": "Core",
    "description": "Main Core class for MeeseOS service providers and bootstrapping.",
    "lineNumber": 78,
    "interface": false,
    "extends": [
      "@meeseOS/common~CoreBase"
    ]
  },
  {
    "__docId__": 203,
    "kind": "constructor",
    "name": "constructor",
    "memberof": "src/core.js~Core",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/core.js~Core#constructor",
    "access": "public",
    "description": "Create core instance.",
    "lineNumber": 84,
    "params": [
      {
        "nullable": null,
        "types": [
          "CoreConfig"
        ],
        "spread": false,
        "optional": true,
        "defaultValue": "{}",
        "defaultRaw": {},
        "name": "config",
        "description": "Configuration tree"
      },
      {
        "nullable": null,
        "types": [
          "CoreOptions"
        ],
        "spread": false,
        "optional": true,
        "defaultValue": "{}",
        "defaultRaw": {},
        "name": "options",
        "description": "Options"
      }
    ]
  },
  {
    "__docId__": 204,
    "kind": "member",
    "name": "logger",
    "memberof": "src/core.js~Core",
    "static": false,
    "longname": "src/core.js~Core#logger",
    "access": "public",
    "description": null,
    "lineNumber": 96,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    },
    "ignore": true
  },
  {
    "__docId__": 205,
    "kind": "member",
    "name": "ws",
    "memberof": "src/core.js~Core",
    "static": false,
    "longname": "src/core.js~Core#ws",
    "access": "public",
    "description": "Websocket connection.",
    "lineNumber": 102,
    "type": {
      "nullable": null,
      "types": [
        "Websocket"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 206,
    "kind": "member",
    "name": "ping",
    "memberof": "src/core.js~Core",
    "static": false,
    "longname": "src/core.js~Core#ping",
    "access": "public",
    "description": "Ping (stay alive) interval.",
    "lineNumber": 108,
    "type": {
      "nullable": null,
      "types": [
        "Number"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 207,
    "kind": "member",
    "name": "$root",
    "memberof": "src/core.js~Core",
    "static": false,
    "longname": "src/core.js~Core#$root",
    "access": "public",
    "description": "Main DOM element (typically `<body>`)",
    "lineNumber": 115,
    "unknown": [
      {
        "tagName": "@readonly",
        "tagValue": ""
      }
    ],
    "type": {
      "nullable": null,
      "types": [
        "Element"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 208,
    "kind": "member",
    "name": "$contents",
    "memberof": "src/core.js~Core",
    "static": false,
    "longname": "src/core.js~Core#$contents",
    "access": "public",
    "description": "DOM element that contains all windows, the desktop, etc.",
    "lineNumber": 122,
    "unknown": [
      {
        "tagName": "@readonly",
        "tagValue": ""
      }
    ],
    "type": {
      "nullable": null,
      "types": [
        "Element"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 209,
    "kind": "member",
    "name": "$resourceRoot",
    "memberof": "src/core.js~Core",
    "static": false,
    "longname": "src/core.js~Core#$resourceRoot",
    "access": "public",
    "description": "Resource script container DOM element.",
    "lineNumber": 129,
    "unknown": [
      {
        "tagName": "@readonly",
        "tagValue": ""
      }
    ],
    "type": {
      "nullable": null,
      "types": [
        "Element"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 210,
    "kind": "member",
    "name": "requestOptions",
    "memberof": "src/core.js~Core",
    "static": false,
    "longname": "src/core.js~Core#requestOptions",
    "access": "public",
    "description": "Default fetch request options.",
    "lineNumber": 135,
    "type": {
      "nullable": null,
      "types": [
        "Object"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 211,
    "kind": "member",
    "name": "urlResolver",
    "memberof": "src/core.js~Core",
    "static": false,
    "longname": "src/core.js~Core#urlResolver",
    "access": "public",
    "description": "URL Resolver\nTODO: typedef",
    "lineNumber": 143,
    "unknown": [
      {
        "tagName": "@readonly",
        "tagValue": ""
      }
    ],
    "type": {
      "nullable": null,
      "types": [
        "Function(): String"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 212,
    "kind": "member",
    "name": "user",
    "memberof": "src/core.js~Core",
    "static": false,
    "longname": "src/core.js~Core#user",
    "access": "public",
    "description": "Current user data.",
    "lineNumber": 150,
    "unknown": [
      {
        "tagName": "@readonly",
        "tagValue": ""
      }
    ],
    "type": {
      "nullable": null,
      "types": [
        "CoreUserData"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 213,
    "kind": "member",
    "name": "splash",
    "memberof": "src/core.js~Core",
    "static": false,
    "longname": "src/core.js~Core#splash",
    "access": "public",
    "description": "Splash instance",
    "lineNumber": 172,
    "unknown": [
      {
        "tagName": "@readonly",
        "tagValue": ""
      }
    ],
    "type": {
      "nullable": null,
      "types": [
        "Splash"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 214,
    "kind": "method",
    "name": "destroy",
    "memberof": "src/core.js~Core",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/core.js~Core#destroy",
    "access": "public",
    "description": "Destroy core instance.",
    "lineNumber": 181,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{Boolean}"
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "Boolean"
      ],
      "spread": false,
      "description": ""
    },
    "params": []
  },
  {
    "__docId__": 220,
    "kind": "method",
    "name": "boot",
    "memberof": "src/core.js~Core",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/core.js~Core#boot",
    "access": "public",
    "description": "Boots up MeeseOS.",
    "lineNumber": 212,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{Promise<Boolean>}"
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "Promise<Boolean>"
      ],
      "spread": false,
      "description": ""
    },
    "params": []
  },
  {
    "__docId__": 222,
    "kind": "method",
    "name": "start",
    "memberof": "src/core.js~Core",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/core.js~Core#start",
    "access": "public",
    "description": "Starts all core services.",
    "lineNumber": 268,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{Promise<Boolean>}"
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "Promise<Boolean>"
      ],
      "spread": false,
      "description": ""
    },
    "params": []
  },
  {
    "__docId__": 223,
    "kind": "method",
    "name": "_attachEvents",
    "memberof": "src/core.js~Core",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/core.js~Core#_attachEvents",
    "access": "private",
    "description": "Attaches some internal events.",
    "lineNumber": 323,
    "params": [],
    "return": null
  },
  {
    "__docId__": 225,
    "kind": "method",
    "name": "_createConnection",
    "memberof": "src/core.js~Core",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/core.js~Core#_createConnection",
    "access": "private",
    "description": "Creates the main connection to server.",
    "lineNumber": 377,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{Boolean}"
      }
    ],
    "params": [
      {
        "nullable": null,
        "types": [
          "Function"
        ],
        "spread": false,
        "optional": false,
        "name": "cb",
        "description": "Callback function"
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "Boolean"
      ],
      "spread": false,
      "description": ""
    }
  },
  {
    "__docId__": 227,
    "kind": "method",
    "name": "_createListeners",
    "memberof": "src/core.js~Core",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/core.js~Core#_createListeners",
    "access": "private",
    "description": "Creates event listeners.",
    "lineNumber": 430,
    "params": [],
    "return": null
  },
  {
    "__docId__": 228,
    "kind": "method",
    "name": "url",
    "memberof": "src/core.js~Core",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/core.js~Core#url",
    "access": "public",
    "description": "Creates an URL based on configured public path.\n\nIf you give a options.type, the URL will be resolved\nto the correct resource.",
    "lineNumber": 465,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{String}"
      }
    ],
    "params": [
      {
        "nullable": null,
        "types": [
          "String"
        ],
        "spread": false,
        "optional": true,
        "defaultValue": "/",
        "defaultRaw": "/",
        "name": "endpoint",
        "description": "Endpoint"
      },
      {
        "nullable": null,
        "types": [
          "Object"
        ],
        "spread": false,
        "optional": true,
        "name": "options",
        "description": "Additional options for resolving url"
      },
      {
        "nullable": null,
        "types": [
          "Boolean"
        ],
        "spread": false,
        "optional": true,
        "defaultValue": "false",
        "defaultRaw": false,
        "name": "options.prefix",
        "description": "Returns a full URL complete with\nscheme, etc. (will always be true on websocket)"
      },
      {
        "nullable": null,
        "types": [
          "String"
        ],
        "spread": false,
        "optional": true,
        "name": "options.type",
        "description": "Optional URL type (websocket)"
      },
      {
        "nullable": null,
        "types": [
          "PackageMetadata"
        ],
        "spread": false,
        "optional": true,
        "name": "metadata",
        "description": "A package metadata"
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "String"
      ],
      "spread": false,
      "description": ""
    }
  },
  {
    "__docId__": 229,
    "kind": "method",
    "name": "request",
    "memberof": "src/core.js~Core",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/core.js~Core#request",
    "access": "public",
    "description": "Makes an HTTP request.\n\nThis is a wrapper for making a 'fetch' request with some helpers\nand integration with MeeseOS.",
    "lineNumber": 481,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{*}"
      }
    ],
    "params": [
      {
        "nullable": null,
        "types": [
          "String"
        ],
        "spread": false,
        "optional": false,
        "name": "url",
        "description": "The endpoint"
      },
      {
        "nullable": null,
        "types": [
          "Options"
        ],
        "spread": false,
        "optional": true,
        "name": "options",
        "description": "fetch options"
      },
      {
        "nullable": null,
        "types": [
          "String"
        ],
        "spread": false,
        "optional": true,
        "name": "type",
        "description": "Request / Response type"
      },
      {
        "nullable": null,
        "types": [
          "Boolean"
        ],
        "spread": false,
        "optional": true,
        "defaultValue": "false",
        "defaultRaw": false,
        "name": "force",
        "description": "Force request even when in standalone mode"
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "*"
      ],
      "spread": false,
      "description": ""
    }
  },
  {
    "__docId__": 230,
    "kind": "method",
    "name": "run",
    "memberof": "src/core.js~Core",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/core.js~Core#run",
    "access": "public",
    "description": "Create an application from a package.",
    "see": [
      "{Packages}"
    ],
    "lineNumber": 514,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{Promise<Application>}"
      }
    ],
    "params": [
      {
        "nullable": null,
        "types": [
          "String"
        ],
        "spread": false,
        "optional": false,
        "name": "name",
        "description": "Package name"
      },
      {
        "nullable": null,
        "types": [
          "{foo: *}"
        ],
        "spread": false,
        "optional": true,
        "name": "args",
        "description": "Launch arguments"
      },
      {
        "nullable": null,
        "types": [
          "PackageLaunchOptions"
        ],
        "spread": false,
        "optional": true,
        "name": "options",
        "description": "Launch options"
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "Promise<Application>"
      ],
      "spread": false,
      "description": ""
    }
  },
  {
    "__docId__": 231,
    "kind": "method",
    "name": "open",
    "memberof": "src/core.js~Core",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/core.js~Core#open",
    "access": "public",
    "description": "Spawns an application based on the file given.",
    "lineNumber": 527,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{Boolean|Application}"
      }
    ],
    "params": [
      {
        "nullable": null,
        "types": [
          "VFSFile"
        ],
        "spread": false,
        "optional": false,
        "name": "file",
        "description": "A file object"
      },
      {
        "nullable": null,
        "types": [
          "CoreOpenOptions"
        ],
        "spread": false,
        "optional": true,
        "name": "options",
        "description": "Options"
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "Boolean",
        "Application"
      ],
      "spread": false,
      "description": ""
    }
  },
  {
    "__docId__": 232,
    "kind": "method",
    "name": "_openApplicationDialog",
    "memberof": "src/core.js~Core",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/core.js~Core#_openApplicationDialog",
    "access": "private",
    "description": "Wrapper method to create an application choice dialog.",
    "lineNumber": 560,
    "params": [
      {
        "name": "options",
        "types": [
          "*"
        ]
      },
      {
        "name": "compatible",
        "types": [
          "*"
        ]
      },
      {
        "name": "file",
        "types": [
          "*"
        ]
      },
      {
        "name": "run",
        "types": [
          "*"
        ]
      }
    ],
    "return": null
  },
  {
    "__docId__": 233,
    "kind": "method",
    "name": "off",
    "memberof": "src/core.js~Core",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/core.js~Core#off",
    "access": "public",
    "description": "Removes an event handler.",
    "lineNumber": 610,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{Core} this"
      }
    ],
    "params": [
      {
        "nullable": null,
        "types": [
          "String"
        ],
        "spread": false,
        "optional": false,
        "name": "name",
        "description": ""
      },
      {
        "nullable": null,
        "types": [
          "Function"
        ],
        "spread": false,
        "optional": true,
        "defaultValue": "null",
        "defaultRaw": null,
        "name": "callback",
        "description": ""
      },
      {
        "nullable": null,
        "types": [
          "Boolean"
        ],
        "spread": false,
        "optional": true,
        "defaultValue": "false",
        "defaultRaw": false,
        "name": "force",
        "description": ""
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "Core"
      ],
      "spread": false,
      "description": "this"
    }
  },
  {
    "__docId__": 234,
    "kind": "method",
    "name": "broadcast",
    "memberof": "src/core.js~Core",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/core.js~Core#broadcast",
    "access": "public",
    "description": "Sends a 'broadcast' event with given arguments\nto all applications matching given filter.",
    "lineNumber": 627,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{String[]} List of application names emitted to"
      }
    ],
    "params": [
      {
        "nullable": null,
        "types": [
          "String",
          "Function"
        ],
        "spread": false,
        "optional": false,
        "name": "pkg",
        "description": "The filter"
      },
      {
        "nullable": null,
        "types": [
          "String"
        ],
        "spread": false,
        "optional": false,
        "name": "name",
        "description": "The event name"
      },
      {
        "nullable": null,
        "types": [
          "*"
        ],
        "spread": false,
        "optional": false,
        "name": "...args",
        "description": "Arguments to pass to emit"
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "String[]"
      ],
      "spread": false,
      "description": "List of application names emitted to"
    }
  },
  {
    "__docId__": 235,
    "kind": "method",
    "name": "send",
    "memberof": "src/core.js~Core",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/core.js~Core#send",
    "access": "public",
    "description": "Sends a signal to the server over websocket.\nThis will be interpreted as an event in the server core.",
    "lineNumber": 646,
    "params": [
      {
        "nullable": null,
        "types": [
          "String"
        ],
        "spread": false,
        "optional": false,
        "name": "name",
        "description": "Event name"
      },
      {
        "nullable": null,
        "types": [
          "*"
        ],
        "spread": false,
        "optional": false,
        "name": "...params",
        "description": "Event callback parameters"
      }
    ],
    "return": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 236,
    "kind": "method",
    "name": "setRequestOptions",
    "memberof": "src/core.js~Core",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/core.js~Core#setRequestOptions",
    "access": "public",
    "description": "Set the internal fetch/request options.",
    "lineNumber": 659,
    "params": [
      {
        "nullable": null,
        "types": [
          "Object"
        ],
        "spread": false,
        "optional": false,
        "name": "options",
        "description": "Request options"
      }
    ],
    "return": null
  },
  {
    "__docId__": 238,
    "kind": "method",
    "name": "getUser",
    "memberof": "src/core.js~Core",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/core.js~Core#getUser",
    "access": "public",
    "description": "Gets the current user.",
    "lineNumber": 667,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{CoreUserData} User object"
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "CoreUserData"
      ],
      "spread": false,
      "description": "User object"
    },
    "params": []
  },
  {
    "__docId__": 239,
    "kind": "method",
    "name": "middleware",
    "memberof": "src/core.js~Core",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/core.js~Core#middleware",
    "access": "public",
    "description": "Add middleware function to a group.",
    "lineNumber": 676,
    "params": [
      {
        "nullable": null,
        "types": [
          "String"
        ],
        "spread": false,
        "optional": false,
        "name": "group",
        "description": "Middleware group"
      },
      {
        "nullable": null,
        "types": [
          "Function"
        ],
        "spread": false,
        "optional": false,
        "name": "callback",
        "description": "Middleware function to add"
      }
    ],
    "return": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 240,
    "kind": "method",
    "name": "kill",
    "memberof": "src/core.js~Core",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/core.js~Core#kill",
    "access": "public",
    "description": "Kills the specified application.",
    "lineNumber": 684,
    "params": [
      {
        "nullable": null,
        "types": [
          "String",
          "Number"
        ],
        "spread": false,
        "optional": false,
        "name": "match",
        "description": "Application name or PID"
      }
    ],
    "return": null
  },
  {
    "__docId__": 241,
    "kind": "file",
    "name": "src/desktop.js",
    "content": "/**\n * OS.js - JavaScript Cloud/Web Desktop Platform\n *\n * Copyright (c) 2011-Present, Anders Evenrud <andersevenrud@gmail.com>\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *\n * 1. Redistributions of source code must retain the above copyright notice, this\n *    list of conditions and the following disclaimer\n * 2. Redistributions in binary form must reproduce the above copyright notice,\n *    this list of conditions and the following disclaimer in the documentation\n *    and/or other materials provided with the distribution\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\n * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR\n * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n *\n * @author  Anders Evenrud <andersevenrud@gmail.com>\n * @license Simplified BSD License\n */\n\nimport {\n\tapplyBackgroundStyles,\n\tapplyCursorEffect,\n\tcreatePanelSubtraction,\n\tisDroppingImage,\n\tisVisible,\n} from \"./utils/desktop\";\nimport { DesktopIconView } from \"./adapters/ui/iconview\";\nimport { EventEmitter } from \"@meeseOS/event-emitter\";\nimport { handleTabOnTextarea } from \"./utils/dom\";\nimport { matchKeyCombo } from \"./utils/input\";\nimport Application from \"./application\";\nimport Search from \"./search\";\nimport Window from \"./window\";\nimport logger from \"./logger\";\nimport merge from \"deepmerge\";\n\n/**\n * TODO: typedef\n * @typedef {Object} DesktopContextMenuEntry\n */\n\n/**\n * @typedef {Object} DesktopIconViewSettings\n */\n\n/**\n * TODO: typedef\n * @typedef {Object} DesktopSettings\n * @property {DesktopIconViewSettings} [iconview]\n */\n\n/**\n * Desktop Options\n *\n * @typedef {Object} DeskopOptions\n * @property {Object[]} [contextmenu={}] Default Context menu items\n */\n\n/**\n * Desktop Viewport Rectangle\n *\n * @typedef {Object} DesktopViewportRectangle\n * @property {Number} left\n * @property {Number} top\n * @property {Number} right\n * @property {Number} bottom\n */\n\n/**\n * Desktop Class\n */\nexport default class Desktop extends EventEmitter {\n\t/**\n\t * Create Desktop\n\t *\n\t * @param {Core} core MeeseOS Core instance reference\n\t * @param {DesktopOptions} [options={}] Options\n\t */\n\tconstructor(core, options = {}) {\n\t\tsuper(\"Desktop\");\n\n\t\t/**\n\t\t * Core instance reference\n\t\t * @type {Core}\n\t\t * @readonly\n\t\t */\n\t\tthis.core = core;\n\n\t\t/**\n\t\t * Desktop Options\n\t\t * @type {DeskopOptions}\n\t\t * @readonly\n\t\t */\n\t\tthis.options = {\n\t\t\tcontextmenu: [],\n\t\t\t...options,\n\t\t};\n\n\t\t/**\n\t\t * Theme DOM elements\n\t\t * @type {Element[]}\n\t\t */\n\t\tthis.$theme = [];\n\n\t\t/**\n\t\t * Icon DOM elements\n\t\t * @type {Element[]}\n\t\t */\n\t\tthis.$icons = [];\n\n\t\t/**\n\t\t * Default context menu entries\n\t\t * @type {DesktopContextMenuEntry[]}\n\t\t */\n\t\tthis.contextmenuEntries = [];\n\n\t\t/**\n\t\t * Search instance\n\t\t * @type {Search|null}\n\t\t * @readonly\n\t\t */\n\t\tthis.search = core.config(\"search.enabled\") ? new Search(core) : null;\n\n\t\t/**\n\t\t * Icon View instance\n\t\t * @type {DesktopIconView}\n\t\t * @readonly\n\t\t */\n\t\tthis.iconview = new DesktopIconView(this.core);\n\n\t\t/**\n\t\t * Keyboard context dom element\n\t\t * @type {Element|null}\n\t\t */\n\t\tthis.keyboardContext = null;\n\n\t\t/**\n\t\t * Desktop subtraction rectangle\n\t\t * TODO: typedef\n\t\t * @type {DesktopViewportRectangle}\n\t\t */\n\t\tthis.subtract = {\n\t\t\tleft: 0,\n\t\t\ttop: 0,\n\t\t\tright: 0,\n\t\t\tbottom: 0,\n\t\t};\n\t}\n\n\t/**\n\t * Destroy Desktop\n\t */\n\tdestroy() {\n\t\tif (this.search) {\n\t\t\tthis.search = this.search.destroy();\n\t\t}\n\n\t\tif (this.iconview) {\n\t\t\tthis.iconview.destroy();\n\t\t}\n\n\t\tthis._removeIcons();\n\t\tthis._removeTheme();\n\n\t\tsuper.destroy();\n\t}\n\n\t/**\n\t * Initializes Desktop\n\t */\n\tinit() {\n\t\tthis.initConnectionEvents();\n\t\tthis.initUIEvents();\n\t\tthis.initDragEvents();\n\t\tthis.initKeyboardEvents();\n\t\tthis.initGlobalKeyboardEvents();\n\t\tthis.initMouseEvents();\n\t\tthis.initBaseEvents();\n\t\tthis.initDeveloperTray();\n\t}\n\n\t/**\n\t * Initializes connection events\n\t */\n\tinitConnectionEvents() {\n\t\tthis.core.on(\"meeseOS/core:disconnect\", (ev) => {\n\t\t\tlogger.warn(\"Connection closed\", ev);\n\n\t\t\tthis.core.make(\"meeseOS/notification\", {\n\t\t\t\ttitle: \"Connection Lost\",\n\t\t\t\tmessage: \"The connection was lost. Reconnecting...\",\n\t\t\t});\n\t\t});\n\n\t\tthis.core.on(\"meeseOS/core:connect\", (ev, reconnected) => {\n\t\t\tlogger.debug(\"Connection opened\");\n\n\t\t\tif (reconnected) {\n\t\t\t\tthis.core.make(\"meeseOS/notification\", {\n\t\t\t\t\ttitle: \"Connection Restored\",\n\t\t\t\t\tmessage: \"The connection to the server was restored.\",\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\n\t\tthis.core.on(\"meeseOS/core:connection-failed\", (ev) => {\n\t\t\tlogger.warn(\"Connection failed\");\n\n\t\t\tthis.core.make(\"meeseOS/notification\", {\n\t\t\t\ttitle: \"Connection Failed\",\n\t\t\t\tmessage:\n\t\t\t\t\t\"The connection could not be established. Some features might not work properly.\",\n\t\t\t});\n\t\t});\n\t}\n\n\t/**\n\t * Initializes user interface events\n\t */\n\tinitUIEvents() {\n\t\tthis.core.on(\n\t\t\t[\"meeseOS/panel:create\", \"meeseOS/panel:destroy\"],\n\t\t\t(panel, panels = []) => {\n\t\t\t\tthis.subtract = createPanelSubtraction(panel, panels);\n\n\t\t\t\ttry {\n\t\t\t\t\tthis._updateCSS();\n\t\t\t\t\tthis._clampWindows();\n\t\t\t\t} catch (e) {\n\t\t\t\t\tlogger.warn(\"Panel event error\", e);\n\t\t\t\t}\n\n\t\t\t\tthis.core.emit(\"meeseOS/desktop:transform\", this.getRect());\n\t\t\t}\n\t\t);\n\n\t\tthis.core.on(\"meeseOS/window:transitionend\", (...args) => {\n\t\t\tthis.emit(\"theme:window:transitionend\", ...args);\n\t\t});\n\n\t\tthis.core.on(\"meeseOS/window:change\", (...args) => {\n\t\t\tthis.emit(\"theme:window:change\", ...args);\n\t\t});\n\t}\n\n\t/**\n\t * Initializes development tray icons\n\t */\n\tinitDeveloperTray() {\n\t\tif (!this.core.config(\"development\")) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Creates tray\n\t\tconst tray = this.core.make(\"meeseOS/tray\").create(\n\t\t\t{\n\t\t\t\ttitle: \"MeeseOS developer tools\",\n\t\t\t},\n\t\t\t(ev) => this.onDeveloperMenu(ev)\n\t\t);\n\n\t\tthis.core.on(\"destroy\", () => tray.destroy());\n\t}\n\n\t/**\n\t * Initializes drag-and-drop events\n\t */\n\tinitDragEvents() {\n\t\tconst { droppable } = this.core.make(\"meeseOS/dnd\");\n\n\t\tdroppable(this.core.$contents, {\n\t\t\tstrict: true,\n\t\t\tondrop: (ev, data, files) => {\n\t\t\t\tconst droppedImage = isDroppingImage(data);\n\t\t\t\tif (droppedImage) {\n\t\t\t\t\tthis.onDropContextMenu(ev, data);\n\t\t\t\t}\n\t\t\t},\n\t\t});\n\t}\n\n\t/**\n\t * Initializes keyboard events\n\t */\n\tinitKeyboardEvents() {\n\t\tconst forwardKeyEvent = (n, e) => {\n\t\t\tconst w = Window.lastWindow();\n\t\t\tif (isVisible(w)) {\n\t\t\t\tw.emit(n, e, w);\n\t\t\t}\n\t\t};\n\n\t\tconst isWithinContext = (target) =>\n\t\t\tthis.keyboardContext && this.keyboardContext.contains(target);\n\n\t\tconst isWithinWindow = (w, target) => w && w.$element.contains(target);\n\n\t\tconst isWithin = (w, target) =>\n\t\t\tisWithinWindow(w, target) || isWithinContext(target);\n\n\t\t[\"keydown\", \"keyup\", \"keypress\"].forEach((n) => {\n\t\t\tthis.core.$root.addEventListener(n, (e) => forwardKeyEvent(n, e));\n\t\t});\n\n\t\tthis.core.$root.addEventListener(\"keydown\", (e) => {\n\t\t\tif (!e.target) return;\n\n\t\t\tif (e.keyCode === 114) {\n\t\t\t\t// F3\n\t\t\t\te.preventDefault();\n\n\t\t\t\tif (this.search) {\n\t\t\t\t\tthis.search.show();\n\t\t\t\t}\n\t\t\t} else if (e.keyCode === 9) {\n\t\t\t\t// Tab\n\t\t\t\tconst { tagName } = e.target;\n\t\t\t\tconst isInput =\n\t\t\t\t\t[\"INPUT\", \"TEXTAREA\", \"SELECT\", \"BUTTON\"].indexOf(tagName) !== -1;\n\t\t\t\tconst w = Window.lastWindow();\n\n\t\t\t\tif (isWithin(w, e.target)) {\n\t\t\t\t\tif (isInput) {\n\t\t\t\t\t\tif (tagName === \"TEXTAREA\") {\n\t\t\t\t\t\t\thandleTabOnTextarea(e);\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\te.preventDefault();\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t}\n\n\t/**\n\t * Initializes global keyboard events\n\t */\n\tinitGlobalKeyboardEvents() {\n\t\tlet keybindings = [];\n\n\t\tconst defaults = this.core.config(\"desktop.settings.keybindings\", {});\n\n\t\tconst reload = () => {\n\t\t\tkeybindings = this.core\n\t\t\t\t.make(\"meeseOS/settings\")\n\t\t\t\t.get(\"meeseOS/desktop\", \"keybindings\", defaults);\n\t\t};\n\n\t\twindow.addEventListener(\"keydown\", (ev) => {\n\t\t\tObject.keys(keybindings).some((eventName) => {\n\t\t\t\tconst combo = keybindings[eventName];\n\t\t\t\tconst result = matchKeyCombo(combo, ev);\n\t\t\t\tif (result) {\n\t\t\t\t\tthis.core.emit(\"meeseOS/desktop:keybinding:\" + eventName, ev);\n\t\t\t\t}\n\t\t\t});\n\t\t});\n\n\t\tthis.core.on(\"meeseOS/settings:load\", reload);\n\t\tthis.core.on(\"meeseOS/settings:save\", reload);\n\t\tthis.core.on(\"meeseOS/core:started\", reload);\n\n\t\tconst closeBindingName = \"meeseOS/desktop:keybinding:close-window\";\n\t\tconst closeBindingCallback = () => {\n\t\t\tconst w = Window.lastWindow();\n\t\t\tif (isVisible(w)) {\n\t\t\t\tw.close();\n\t\t\t}\n\t\t};\n\t\tthis.core.on(closeBindingName, closeBindingCallback);\n\t}\n\n\t/**\n\t * Initializes mouse events\n\t */\n\tinitMouseEvents() {\n\t\t// Custom context menu\n\t\tthis.core.$contents.addEventListener(\"contextmenu\", (ev) => {\n\t\t\tif (ev.target === this.core.$contents) {\n\t\t\t\tthis.onContextMenu(ev);\n\t\t\t}\n\t\t});\n\n\t\t// A hook to prevent iframe events when dragging mouse\n\t\twindow.addEventListener(\"mousedown\", () => {\n\t\t\tlet moved = false;\n\n\t\t\tconst onmousemove = () => {\n\t\t\t\tif (!moved) {\n\t\t\t\t\tmoved = true;\n\n\t\t\t\t\tthis.core.$root.setAttribute(\"data-mousemove\", String(true));\n\t\t\t\t}\n\t\t\t};\n\n\t\t\tconst onmouseup = () => {\n\t\t\t\tmoved = false;\n\n\t\t\t\tthis.core.$root.setAttribute(\"data-mousemove\", String(false));\n\t\t\t\twindow.removeEventListener(\"mousemove\", onmousemove);\n\t\t\t\twindow.removeEventListener(\"mouseup\", onmouseup);\n\t\t\t};\n\n\t\t\twindow.addEventListener(\"mousemove\", onmousemove);\n\t\t\twindow.addEventListener(\"mouseup\", onmouseup);\n\t\t});\n\t}\n\n\t/**\n\t * Initializes base events\n\t */\n\tinitBaseEvents() {\n\t\t// Resize hook\n\t\tlet resizeDebounce;\n\t\twindow.addEventListener(\"resize\", () => {\n\t\t\tclearTimeout(resizeDebounce);\n\t\t\tresizeDebounce = setTimeout(() => {\n\t\t\t\tthis._updateCSS();\n\t\t\t\tthis._clampWindows(true);\n\t\t\t}, 200);\n\t\t});\n\n\t\t// Prevent navigation\n\t\thistory.pushState(null, null, document.URL);\n\t\twindow.addEventListener(\"popstate\", () => {\n\t\t\thistory.pushState(null, null, document.URL);\n\t\t});\n\n\t\t// Prevents background scrolling on iOS\n\t\tthis.core.$root.addEventListener(\"touchmove\", (e) => e.preventDefault());\n\t}\n\n\t/**\n\t * Starts desktop services\n\t */\n\tstart() {\n\t\tif (this.search) {\n\t\t\tthis.search.init();\n\t\t}\n\n\t\tthis._updateCSS();\n\t}\n\n\t/**\n\t * Update CSS\n\t * @private\n\t */\n\t_updateCSS() {\n\t\tconst mobile = this.core.config(\"windows.mobile\");\n\t\tconst isMobile = !mobile ? false : this.core.$root.offsetWidth <= mobile;\n\t\tthis.core.$root.setAttribute(\"data-mobile\", isMobile);\n\n\t\tif (this.core.$contents) {\n\t\t\tthis.core.$contents.style.top = `${this.subtract.top}px`;\n\t\t\tthis.core.$contents.style.left = `${this.subtract.left}px`;\n\t\t\tthis.core.$contents.style.right = `${this.subtract.right}px`;\n\t\t\tthis.core.$contents.style.bottom = `${this.subtract.bottom}px`;\n\t\t}\n\t}\n\n\t_clampWindows(resize) {\n\t\tif (resize && !this.core.config(\"windows.clampToViewport\")) {\n\t\t\treturn;\n\t\t}\n\n\t\tWindow.getWindows().forEach((w) => w.clampToViewport());\n\t}\n\n\t/**\n\t * Adds something to the default contextmenu entries\n\t * @param {DesktopContextMenuEntry[]} entries\n\t */\n\taddContextMenu(entries) {\n\t\tthis.contextmenuEntries = this.contextmenuEntries.concat(entries);\n\t}\n\n\t/**\n\t * Applies settings and updates desktop\n\t * @param {DesktopSettings} [settings] Use this set instead of loading from settings\n\t * @returns {DesktopSettings} New settings\n\t */\n\tapplySettings(settings) {\n\t\tconst lockSettings = this.core.config(\"desktop.lock\");\n\t\tconst defaultSettings = this.core.config(\"desktop.settings\");\n\t\tlet newSettings;\n\n\t\tif (lockSettings) {\n\t\t\tnewSettings = defaultSettings;\n\t\t} else {\n\t\t\tconst userSettings =\n\t\t\t\tsettings || this.core.make(\"meeseOS/settings\").get(\"meeseOS/desktop\");\n\n\t\t\tnewSettings = merge(defaultSettings, userSettings, {\n\t\t\t\tarrayMerge: (dest, source) => source,\n\t\t\t});\n\t\t}\n\n\t\tconst applyOverlays = (test, list) => {\n\t\t\tif (this.core.has(test)) {\n\t\t\t\tconst instance = this.core.make(test);\n\t\t\t\tinstance.removeAll();\n\t\t\t\tlist.forEach((item) => instance.create(item));\n\t\t\t}\n\t\t};\n\n\t\tconst applyCss = ({ font, background, cursor }) => {\n\t\t\tthis.core.$root.style.fontFamily = `${font}, sans-serif`;\n\n\t\t\tapplyBackgroundStyles(this.core, background);\n\t\t\tapplyCursorEffect(cursor);\n\t\t};\n\n\t\tapplyCss(newSettings);\n\t\tapplyOverlays(\"meeseOS/panels\", (newSettings.panels || []).slice(-1));\n\t\tapplyOverlays(\"meeseOS/widgets\", newSettings.widgets);\n\n\t\tthis.applyTheme(newSettings.theme);\n\t\tthis.applyIcons(newSettings.icons);\n\t\tthis.applyIconView(newSettings.iconview);\n\n\t\tthis.core.emit(\"meeseOS/desktop:applySettings\");\n\n\t\treturn { ...newSettings };\n\t}\n\n\t/**\n\t * Removes current style theme from DOM\n\t * @private\n\t */\n\t_removeTheme() {\n\t\tthis.emit(\"theme:destroy\");\n\n\t\tthis.off([\n\t\t\t\"theme:init\",\n\t\t\t\"theme:destroy\",\n\t\t\t\"theme:window:change\",\n\t\t\t\"theme:window:transitionend\",\n\t\t]);\n\n\t\tthis.$theme.forEach((el) => {\n\t\t\tif (el && el.parentNode) {\n\t\t\t\tel.remove();\n\t\t\t}\n\t\t});\n\n\t\tthis.$theme = [];\n\t}\n\n\t/**\n\t * Removes current icon theme from DOM\n\t * @private\n\t */\n\t_removeIcons() {\n\t\tthis.$icons.forEach((el) => {\n\t\t\tif (el && el.parentNode) {\n\t\t\t\tel.remove();\n\t\t\t}\n\t\t});\n\n\t\tthis.$icons = [];\n\t}\n\n\t/**\n\t * Adds or removes the icon view\n\t * @param {DesktopIconViewSettings} settings\n\t */\n\tapplyIconView(settings) {\n\t\tif (!this.iconview) {\n\t\t\treturn;\n\t\t}\n\n\t\tif (settings.enabled) {\n\t\t\tthis.iconview.render(settings.path);\n\t\t} else {\n\t\t\tthis.iconview.destroy();\n\t\t}\n\t}\n\n\t/**\n\t * Sets the current icon theme from settings\n\t * @param {String} name Icon theme name\n\t * @returns {Promise<undefined>}\n\t */\n\tapplyIcons(name) {\n\t\tname = name || this.core.config(\"desktop.icons\");\n\n\t\treturn this._applyTheme(name).then(\n\t\t\t({ elements, errors, callback, metadata }) => {\n\t\t\t\tthis._removeIcons();\n\t\t\t\tthis.$icons = Object.values(elements);\n\n\t\t\t\tthis.emit(\"icons:init\");\n\t\t\t}\n\t\t);\n\t}\n\n\t/**\n\t * Sets the current style theme from settings\n\t * @param {String} name Theme name\n\t * @returns {Promise<undefined>}\n\t */\n\tapplyTheme(name) {\n\t\tname = name || this.core.config(\"desktop.theme\");\n\n\t\treturn this._applyTheme(name).then(\n\t\t\t({ elements, errors, callback, metadata }) => {\n\t\t\t\tthis._removeTheme();\n\n\t\t\t\tif (callback && metadata) {\n\t\t\t\t\ttry {\n\t\t\t\t\t\tcallback(this.core, this, {}, metadata);\n\t\t\t\t\t} catch (e) {\n\t\t\t\t\t\tlogger.warn(\"Exception while calling theme callback\", e);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tthis.$theme = Object.values(elements);\n\n\t\t\t\tthis.emit(\"theme:init\");\n\t\t\t}\n\t\t);\n\t}\n\n\t/**\n\t * Apply theme wrapper\n\t * @private\n\t * @param {String} name Theme name\n\t * @returns {Promise<undefined>}\n\t */\n\t_applyTheme(name) {\n\t\treturn this.core\n\t\t\t.make(\"meeseOS/packages\")\n\t\t\t.launch(name)\n\t\t\t.then((result) => {\n\t\t\t\tif (result.errors.length) {\n\t\t\t\t\tlogger.error(result.errors);\n\t\t\t\t}\n\n\t\t\t\treturn result;\n\t\t\t});\n\t}\n\n\t/**\n\t * Apply settings by key\n\t * @private\n\t * @param {String} k Key\n\t * @param {*} v Value\n\t * @returns {Promise<Boolean>}\n\t */\n\t_applySettingsByKey(k, v) {\n\t\treturn this.core\n\t\t\t.make(\"meeseOS/settings\")\n\t\t\t.set(\"meeseOS/desktop\", k, v)\n\t\t\t.save()\n\t\t\t.then(() => this.applySettings());\n\t}\n\n\t/**\n\t * Create drop context menu entries\n\t * @param {Object} data Drop data\n\t * @returns {Object[]}\n\t */\n\tcreateDropContextMenu(data) {\n\t\tconst settings = this.core.make(\"meeseOS/settings\");\n\t\tconst desktop = this.core.make(\"meeseOS/desktop\");\n\t\tconst droppedImage = isDroppingImage(data);\n\t\tconst menu = [];\n\n\t\t// TODO: Show dynamic menu entries\n\t\tconst setWallpaper = () =>\n\t\t\tsettings\n\t\t\t\t.set(\"meeseOS/desktop\", \"background.src\", data)\n\t\t\t\t.save()\n\t\t\t\t.then(() => desktop.applySettings());\n\n\t\tif (droppedImage) {\n\t\t\tmenu.push({\n\t\t\t\tlabel: \"Set as wallpaper\",\n\t\t\t\tonclick: setWallpaper,\n\t\t\t});\n\t\t}\n\n\t\treturn menu;\n\t}\n\n\t/**\n\t * When developer menu is shown\n\t * @param {Event} ev\n\t */\n\tonDeveloperMenu(ev) {\n\t\tconst s = this.core.make(\"meeseOS/settings\").get();\n\n\t\tconst storageItems = Object.keys(s).map((k) => ({\n\t\t\tlabel: k,\n\t\t\tonclick: () => {\n\t\t\t\tthis.core\n\t\t\t\t\t.make(\"meeseOS/settings\")\n\t\t\t\t\t.clear(k)\n\t\t\t\t\t.then(() => this.applySettings());\n\t\t\t},\n\t\t}));\n\n\t\tthis.core.make(\"meeseOS/contextmenu\").show({\n\t\t\tposition: ev,\n\t\t\tmenu: [\n\t\t\t\t{\n\t\t\t\t\tlabel: \"Kill all\",\n\t\t\t\t\tonclick: () => Application.destroyAll(),\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tlabel: \"Applications\",\n\t\t\t\t\titems: Application.getApplications().map((proc) => ({\n\t\t\t\t\t\tlabel: `${proc.metadata.name} (${proc.pid})`,\n\t\t\t\t\t\titems: [\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tlabel: \"Kill\",\n\t\t\t\t\t\t\t\tonclick: () => proc.destroy(),\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tlabel: \"Reload\",\n\t\t\t\t\t\t\t\tonclick: () => proc.relaunch(),\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t],\n\t\t\t\t\t})),\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tlabel: \"Clear Storage\",\n\t\t\t\t\titems: storageItems,\n\t\t\t\t},\n\t\t\t],\n\t\t});\n\t}\n\n\t/**\n\t * When drop menu is shown\n\t * @param {Event} ev\n\t * @param {Object} data\n\t */\n\tonDropContextMenu(ev, data) {\n\t\tconst menu = this.createDropContextMenu(data);\n\n\t\tthis.core.make(\"meeseOS/contextmenu\", {\n\t\t\tposition: ev,\n\t\t\tmenu,\n\t\t});\n\t}\n\n\t/**\n\t * When context menu is shown\n\t * @param {Event} ev\n\t */\n\tonContextMenu(ev) {\n\t\tconst lockSettings = this.core.config(\"desktop.lock\");\n\t\tconst extras = this.contextmenuEntries.flatMap((e) => (typeof e === \"function\" ? e() : e));\n\t\tconst config = this.core.config(\"desktop.contextmenu\");\n\t\tconst hasIconview = this.core\n\t\t\t.make(\"meeseOS/settings\")\n\t\t\t.get(\"meeseOS/desktop\", \"iconview.enabled\");\n\n\t\tif (config === false || config.enabled === false) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst useDefaults = config === true || config.defaults; // NOTE: Backward compability\n\n\t\tconst defaultItems = lockSettings\n\t\t\t? []\n\t\t\t: [/* TODO: Add default context menu entries */];\n\n\t\tif (hasIconview && this.iconview) {\n\t\t\tdefaultItems.push({\n\t\t\t\tlabel: \"Refresh\",\n\t\t\t\tonclick: () => this.iconview.iconview.reload(),\n\t\t\t});\n\t\t}\n\n\t\tconst base =\n\t\t\tuseDefaults === \"function\"\n\t\t\t\t? config.defaults(this, defaultItems)\n\t\t\t\t: useDefaults\n\t\t\t\t\t? defaultItems\n\t\t\t\t\t: [];\n\n\t\tconst provided =\n\t\t\ttypeof this.options.contextmenu === \"function\"\n\t\t\t\t? this.options.contextmenu(this, defaultItems)\n\t\t\t\t: this.options.contextmenu || [];\n\n\t\tconst menu = [...base, ...provided, ...extras];\n\n\t\tif (menu.length) {\n\t\t\tthis.core.make(\"meeseOS/contextmenu\").show({\n\t\t\t\tmenu,\n\t\t\t\tposition: ev,\n\t\t\t});\n\t\t}\n\t}\n\n\t/**\n\t * Sets the keyboard context.\n\t *\n\t * Used for tabbing and other special events\n\t *\n\t * @param {Element} [ctx]\n\t */\n\tsetKeyboardContext(ctx) {\n\t\tthis.keyboardContext = ctx;\n\t}\n\n\t/**\n\t * Gets the rectangle of available space\n\t *\n\t * This is based on any panels etc taking up space\n\t *\n\t * @returns {DesktopViewportRectangle}\n\t */\n\tgetRect() {\n\t\tconst root = this.core.$root;\n\t\tconst { left, top, right, bottom } = this.subtract;\n\t\tconst width = root.offsetWidth - left - right;\n\t\tconst height = root.offsetHeight - top - bottom;\n\n\t\treturn { width, height, top, bottom, left, right };\n\t}\n}\n",
    "static": true,
    "longname": "/home/runner/work/meeseOS/meeseOS/frontend/client/src/desktop.js",
    "access": "public",
    "description": null,
    "lineNumber": 1
  },
  {
    "__docId__": 242,
    "kind": "typedef",
    "name": "DesktopContextMenuEntry",
    "memberof": "src/desktop.js",
    "static": true,
    "longname": "src/desktop.js~DesktopContextMenuEntry",
    "access": "public",
    "description": "TODO: typedef",
    "type": {
      "types": [
        "Object"
      ],
      "optional": false,
      "name": "DesktopContextMenuEntry"
    }
  },
  {
    "__docId__": 243,
    "kind": "typedef",
    "name": "DesktopIconViewSettings",
    "memberof": "src/desktop.js",
    "static": true,
    "longname": "src/desktop.js~DesktopIconViewSettings",
    "access": "public",
    "description": "",
    "type": {
      "types": [
        "Object"
      ],
      "optional": false,
      "name": "DesktopIconViewSettings"
    }
  },
  {
    "__docId__": 244,
    "kind": "typedef",
    "name": "DesktopSettings",
    "memberof": "src/desktop.js",
    "static": true,
    "longname": "src/desktop.js~DesktopSettings",
    "access": "public",
    "description": "TODO: typedef",
    "properties": [
      {
        "nullable": null,
        "types": [
          "DesktopIconViewSettings"
        ],
        "spread": false,
        "optional": true,
        "name": "iconview",
        "description": ""
      }
    ],
    "type": {
      "types": [
        "Object"
      ],
      "optional": false,
      "name": "DesktopSettings"
    }
  },
  {
    "__docId__": 245,
    "kind": "typedef",
    "name": "DeskopOptions",
    "memberof": "src/desktop.js",
    "static": true,
    "longname": "src/desktop.js~DeskopOptions",
    "access": "public",
    "description": "Desktop Options",
    "properties": [
      {
        "nullable": null,
        "types": [
          "Object[]"
        ],
        "spread": false,
        "optional": true,
        "defaultValue": "{}",
        "defaultRaw": {},
        "name": "contextmenu",
        "description": "Default Context menu items"
      }
    ],
    "type": {
      "types": [
        "Object"
      ],
      "optional": false,
      "name": "DeskopOptions"
    }
  },
  {
    "__docId__": 246,
    "kind": "typedef",
    "name": "DesktopViewportRectangle",
    "memberof": "src/desktop.js",
    "static": true,
    "longname": "src/desktop.js~DesktopViewportRectangle",
    "access": "public",
    "description": "Desktop Viewport Rectangle",
    "properties": [
      {
        "nullable": null,
        "types": [
          "Number"
        ],
        "spread": false,
        "optional": false,
        "name": "left",
        "description": ""
      },
      {
        "nullable": null,
        "types": [
          "Number"
        ],
        "spread": false,
        "optional": false,
        "name": "top",
        "description": ""
      },
      {
        "nullable": null,
        "types": [
          "Number"
        ],
        "spread": false,
        "optional": false,
        "name": "right",
        "description": ""
      },
      {
        "nullable": null,
        "types": [
          "Number"
        ],
        "spread": false,
        "optional": false,
        "name": "bottom",
        "description": ""
      }
    ],
    "type": {
      "types": [
        "Object"
      ],
      "optional": false,
      "name": "DesktopViewportRectangle"
    }
  },
  {
    "__docId__": 247,
    "kind": "class",
    "name": "Desktop",
    "memberof": "src/desktop.js",
    "static": true,
    "longname": "src/desktop.js~Desktop",
    "access": "public",
    "export": true,
    "importPath": "@meeseOS/client/src/desktop.js",
    "importStyle": "Desktop",
    "description": "Desktop Class",
    "lineNumber": 83,
    "interface": false,
    "extends": [
      "@meeseOS/event-emitter~EventEmitter"
    ]
  },
  {
    "__docId__": 248,
    "kind": "constructor",
    "name": "constructor",
    "memberof": "src/desktop.js~Desktop",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/desktop.js~Desktop#constructor",
    "access": "public",
    "description": "Create Desktop",
    "lineNumber": 90,
    "params": [
      {
        "nullable": null,
        "types": [
          "Core"
        ],
        "spread": false,
        "optional": false,
        "name": "core",
        "description": "MeeseOS Core instance reference"
      },
      {
        "nullable": null,
        "types": [
          "DesktopOptions"
        ],
        "spread": false,
        "optional": true,
        "defaultValue": "{}",
        "defaultRaw": {},
        "name": "options",
        "description": "Options"
      }
    ]
  },
  {
    "__docId__": 249,
    "kind": "member",
    "name": "core",
    "memberof": "src/desktop.js~Desktop",
    "static": false,
    "longname": "src/desktop.js~Desktop#core",
    "access": "public",
    "description": "Core instance reference",
    "lineNumber": 98,
    "unknown": [
      {
        "tagName": "@readonly",
        "tagValue": ""
      }
    ],
    "type": {
      "nullable": null,
      "types": [
        "Core"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 250,
    "kind": "member",
    "name": "options",
    "memberof": "src/desktop.js~Desktop",
    "static": false,
    "longname": "src/desktop.js~Desktop#options",
    "access": "public",
    "description": "Desktop Options",
    "lineNumber": 105,
    "unknown": [
      {
        "tagName": "@readonly",
        "tagValue": ""
      }
    ],
    "type": {
      "nullable": null,
      "types": [
        "DeskopOptions"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 251,
    "kind": "member",
    "name": "$theme",
    "memberof": "src/desktop.js~Desktop",
    "static": false,
    "longname": "src/desktop.js~Desktop#$theme",
    "access": "public",
    "description": "Theme DOM elements",
    "lineNumber": 114,
    "type": {
      "nullable": null,
      "types": [
        "Element[]"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 252,
    "kind": "member",
    "name": "$icons",
    "memberof": "src/desktop.js~Desktop",
    "static": false,
    "longname": "src/desktop.js~Desktop#$icons",
    "access": "public",
    "description": "Icon DOM elements",
    "lineNumber": 120,
    "type": {
      "nullable": null,
      "types": [
        "Element[]"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 253,
    "kind": "member",
    "name": "contextmenuEntries",
    "memberof": "src/desktop.js~Desktop",
    "static": false,
    "longname": "src/desktop.js~Desktop#contextmenuEntries",
    "access": "public",
    "description": "Default context menu entries",
    "lineNumber": 126,
    "type": {
      "nullable": null,
      "types": [
        "DesktopContextMenuEntry[]"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 254,
    "kind": "member",
    "name": "search",
    "memberof": "src/desktop.js~Desktop",
    "static": false,
    "longname": "src/desktop.js~Desktop#search",
    "access": "public",
    "description": "Search instance",
    "lineNumber": 133,
    "unknown": [
      {
        "tagName": "@readonly",
        "tagValue": ""
      }
    ],
    "type": {
      "nullable": null,
      "types": [
        "Search",
        "null"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 255,
    "kind": "member",
    "name": "iconview",
    "memberof": "src/desktop.js~Desktop",
    "static": false,
    "longname": "src/desktop.js~Desktop#iconview",
    "access": "public",
    "description": "Icon View instance",
    "lineNumber": 140,
    "unknown": [
      {
        "tagName": "@readonly",
        "tagValue": ""
      }
    ],
    "type": {
      "nullable": null,
      "types": [
        "DesktopIconView"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 256,
    "kind": "member",
    "name": "keyboardContext",
    "memberof": "src/desktop.js~Desktop",
    "static": false,
    "longname": "src/desktop.js~Desktop#keyboardContext",
    "access": "public",
    "description": "Keyboard context dom element",
    "lineNumber": 146,
    "type": {
      "nullable": null,
      "types": [
        "Element",
        "null"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 257,
    "kind": "member",
    "name": "subtract",
    "memberof": "src/desktop.js~Desktop",
    "static": false,
    "longname": "src/desktop.js~Desktop#subtract",
    "access": "public",
    "description": "Desktop subtraction rectangle\nTODO: typedef",
    "lineNumber": 153,
    "type": {
      "nullable": null,
      "types": [
        "DesktopViewportRectangle"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 258,
    "kind": "method",
    "name": "destroy",
    "memberof": "src/desktop.js~Desktop",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/desktop.js~Desktop#destroy",
    "access": "public",
    "description": "Destroy Desktop",
    "lineNumber": 164,
    "params": [],
    "return": null
  },
  {
    "__docId__": 260,
    "kind": "method",
    "name": "init",
    "memberof": "src/desktop.js~Desktop",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/desktop.js~Desktop#init",
    "access": "public",
    "description": "Initializes Desktop",
    "lineNumber": 182,
    "params": [],
    "return": null
  },
  {
    "__docId__": 261,
    "kind": "method",
    "name": "initConnectionEvents",
    "memberof": "src/desktop.js~Desktop",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/desktop.js~Desktop#initConnectionEvents",
    "access": "public",
    "description": "Initializes connection events",
    "lineNumber": 196,
    "params": [],
    "return": null
  },
  {
    "__docId__": 262,
    "kind": "method",
    "name": "initUIEvents",
    "memberof": "src/desktop.js~Desktop",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/desktop.js~Desktop#initUIEvents",
    "access": "public",
    "description": "Initializes user interface events",
    "lineNumber": 231,
    "params": [],
    "return": null
  },
  {
    "__docId__": 264,
    "kind": "method",
    "name": "initDeveloperTray",
    "memberof": "src/desktop.js~Desktop",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/desktop.js~Desktop#initDeveloperTray",
    "access": "public",
    "description": "Initializes development tray icons",
    "lineNumber": 260,
    "params": [],
    "return": null
  },
  {
    "__docId__": 265,
    "kind": "method",
    "name": "initDragEvents",
    "memberof": "src/desktop.js~Desktop",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/desktop.js~Desktop#initDragEvents",
    "access": "public",
    "description": "Initializes drag-and-drop events",
    "lineNumber": 279,
    "params": [],
    "return": null
  },
  {
    "__docId__": 266,
    "kind": "method",
    "name": "initKeyboardEvents",
    "memberof": "src/desktop.js~Desktop",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/desktop.js~Desktop#initKeyboardEvents",
    "access": "public",
    "description": "Initializes keyboard events",
    "lineNumber": 296,
    "params": [],
    "return": null
  },
  {
    "__docId__": 267,
    "kind": "method",
    "name": "initGlobalKeyboardEvents",
    "memberof": "src/desktop.js~Desktop",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/desktop.js~Desktop#initGlobalKeyboardEvents",
    "access": "public",
    "description": "Initializes global keyboard events",
    "lineNumber": 351,
    "params": [],
    "return": null
  },
  {
    "__docId__": 268,
    "kind": "method",
    "name": "initMouseEvents",
    "memberof": "src/desktop.js~Desktop",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/desktop.js~Desktop#initMouseEvents",
    "access": "public",
    "description": "Initializes mouse events",
    "lineNumber": 389,
    "params": [],
    "return": null
  },
  {
    "__docId__": 269,
    "kind": "method",
    "name": "initBaseEvents",
    "memberof": "src/desktop.js~Desktop",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/desktop.js~Desktop#initBaseEvents",
    "access": "public",
    "description": "Initializes base events",
    "lineNumber": 425,
    "params": [],
    "return": null
  },
  {
    "__docId__": 270,
    "kind": "method",
    "name": "start",
    "memberof": "src/desktop.js~Desktop",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/desktop.js~Desktop#start",
    "access": "public",
    "description": "Starts desktop services",
    "lineNumber": 449,
    "params": [],
    "return": null
  },
  {
    "__docId__": 271,
    "kind": "method",
    "name": "_updateCSS",
    "memberof": "src/desktop.js~Desktop",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/desktop.js~Desktop#_updateCSS",
    "access": "private",
    "description": "Update CSS",
    "lineNumber": 461,
    "params": [],
    "return": null
  },
  {
    "__docId__": 272,
    "kind": "method",
    "name": "_clampWindows",
    "memberof": "src/desktop.js~Desktop",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/desktop.js~Desktop#_clampWindows",
    "access": "private",
    "description": null,
    "lineNumber": 474,
    "undocument": true,
    "params": [
      {
        "name": "resize",
        "types": [
          "*"
        ]
      }
    ],
    "return": null,
    "ignore": true
  },
  {
    "__docId__": 273,
    "kind": "method",
    "name": "addContextMenu",
    "memberof": "src/desktop.js~Desktop",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/desktop.js~Desktop#addContextMenu",
    "access": "public",
    "description": "Adds something to the default contextmenu entries",
    "lineNumber": 486,
    "params": [
      {
        "nullable": null,
        "types": [
          "DesktopContextMenuEntry[]"
        ],
        "spread": false,
        "optional": false,
        "name": "entries",
        "description": ""
      }
    ],
    "return": null
  },
  {
    "__docId__": 275,
    "kind": "method",
    "name": "applySettings",
    "memberof": "src/desktop.js~Desktop",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/desktop.js~Desktop#applySettings",
    "access": "public",
    "description": "Applies settings and updates desktop",
    "lineNumber": 495,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{DesktopSettings} New settings"
      }
    ],
    "params": [
      {
        "nullable": null,
        "types": [
          "DesktopSettings"
        ],
        "spread": false,
        "optional": true,
        "name": "settings",
        "description": "Use this set instead of loading from settings"
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "DesktopSettings"
      ],
      "spread": false,
      "description": "New settings"
    }
  },
  {
    "__docId__": 276,
    "kind": "method",
    "name": "_removeTheme",
    "memberof": "src/desktop.js~Desktop",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/desktop.js~Desktop#_removeTheme",
    "access": "private",
    "description": "Removes current style theme from DOM",
    "lineNumber": 543,
    "params": [],
    "return": null
  },
  {
    "__docId__": 278,
    "kind": "method",
    "name": "_removeIcons",
    "memberof": "src/desktop.js~Desktop",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/desktop.js~Desktop#_removeIcons",
    "access": "private",
    "description": "Removes current icon theme from DOM",
    "lineNumber": 566,
    "params": [],
    "return": null
  },
  {
    "__docId__": 280,
    "kind": "method",
    "name": "applyIconView",
    "memberof": "src/desktop.js~Desktop",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/desktop.js~Desktop#applyIconView",
    "access": "public",
    "description": "Adds or removes the icon view",
    "lineNumber": 580,
    "params": [
      {
        "nullable": null,
        "types": [
          "DesktopIconViewSettings"
        ],
        "spread": false,
        "optional": false,
        "name": "settings",
        "description": ""
      }
    ],
    "return": null
  },
  {
    "__docId__": 281,
    "kind": "method",
    "name": "applyIcons",
    "memberof": "src/desktop.js~Desktop",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/desktop.js~Desktop#applyIcons",
    "access": "public",
    "description": "Sets the current icon theme from settings",
    "lineNumber": 597,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{Promise<undefined>}"
      }
    ],
    "params": [
      {
        "nullable": null,
        "types": [
          "String"
        ],
        "spread": false,
        "optional": false,
        "name": "name",
        "description": "Icon theme name"
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "Promise<undefined>"
      ],
      "spread": false,
      "description": ""
    }
  },
  {
    "__docId__": 283,
    "kind": "method",
    "name": "applyTheme",
    "memberof": "src/desktop.js~Desktop",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/desktop.js~Desktop#applyTheme",
    "access": "public",
    "description": "Sets the current style theme from settings",
    "lineNumber": 615,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{Promise<undefined>}"
      }
    ],
    "params": [
      {
        "nullable": null,
        "types": [
          "String"
        ],
        "spread": false,
        "optional": false,
        "name": "name",
        "description": "Theme name"
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "Promise<undefined>"
      ],
      "spread": false,
      "description": ""
    }
  },
  {
    "__docId__": 285,
    "kind": "method",
    "name": "_applyTheme",
    "memberof": "src/desktop.js~Desktop",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/desktop.js~Desktop#_applyTheme",
    "access": "private",
    "description": "Apply theme wrapper",
    "lineNumber": 643,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{Promise<undefined>}"
      }
    ],
    "params": [
      {
        "nullable": null,
        "types": [
          "String"
        ],
        "spread": false,
        "optional": false,
        "name": "name",
        "description": "Theme name"
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "Promise<undefined>"
      ],
      "spread": false,
      "description": ""
    }
  },
  {
    "__docId__": 286,
    "kind": "method",
    "name": "_applySettingsByKey",
    "memberof": "src/desktop.js~Desktop",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/desktop.js~Desktop#_applySettingsByKey",
    "access": "private",
    "description": "Apply settings by key",
    "lineNumber": 663,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{Promise<Boolean>}"
      }
    ],
    "params": [
      {
        "nullable": null,
        "types": [
          "String"
        ],
        "spread": false,
        "optional": false,
        "name": "k",
        "description": "Key"
      },
      {
        "nullable": null,
        "types": [
          "*"
        ],
        "spread": false,
        "optional": false,
        "name": "v",
        "description": "Value"
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "Promise<Boolean>"
      ],
      "spread": false,
      "description": ""
    }
  },
  {
    "__docId__": 287,
    "kind": "method",
    "name": "createDropContextMenu",
    "memberof": "src/desktop.js~Desktop",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/desktop.js~Desktop#createDropContextMenu",
    "access": "public",
    "description": "Create drop context menu entries",
    "lineNumber": 676,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{Object[]}"
      }
    ],
    "params": [
      {
        "nullable": null,
        "types": [
          "Object"
        ],
        "spread": false,
        "optional": false,
        "name": "data",
        "description": "Drop data"
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "Object[]"
      ],
      "spread": false,
      "description": ""
    }
  },
  {
    "__docId__": 288,
    "kind": "method",
    "name": "onDeveloperMenu",
    "memberof": "src/desktop.js~Desktop",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/desktop.js~Desktop#onDeveloperMenu",
    "access": "public",
    "description": "When developer menu is shown",
    "lineNumber": 703,
    "params": [
      {
        "nullable": null,
        "types": [
          "Event"
        ],
        "spread": false,
        "optional": false,
        "name": "ev",
        "description": ""
      }
    ],
    "return": null
  },
  {
    "__docId__": 289,
    "kind": "method",
    "name": "onDropContextMenu",
    "memberof": "src/desktop.js~Desktop",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/desktop.js~Desktop#onDropContextMenu",
    "access": "public",
    "description": "When drop menu is shown",
    "lineNumber": 752,
    "params": [
      {
        "nullable": null,
        "types": [
          "Event"
        ],
        "spread": false,
        "optional": false,
        "name": "ev",
        "description": ""
      },
      {
        "nullable": null,
        "types": [
          "Object"
        ],
        "spread": false,
        "optional": false,
        "name": "data",
        "description": ""
      }
    ],
    "return": null
  },
  {
    "__docId__": 290,
    "kind": "method",
    "name": "onContextMenu",
    "memberof": "src/desktop.js~Desktop",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/desktop.js~Desktop#onContextMenu",
    "access": "public",
    "description": "When context menu is shown",
    "lineNumber": 765,
    "params": [
      {
        "nullable": null,
        "types": [
          "Event"
        ],
        "spread": false,
        "optional": false,
        "name": "ev",
        "description": ""
      }
    ],
    "return": null
  },
  {
    "__docId__": 291,
    "kind": "method",
    "name": "setKeyboardContext",
    "memberof": "src/desktop.js~Desktop",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/desktop.js~Desktop#setKeyboardContext",
    "access": "public",
    "description": "Sets the keyboard context.\n\nUsed for tabbing and other special events",
    "lineNumber": 819,
    "params": [
      {
        "nullable": null,
        "types": [
          "Element"
        ],
        "spread": false,
        "optional": true,
        "name": "ctx",
        "description": ""
      }
    ],
    "return": null
  },
  {
    "__docId__": 293,
    "kind": "method",
    "name": "getRect",
    "memberof": "src/desktop.js~Desktop",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/desktop.js~Desktop#getRect",
    "access": "public",
    "description": "Gets the rectangle of available space\n\nThis is based on any panels etc taking up space",
    "lineNumber": 830,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{DesktopViewportRectangle}"
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "DesktopViewportRectangle"
      ],
      "spread": false,
      "description": ""
    },
    "params": []
  },
  {
    "__docId__": 294,
    "kind": "file",
    "name": "src/filesystem.js",
    "content": "/**\n * OS.js - JavaScript Cloud/Web Desktop Platform\n *\n * Copyright (c) 2011-Present, Anders Evenrud <andersevenrud@gmail.com>\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *\n * 1. Redistributions of source code must retain the above copyright notice, this\n *    list of conditions and the following disclaimer\n * 2. Redistributions in binary form must reproduce the above copyright notice,\n *    this list of conditions and the following disclaimer in the documentation\n *    and/or other materials provided with the distribution\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\n * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR\n * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n *\n * @author  Anders Evenrud <andersevenrud@gmail.com>\n * @license Simplified BSD License\n */\n\nimport {\n\tcreateWatchEvents,\n\tfilterMountByGroups,\n\tparseMountpointPrefix,\n} from \"./utils/vfs\";\nimport { EventEmitter } from \"@meeseOS/event-emitter\";\nimport * as VFS from \"./vfs\";\nimport appsAdapter from \"./adapters/vfs/apps\";\nimport defaultAdapter from \"./adapters/vfs/null\";\nimport logger from \"./logger\";\nimport merge from \"deepmerge\";\nimport systemAdapter from \"./adapters/vfs/system\";\n\n// TODO: Maybe try to add selection in this file\n// https://github.com/DustinBrett/daedalOS/blob/main/components/system/Files/FileManager/Selection/\n\n/**\n * VFS Mountpoint attributes\n *\n * @typedef {Object} FilesystemMountpointAttributes\n * @property {String} [visibility='global'] Visibility in UI\n * @property {Boolean} [local=true] Local filesystem ?\n * @property {Boolean} [searchable=true] If can be searched\n * @property {Boolean} [readOnly=false] Readonly\n */\n\n/**\n * VFS Mountpoint\n *\n * @typedef {Object} FilesystemMountpoint\n * @property {String} name Name\n * @property {String} label Label\n * @property {String} adapter Adater name\n * @property {String} [root] System adapter root\n * @property {Boolean} [enabled=true] Enabled state\n * @property {FilesystemMountpointAttributes} [attributes] Attributes\n */\n\n/**\n * Filesystem Adapter Methods\n * @todo: typedef\n * @typedef {Object} FilesystemAdapterMethods\n * @property {Function} capabilities\n * @property {Function} readdir\n * @property {Function} readfile\n * @property {Function} writefile\n * @property {Function} copy\n * @property {Function} move\n * @property {Function} rename\n * @property {Function} mkdir\n * @property {Function} unlink\n * @property {Function} exists\n * @property {Function} stat\n * @property {Function} url\n * @property {Function} download\n * @property {Function} search\n * @property {Function} touch\n * @property {Function} archive\n */\n\n/**\n * @callback FilesystemAdapterWrapper\n * @returns {FilesystemAdapterMethods}\n */\n\n/**\n * Filesystem Options\n *\n * @typedef {Object} FilesystemOptions\n * @property {{name: FilesystemAdapterWrapper}} [adapters] Adapter registry\n * @property {FilesystemMountpoint[]} [mounts] Mountpoints\n */\n\n/**\n * Filesystem Class that manages filesystems and adapters\n */\nexport default class Filesystem extends EventEmitter {\n\t/**\n\t * Create filesystem manager.\n\t *\n\t * @param {Core} core MeeseOS Core instance reference\n\t * @param {FilesystemOptions} [options] Options\n\t */\n\tconstructor(core, options = {}) {\n\t\toptions = {\n\t\t\tadapters: {},\n\t\t\tmounts: [],\n\t\t\t...options,\n\t\t};\n\n\t\tsuper(\"Filesystem\");\n\n\t\t/**\n\t\t * Core instance reference\n\t\t * @type {Core}\n\t\t * @readonly\n\t\t */\n\t\tthis.core = core;\n\n\t\t/**\n\t\t * Adapter registry\n\t\t * @type {{name: FilesystemAdapterWrapper}}\n\t\t * @readonly\n\t\t */\n\t\tthis.adapters = {\n\t\t\tsystem: systemAdapter,\n\t\t\tapps: appsAdapter,\n\t\t\t...this.core.config(\"vfs.adapters\", {}),\n\t\t\t...options.adapters,\n\t\t};\n\n\t\t/**\n\t\t * Mountpoints\n\t\t * @type {FilesystemMountpoint[]}\n\t\t */\n\t\tthis.mounts = [];\n\n\t\t/**\n\t\t * Options\n\t\t * @type {FilesystemOptions}\n\t\t */\n\t\tthis.options = {};\n\n\t\t/**\n\t\t * A wrapper for VFS method requests.\n\t\t * @type {{key: Function}}\n\t\t * @readonly\n\t\t */\n\t\tthis.proxy = Object.keys(VFS).reduce((result, method) => {\n\t\t\treturn {\n\t\t\t\t[method]: (...args) => this._request(method, ...args),\n\t\t\t\t...result,\n\t\t\t};\n\t\t}, {});\n\t}\n\n\t/**\n\t * Mounts all configured mountpoints.\n\t * @param {Boolean} [stopOnError=true] Stop on first error\n\t * @returns {Promise<Boolean[]>}\n\t */\n\tmountAll(stopOnError = true) {\n\t\tthis.mounts = this._getConfiguredMountpoints();\n\n\t\tconst fn = (m) =>\n\t\t\tstopOnError\n\t\t\t\t? this._mountpointAction(m)\n\t\t\t\t: this._mountpointAction(m).catch((err) =>\n\t\t\t\t\tlogger.warn(\"Error while mounting\", m, err)\n\t\t\t\t);\n\n\t\treturn Promise.all(this.mounts.map(fn));\n\t}\n\n\t/**\n\t * Adds a new mountpoint.\n\t * @param {FilesystemMountpoint} props Mountpoint props\n\t * @param {Boolean} [automount=true] Automount after creation\n\t * @returns {Promise<Boolean>}\n\t */\n\taddMountpoint(props, automount = true) {\n\t\tconst mount = this.createMountpoint(props);\n\t\tthis.mounts.push(mount);\n\n\t\tif (automount) {\n\t\t\treturn this.mount(mount.name);\n\t\t}\n\n\t\treturn Promise.resolve(true);\n\t}\n\n\t/**\n\t * Mount given mountpoint.\n\t * @param {String|FilesystemMountpoint} mountpoint Mountpoint name or object\n\t * @throws {Error} On invalid name or if already mounted\n\t * @returns {Promise<Boolean>}\n\t */\n\tmount(mountpoint) {\n\t\tif (typeof mountpoint === \"string\") {\n\t\t\treturn this._mountAction(mountpoint, false);\n\t\t}\n\n\t\treturn this.addMountpoint(mountpoint);\n\t}\n\n\t/**\n\t * Unmount given filesystem.\n\t * @param {String} name Filesystem name\n\t * @throws {Error} On invalid name or if already unmounted\n\t * @returns {Promise<Boolean>}\n\t */\n\tunmount(name) {\n\t\treturn this._mountAction(name, true);\n\t}\n\n\t/**\n\t * Internal wrapper for mounting/unmounting.\n\t *\n\t * @private\n\t * @param {FilesystemMountpoint} mountpoint The mountpoint\n\t * @param {Boolean} [unmount=false] If action is unmounting\n\t * @returns {Promise<Boolean>}\n\t */\n\t_mountpointAction(mountpoint, unmount = false) {\n\t\tconst eventName = unmount ? \"unmounted\" : \"mounted\";\n\t\tconst coreEventName = unmount ? \"unmount\" : \"mount\";\n\n\t\treturn mountpoint._adapter[coreEventName]({}, mountpoint).then((result) => {\n\t\t\tif (result) {\n\t\t\t\tmountpoint.mounted = !unmount;\n\n\t\t\t\tthis.emit(eventName, mountpoint);\n\t\t\t\tthis.core.emit(`meeseOS/fs:${coreEventName}`);\n\t\t\t}\n\n\t\t\treturn result;\n\t\t});\n\t}\n\n\t/**\n\t * Internal wrapper for mounting/unmounting by name.\n\t *\n\t * @private\n\t * @param {String} name Mountpoint name\n\t * @param {Boolean} [unmount=false] If action is unmounting\n\t * @returns {Promise<Boolean>}\n\t */\n\t_mountAction(name, unmount) {\n\t\treturn Promise.resolve(this.mounts.find((m) => m.name === name)).then(\n\t\t\t(found) => {\n\t\t\t\t// FIXME: Add already mounting state\n\t\t\t\tif (!found) {\n\t\t\t\t\tthrow new Error(`Filesystem '${name}' not found`);\n\t\t\t\t} else if (unmount && !found.mounted) {\n\t\t\t\t\tthrow new Error(`Filesystem '${name}' not mounted`);\n\t\t\t\t} else if (!unmount && found.mounted) {\n\t\t\t\t\tthrow new Error(`Filesystem '${name}' already mounted`);\n\t\t\t\t}\n\n\t\t\t\treturn this._mountpointAction(found, unmount);\n\t\t\t}\n\t\t);\n\t}\n\n\t/**\n\t * Gets the proxy for VFS methods.\n\t * @todo: Not the correct type\n\t * @returns {FilesystemAdapterMethods} A map of VFS functions\n\t */\n\trequest() {\n\t\treturn this.proxy;\n\t}\n\n\t/**\n\t * Perform a VFS method request.\n\t *\n\t * @private\n\t * @param {String} method VFS method name\n\t * @param {*} ...args Arguments\n\t * @returns {*}\n\t */\n\t_request(method, ...args) {\n\t\tconst ev = `meeseOS/vfs:${method}`;\n\n\t\tconst done = (error) => {\n\t\t\tthis.core.emit(`${ev}:done`, ...args);\n\n\t\t\tif (!error && this.core.config(\"vfs.watch\")) {\n\t\t\t\tconst events = createWatchEvents(method, args);\n\t\t\t\tevents.forEach(([event, args]) => this.core.emit(event, args));\n\t\t\t}\n\t\t};\n\n\t\tthis.core.emit(ev, ...args);\n\n\t\treturn this._requestAction(method, ...args)\n\t\t\t.then((result) => {\n\t\t\t\tdone();\n\t\t\t\treturn result;\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\tdone(error);\n\t\t\t\tthrow error;\n\t\t\t});\n\t}\n\n\t/**\n\t * Request action wrapper.\n\t *\n\t * @private\n\t * @param {String} method\n\t * @param {*} ...args Arguments\n\t * @returns {Promise<*>}\n\t */\n\t_requestAction(method, ...args) {\n\t\tif ([\"rename\", \"move\", \"copy\"].indexOf(method) !== -1) {\n\t\t\tconst [src, dest] = args;\n\t\t\tconst srcMount = this.getMountpointFromPath(src);\n\t\t\tconst destMount = this.getMountpointFromPath(dest);\n\t\t\tconst sameAdapter = srcMount.adapter === destMount.adapter;\n\n\t\t\tif (!sameAdapter) {\n\t\t\t\treturn VFS.readfile(\n\t\t\t\t\tsrcMount._adapter,\n\t\t\t\t\tsrcMount\n\t\t\t\t)(src)\n\t\t\t\t\t.then((ab) => VFS.writefile(destMount._adapter, destMount)(dest, ab))\n\t\t\t\t\t.then((result) => {\n\t\t\t\t\t\treturn method === \"rename\"\n\t\t\t\t\t\t\t? VFS.unlink(srcMount._adapter, srcMount)(src).then(() => result)\n\t\t\t\t\t\t\t: result;\n\t\t\t\t\t});\n\t\t\t}\n\t\t} else if (method === \"archive\") {\n\t\t\tconst [selection] = args;\n\n\t\t\tconst mount = this.getMountpointFromPath(selection[0].path);\n\t\t\tif (!mount) return Promise.reject(new Error(\"No selection was specified\"));\n\n\t\t\treturn VFS[method](mount._adapter, mount)(...args);\n\t\t}\n\n\t\tconst [file] = args;\n\t\tconst mount = this.getMountpointFromPath(file);\n\t\tif (!mount) return Promise.reject(new Error(\"No file was specified\"));\n\n\t\treturn VFS[method](mount._adapter, mount)(...args);\n\t}\n\n\t/**\n\t * Creates a new mountpoint based on given properties.\n\t * @param {FilesystemMountpoint} props Properties\n\t * @returns {FilesystemMountpoint}\n\t */\n\tcreateMountpoint(props) {\n\t\tconst name = props.adapter || this.core.config(\"vfs.defaultAdapter\");\n\t\tconst adapter = { ...defaultAdapter, ...this.adapters[name](this.core) };\n\n\t\tconst result = merge(\n\t\t\t{\n\t\t\t\tenabled: true,\n\t\t\t\tmounted: false,\n\t\t\t\tadapter: name,\n\t\t\t\tattributes: {\n\t\t\t\t\tvisibility: \"global\",\n\t\t\t\t\tlocal: true,\n\t\t\t\t\tsearchable: true,\n\t\t\t\t\treadOnly: false,\n\t\t\t\t},\n\t\t\t},\n\t\t\tprops\n\t\t);\n\n\t\treturn {\n\t\t\t_adapter: adapter,\n\t\t\tlabel: name,\n\t\t\troot: `${result.name || name}:/`,\n\t\t\t...result,\n\t\t};\n\t}\n\n\t/**\n\t * Gets mountpoint from given path.\n\t * @param {String|VFSFile} file The file\n\t * @returns {FilesystemMountpoint|null}\n\t */\n\tgetMountpointFromPath(file) {\n\t\tif (!file) return null;\n\n\t\tconst path = typeof file === \"string\" ? file : file.path;\n\t\tconst prefix = parseMountpointPrefix(path);\n\n\t\tif (!prefix) {\n\t\t\tthrow new Error(`Given path '${path}' does not match 'name:/path'`);\n\t\t}\n\n\t\tconst found = this.mounts.find((m) => m.name === prefix);\n\n\t\tif (!found) {\n\t\t\tthrow new Error(`Filesystem not found for '${prefix}':`);\n\t\t}\n\n\t\treturn found;\n\t}\n\n\t/**\n\t * Gets all mountpoints.\n\t * @param {Boolean} [all=false] If true, also returns unmounted mountpoints\n\t * @returns {FilesystemMountpoint[]}\n\t */\n\tgetMounts(all = false) {\n\t\tconst user = this.core.getUser();\n\t\tconst theme = this.core.make(\"meeseOS/theme\");\n\t\tconst icon = (str) =>\n\t\t\tstr\n\t\t\t\t? typeof str === \"string\"\n\t\t\t\t\t? str\n\t\t\t\t\t: theme.icon(str.name)\n\t\t\t\t: theme.icon(\"drive-harddisk\");\n\n\t\treturn this.mounts\n\t\t\t.filter((mount) => all || mount.mounted)\n\t\t\t.filter((mount) => mount.enabled !== false)\n\t\t\t.filter((mount) => {\n\t\t\t\tconst mg = mount.attributes ? mount.attributes.groups : [];\n\t\t\t\tconst ms = mount.attributes ? mount.attributes.strictGroups !== false : true;\n\t\t\t\treturn filterMountByGroups(user.groups)(mg, ms);\n\t\t\t})\n\t\t\t.map((mount) => ({\n\t\t\t\tattributes: { ...mount.attributes },\n\t\t\t\ticon: icon(mount.icon),\n\t\t\t\tname: mount.name,\n\t\t\t\tlabel: mount.label,\n\t\t\t\troot: mount.root,\n\t\t\t}));\n\t}\n\n\t/**\n\t * Gets configured mountpoints.\n\t * @returns {FilesystemMountpoint[]}\n\t */\n\t_getConfiguredMountpoints() {\n\t\tconst list = [\n\t\t\t...this.core.config(\"vfs.mountpoints\", []),\n\t\t\t...(this.options.mounts || []),\n\t\t];\n\n\t\treturn list\n\t\t\t.map((mount) => {\n\t\t\t\ttry {\n\t\t\t\t\treturn this.createMountpoint(mount);\n\t\t\t\t} catch (e) {\n\t\t\t\t\tlogger.warn(\"Error while creating mountpoint\", e);\n\t\t\t\t}\n\n\t\t\t\treturn null;\n\t\t\t})\n\t\t\t.filter((mount, pos, arr) => {\n\t\t\t\tconst index = arr.findIndex(\n\t\t\t\t\t(item) => item.label === mount.label || item.root === mount.label\n\t\t\t\t);\n\t\t\t\tif (index === pos) {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\n\t\t\t\tlogger.warn(\"Removed duplicate mountpoint\", mount);\n\t\t\t\treturn false;\n\t\t\t})\n\t\t\t.filter((mount) => mount !== null);\n\t}\n}\n",
    "static": true,
    "longname": "/home/runner/work/meeseOS/meeseOS/frontend/client/src/filesystem.js",
    "access": "public",
    "description": null,
    "lineNumber": 1
  },
  {
    "__docId__": 295,
    "kind": "typedef",
    "name": "FilesystemMountpointAttributes",
    "memberof": "src/filesystem.js",
    "static": true,
    "longname": "src/filesystem.js~FilesystemMountpointAttributes",
    "access": "public",
    "description": "VFS Mountpoint attributes",
    "properties": [
      {
        "nullable": null,
        "types": [
          "String"
        ],
        "spread": false,
        "optional": true,
        "defaultValue": "'global'",
        "defaultRaw": "'global'",
        "name": "visibility",
        "description": "Visibility in UI"
      },
      {
        "nullable": null,
        "types": [
          "Boolean"
        ],
        "spread": false,
        "optional": true,
        "defaultValue": "true",
        "defaultRaw": true,
        "name": "local",
        "description": "Local filesystem ?"
      },
      {
        "nullable": null,
        "types": [
          "Boolean"
        ],
        "spread": false,
        "optional": true,
        "defaultValue": "true",
        "defaultRaw": true,
        "name": "searchable",
        "description": "If can be searched"
      },
      {
        "nullable": null,
        "types": [
          "Boolean"
        ],
        "spread": false,
        "optional": true,
        "defaultValue": "false",
        "defaultRaw": false,
        "name": "readOnly",
        "description": "Readonly"
      }
    ],
    "type": {
      "types": [
        "Object"
      ],
      "optional": false,
      "name": "FilesystemMountpointAttributes"
    }
  },
  {
    "__docId__": 296,
    "kind": "typedef",
    "name": "FilesystemMountpoint",
    "memberof": "src/filesystem.js",
    "static": true,
    "longname": "src/filesystem.js~FilesystemMountpoint",
    "access": "public",
    "description": "VFS Mountpoint",
    "properties": [
      {
        "nullable": null,
        "types": [
          "String"
        ],
        "spread": false,
        "optional": false,
        "name": "name",
        "description": "Name"
      },
      {
        "nullable": null,
        "types": [
          "String"
        ],
        "spread": false,
        "optional": false,
        "name": "label",
        "description": "Label"
      },
      {
        "nullable": null,
        "types": [
          "String"
        ],
        "spread": false,
        "optional": false,
        "name": "adapter",
        "description": "Adater name"
      },
      {
        "nullable": null,
        "types": [
          "String"
        ],
        "spread": false,
        "optional": true,
        "name": "root",
        "description": "System adapter root"
      },
      {
        "nullable": null,
        "types": [
          "Boolean"
        ],
        "spread": false,
        "optional": true,
        "defaultValue": "true",
        "defaultRaw": true,
        "name": "enabled",
        "description": "Enabled state"
      },
      {
        "nullable": null,
        "types": [
          "FilesystemMountpointAttributes"
        ],
        "spread": false,
        "optional": true,
        "name": "attributes",
        "description": "Attributes"
      }
    ],
    "type": {
      "types": [
        "Object"
      ],
      "optional": false,
      "name": "FilesystemMountpoint"
    }
  },
  {
    "__docId__": 297,
    "kind": "typedef",
    "name": "FilesystemAdapterMethods",
    "memberof": "src/filesystem.js",
    "static": true,
    "longname": "src/filesystem.js~FilesystemAdapterMethods",
    "access": "public",
    "description": "Filesystem Adapter Methods\n@todo: typedef",
    "properties": [
      {
        "nullable": null,
        "types": [
          "Function"
        ],
        "spread": false,
        "optional": false,
        "name": "capabilities",
        "description": ""
      },
      {
        "nullable": null,
        "types": [
          "Function"
        ],
        "spread": false,
        "optional": false,
        "name": "readdir",
        "description": ""
      },
      {
        "nullable": null,
        "types": [
          "Function"
        ],
        "spread": false,
        "optional": false,
        "name": "readfile",
        "description": ""
      },
      {
        "nullable": null,
        "types": [
          "Function"
        ],
        "spread": false,
        "optional": false,
        "name": "writefile",
        "description": ""
      },
      {
        "nullable": null,
        "types": [
          "Function"
        ],
        "spread": false,
        "optional": false,
        "name": "copy",
        "description": ""
      },
      {
        "nullable": null,
        "types": [
          "Function"
        ],
        "spread": false,
        "optional": false,
        "name": "move",
        "description": ""
      },
      {
        "nullable": null,
        "types": [
          "Function"
        ],
        "spread": false,
        "optional": false,
        "name": "rename",
        "description": ""
      },
      {
        "nullable": null,
        "types": [
          "Function"
        ],
        "spread": false,
        "optional": false,
        "name": "mkdir",
        "description": ""
      },
      {
        "nullable": null,
        "types": [
          "Function"
        ],
        "spread": false,
        "optional": false,
        "name": "unlink",
        "description": ""
      },
      {
        "nullable": null,
        "types": [
          "Function"
        ],
        "spread": false,
        "optional": false,
        "name": "exists",
        "description": ""
      },
      {
        "nullable": null,
        "types": [
          "Function"
        ],
        "spread": false,
        "optional": false,
        "name": "stat",
        "description": ""
      },
      {
        "nullable": null,
        "types": [
          "Function"
        ],
        "spread": false,
        "optional": false,
        "name": "url",
        "description": ""
      },
      {
        "nullable": null,
        "types": [
          "Function"
        ],
        "spread": false,
        "optional": false,
        "name": "download",
        "description": ""
      },
      {
        "nullable": null,
        "types": [
          "Function"
        ],
        "spread": false,
        "optional": false,
        "name": "search",
        "description": ""
      },
      {
        "nullable": null,
        "types": [
          "Function"
        ],
        "spread": false,
        "optional": false,
        "name": "touch",
        "description": ""
      },
      {
        "nullable": null,
        "types": [
          "Function"
        ],
        "spread": false,
        "optional": false,
        "name": "archive",
        "description": ""
      }
    ],
    "type": {
      "types": [
        "Object"
      ],
      "optional": false,
      "name": "FilesystemAdapterMethods"
    }
  },
  {
    "__docId__": 298,
    "kind": "typedef",
    "name": "FilesystemOptions",
    "memberof": "src/filesystem.js",
    "static": true,
    "longname": "src/filesystem.js~FilesystemOptions",
    "access": "public",
    "description": "Filesystem Options",
    "properties": [
      {
        "nullable": null,
        "types": [
          "{name: FilesystemAdapterWrapper}"
        ],
        "spread": false,
        "optional": true,
        "name": "adapters",
        "description": "Adapter registry"
      },
      {
        "nullable": null,
        "types": [
          "FilesystemMountpoint[]"
        ],
        "spread": false,
        "optional": true,
        "name": "mounts",
        "description": "Mountpoints"
      }
    ],
    "type": {
      "types": [
        "Object"
      ],
      "optional": false,
      "name": "FilesystemOptions"
    }
  },
  {
    "__docId__": 299,
    "kind": "class",
    "name": "Filesystem",
    "memberof": "src/filesystem.js",
    "static": true,
    "longname": "src/filesystem.js~Filesystem",
    "access": "public",
    "export": true,
    "importPath": "@meeseOS/client/src/filesystem.js",
    "importStyle": "Filesystem",
    "description": "Filesystem Class that manages filesystems and adapters",
    "lineNumber": 107,
    "interface": false,
    "extends": [
      "@meeseOS/event-emitter~EventEmitter"
    ]
  },
  {
    "__docId__": 300,
    "kind": "constructor",
    "name": "constructor",
    "memberof": "src/filesystem.js~Filesystem",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/filesystem.js~Filesystem#constructor",
    "access": "public",
    "description": "Create filesystem manager.",
    "lineNumber": 114,
    "params": [
      {
        "nullable": null,
        "types": [
          "Core"
        ],
        "spread": false,
        "optional": false,
        "name": "core",
        "description": "MeeseOS Core instance reference"
      },
      {
        "nullable": null,
        "types": [
          "FilesystemOptions"
        ],
        "spread": false,
        "optional": true,
        "name": "options",
        "description": "Options"
      }
    ]
  },
  {
    "__docId__": 301,
    "kind": "member",
    "name": "core",
    "memberof": "src/filesystem.js~Filesystem",
    "static": false,
    "longname": "src/filesystem.js~Filesystem#core",
    "access": "public",
    "description": "Core instance reference",
    "lineNumber": 128,
    "unknown": [
      {
        "tagName": "@readonly",
        "tagValue": ""
      }
    ],
    "type": {
      "nullable": null,
      "types": [
        "Core"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 302,
    "kind": "member",
    "name": "adapters",
    "memberof": "src/filesystem.js~Filesystem",
    "static": false,
    "longname": "src/filesystem.js~Filesystem#adapters",
    "access": "public",
    "description": "Adapter registry",
    "lineNumber": 135,
    "unknown": [
      {
        "tagName": "@readonly",
        "tagValue": ""
      }
    ],
    "type": {
      "nullable": null,
      "types": [
        "{name: FilesystemAdapterWrapper}"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 303,
    "kind": "member",
    "name": "mounts",
    "memberof": "src/filesystem.js~Filesystem",
    "static": false,
    "longname": "src/filesystem.js~Filesystem#mounts",
    "access": "public",
    "description": "Mountpoints",
    "lineNumber": 146,
    "type": {
      "nullable": null,
      "types": [
        "FilesystemMountpoint[]"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 304,
    "kind": "member",
    "name": "options",
    "memberof": "src/filesystem.js~Filesystem",
    "static": false,
    "longname": "src/filesystem.js~Filesystem#options",
    "access": "public",
    "description": "Options",
    "lineNumber": 152,
    "type": {
      "nullable": null,
      "types": [
        "FilesystemOptions"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 305,
    "kind": "member",
    "name": "proxy",
    "memberof": "src/filesystem.js~Filesystem",
    "static": false,
    "longname": "src/filesystem.js~Filesystem#proxy",
    "access": "public",
    "description": "A wrapper for VFS method requests.",
    "lineNumber": 159,
    "unknown": [
      {
        "tagName": "@readonly",
        "tagValue": ""
      }
    ],
    "type": {
      "nullable": null,
      "types": [
        "{key: Function}"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 306,
    "kind": "method",
    "name": "mountAll",
    "memberof": "src/filesystem.js~Filesystem",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/filesystem.js~Filesystem#mountAll",
    "access": "public",
    "description": "Mounts all configured mountpoints.",
    "lineNumber": 172,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{Promise<Boolean[]>}"
      }
    ],
    "params": [
      {
        "nullable": null,
        "types": [
          "Boolean"
        ],
        "spread": false,
        "optional": true,
        "defaultValue": "true",
        "defaultRaw": true,
        "name": "stopOnError",
        "description": "Stop on first error"
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "Promise<Boolean[]>"
      ],
      "spread": false,
      "description": ""
    }
  },
  {
    "__docId__": 308,
    "kind": "method",
    "name": "addMountpoint",
    "memberof": "src/filesystem.js~Filesystem",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/filesystem.js~Filesystem#addMountpoint",
    "access": "public",
    "description": "Adds a new mountpoint.",
    "lineNumber": 191,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{Promise<Boolean>}"
      }
    ],
    "params": [
      {
        "nullable": null,
        "types": [
          "FilesystemMountpoint"
        ],
        "spread": false,
        "optional": false,
        "name": "props",
        "description": "Mountpoint props"
      },
      {
        "nullable": null,
        "types": [
          "Boolean"
        ],
        "spread": false,
        "optional": true,
        "defaultValue": "true",
        "defaultRaw": true,
        "name": "automount",
        "description": "Automount after creation"
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "Promise<Boolean>"
      ],
      "spread": false,
      "description": ""
    }
  },
  {
    "__docId__": 309,
    "kind": "method",
    "name": "mount",
    "memberof": "src/filesystem.js~Filesystem",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/filesystem.js~Filesystem#mount",
    "access": "public",
    "description": "Mount given mountpoint.",
    "lineNumber": 208,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{Promise<Boolean>}"
      }
    ],
    "params": [
      {
        "nullable": null,
        "types": [
          "String",
          "FilesystemMountpoint"
        ],
        "spread": false,
        "optional": false,
        "name": "mountpoint",
        "description": "Mountpoint name or object"
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "Promise<Boolean>"
      ],
      "spread": false,
      "description": ""
    },
    "throws": [
      {
        "types": [
          "Error"
        ],
        "description": "On invalid name or if already mounted"
      }
    ]
  },
  {
    "__docId__": 310,
    "kind": "method",
    "name": "unmount",
    "memberof": "src/filesystem.js~Filesystem",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/filesystem.js~Filesystem#unmount",
    "access": "public",
    "description": "Unmount given filesystem.",
    "lineNumber": 222,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{Promise<Boolean>}"
      }
    ],
    "params": [
      {
        "nullable": null,
        "types": [
          "String"
        ],
        "spread": false,
        "optional": false,
        "name": "name",
        "description": "Filesystem name"
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "Promise<Boolean>"
      ],
      "spread": false,
      "description": ""
    },
    "throws": [
      {
        "types": [
          "Error"
        ],
        "description": "On invalid name or if already unmounted"
      }
    ]
  },
  {
    "__docId__": 311,
    "kind": "method",
    "name": "_mountpointAction",
    "memberof": "src/filesystem.js~Filesystem",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/filesystem.js~Filesystem#_mountpointAction",
    "access": "private",
    "description": "Internal wrapper for mounting/unmounting.",
    "lineNumber": 234,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{Promise<Boolean>}"
      }
    ],
    "params": [
      {
        "nullable": null,
        "types": [
          "FilesystemMountpoint"
        ],
        "spread": false,
        "optional": false,
        "name": "mountpoint",
        "description": "The mountpoint"
      },
      {
        "nullable": null,
        "types": [
          "Boolean"
        ],
        "spread": false,
        "optional": true,
        "defaultValue": "false",
        "defaultRaw": false,
        "name": "unmount",
        "description": "If action is unmounting"
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "Promise<Boolean>"
      ],
      "spread": false,
      "description": ""
    }
  },
  {
    "__docId__": 312,
    "kind": "method",
    "name": "_mountAction",
    "memberof": "src/filesystem.js~Filesystem",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/filesystem.js~Filesystem#_mountAction",
    "access": "private",
    "description": "Internal wrapper for mounting/unmounting by name.",
    "lineNumber": 258,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{Promise<Boolean>}"
      }
    ],
    "params": [
      {
        "nullable": null,
        "types": [
          "String"
        ],
        "spread": false,
        "optional": false,
        "name": "name",
        "description": "Mountpoint name"
      },
      {
        "nullable": null,
        "types": [
          "Boolean"
        ],
        "spread": false,
        "optional": true,
        "defaultValue": "false",
        "defaultRaw": false,
        "name": "unmount",
        "description": "If action is unmounting"
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "Promise<Boolean>"
      ],
      "spread": false,
      "description": ""
    }
  },
  {
    "__docId__": 313,
    "kind": "method",
    "name": "request",
    "memberof": "src/filesystem.js~Filesystem",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/filesystem.js~Filesystem#request",
    "access": "public",
    "description": "Gets the proxy for VFS methods.\n@todo: Not the correct type",
    "lineNumber": 280,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{FilesystemAdapterMethods} A map of VFS functions"
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "FilesystemAdapterMethods"
      ],
      "spread": false,
      "description": "A map of VFS functions"
    },
    "params": []
  },
  {
    "__docId__": 314,
    "kind": "method",
    "name": "_request",
    "memberof": "src/filesystem.js~Filesystem",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/filesystem.js~Filesystem#_request",
    "access": "private",
    "description": "Perform a VFS method request.",
    "lineNumber": 292,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{*}"
      }
    ],
    "params": [
      {
        "nullable": null,
        "types": [
          "String"
        ],
        "spread": false,
        "optional": false,
        "name": "method",
        "description": "VFS method name"
      },
      {
        "nullable": null,
        "types": [
          "*"
        ],
        "spread": false,
        "optional": false,
        "name": "...args",
        "description": "Arguments"
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "*"
      ],
      "spread": false,
      "description": ""
    }
  },
  {
    "__docId__": 315,
    "kind": "method",
    "name": "_requestAction",
    "memberof": "src/filesystem.js~Filesystem",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/filesystem.js~Filesystem#_requestAction",
    "access": "private",
    "description": "Request action wrapper.",
    "lineNumber": 325,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{Promise<*>}"
      }
    ],
    "params": [
      {
        "nullable": null,
        "types": [
          "String"
        ],
        "spread": false,
        "optional": false,
        "name": "method",
        "description": ""
      },
      {
        "nullable": null,
        "types": [
          "*"
        ],
        "spread": false,
        "optional": false,
        "name": "...args",
        "description": "Arguments"
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "Promise<*>"
      ],
      "spread": false,
      "description": ""
    }
  },
  {
    "__docId__": 316,
    "kind": "method",
    "name": "createMountpoint",
    "memberof": "src/filesystem.js~Filesystem",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/filesystem.js~Filesystem#createMountpoint",
    "access": "public",
    "description": "Creates a new mountpoint based on given properties.",
    "lineNumber": 365,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{FilesystemMountpoint}"
      }
    ],
    "params": [
      {
        "nullable": null,
        "types": [
          "FilesystemMountpoint"
        ],
        "spread": false,
        "optional": false,
        "name": "props",
        "description": "Properties"
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "FilesystemMountpoint"
      ],
      "spread": false,
      "description": ""
    }
  },
  {
    "__docId__": 317,
    "kind": "method",
    "name": "getMountpointFromPath",
    "memberof": "src/filesystem.js~Filesystem",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/filesystem.js~Filesystem#getMountpointFromPath",
    "access": "public",
    "description": "Gets mountpoint from given path.",
    "lineNumber": 397,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{FilesystemMountpoint|null}"
      }
    ],
    "params": [
      {
        "nullable": null,
        "types": [
          "String",
          "VFSFile"
        ],
        "spread": false,
        "optional": false,
        "name": "file",
        "description": "The file"
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "FilesystemMountpoint",
        "null"
      ],
      "spread": false,
      "description": ""
    }
  },
  {
    "__docId__": 318,
    "kind": "method",
    "name": "getMounts",
    "memberof": "src/filesystem.js~Filesystem",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/filesystem.js~Filesystem#getMounts",
    "access": "public",
    "description": "Gets all mountpoints.",
    "lineNumber": 421,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{FilesystemMountpoint[]}"
      }
    ],
    "params": [
      {
        "nullable": null,
        "types": [
          "Boolean"
        ],
        "spread": false,
        "optional": true,
        "defaultValue": "false",
        "defaultRaw": false,
        "name": "all",
        "description": "If true, also returns unmounted mountpoints"
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "FilesystemMountpoint[]"
      ],
      "spread": false,
      "description": ""
    }
  },
  {
    "__docId__": 319,
    "kind": "method",
    "name": "_getConfiguredMountpoints",
    "memberof": "src/filesystem.js~Filesystem",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/filesystem.js~Filesystem#_getConfiguredMountpoints",
    "access": "private",
    "description": "Gets configured mountpoints.",
    "lineNumber": 452,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{FilesystemMountpoint[]}"
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "FilesystemMountpoint[]"
      ],
      "spread": false,
      "description": ""
    },
    "params": []
  },
  {
    "__docId__": 320,
    "kind": "file",
    "name": "src/loading-screen/lettercrap.js",
    "content": "const updateInterval = 150;\nconst likelihoodOfReplacingWord = 0.05;\nconst likelihoodOfChangingExistingText = 0.1;\nconst randomChoice = (x) => x[Math.floor(Math.random() * x.length)];\n\nfunction createImageURL(text) {\n\tconst canvas = document.createElement(\"canvas\");\n\tconst context = canvas.getContext(\"2d\");\n\tconst fontsize = measureTextBinaryMethod(\n\t\ttext,\n\t\t\"monospace\",\n\t\t0,\n\t\t10,\n\t\tcanvas.width\n\t);\n\tcanvas.height = fontsize + 1;\n\tcanvas.width = context.measureText(text).width + 2;\n\tcontext.fillText(text, 1, fontsize);\n\treturn canvas.toDataURL();\n\n\t// https://jsfiddle.net/be6ppdre/29/\n\tfunction measureTextBinaryMethod(text, fontface, min, max, desiredWidth) {\n\t\tif (max - min < 1) return min;\n\t\tconst test = min + (max - min) / 2; // Find half interval\n\t\tcontext.font = `${test}px ${fontface}`;\n\t\tconst measureTest = context.measureText(text).width;\n\n\t\tconst condition = measureTest > desiredWidth;\n\t\treturn measureTextBinaryMethod(\n\t\t\ttext,\n\t\t\tfontface,\n\t\t\tcondition ? min : test,\n\t\t\tcondition ? test : max,\n\t\t\tdesiredWidth\n\t\t);\n\t}\n}\n\nfunction render(element, image, prev) {\n\tif (element.hasAttribute(\"data-lettercrap-aspect-ratio\")) {\n\t\tconst aspect = parseFloat(\n\t\t\telement.getAttribute(\"data-lettercrap-aspect-ratio\")\n\t\t);\n\t\telement.style.height = element.clientWidth * aspect + \"px\";\n\t}\n\n\tconst words = element.hasAttribute(\"data-lettercrap-words\")\n\t\t? element.getAttribute(\"data-lettercrap-words\").split(\" \")\n\t\t: [];\n\tconst letters = element.hasAttribute(\"data-lettercrap-letters\")\n\t\t? element.getAttribute(\"data-lettercrap-letters\")\n\t\t: \"0101010101_\";\n\tconst textCondition =\n\t\tprev &&\n\t\tprev.width === element.clientWidth &&\n\t\tprev.height === element.clientHeight;\n\tconst text = getTextContentWithImageAtSize(\n\t\timage,\n\t\telement.clientWidth,\n\t\telement.clientHeight,\n\t\ttextCondition ? prev.text : null,\n\t\twords,\n\t\tletters\n\t);\n\n\telement.textContent = text;\n\tconst data = {\n\t\twidth: element.clientWidth,\n\t\theight: element.clientHeight,\n\t\ttext: text,\n\t};\n\tsetTimeout(() => render(element, image, data), updateInterval);\n}\n\nfunction getTextContentWithImageAtSize(\n\timage,\n\twidth,\n\theight,\n\texistingText,\n\twords,\n\tletters\n) {\n\texistingText = existingText ? existingText.replace(/\\r?\\n|\\r/g, \"\") : null;\n\tconst shouldReplaceExisting = () =>\n\t\t!existingText || Math.random() < likelihoodOfChangingExistingText;\n\n\t// This code is for scaling the canvas size appropriately for smaller screens\n\tlet charWidth = 6, charHeight = 10;\n\tif (window.innerWidth < 800 && window.innerWidth > 600) {\n\t\tcharWidth *= 0.8;\n\t\tcharHeight *= 0.8;\n\t} else if (window.innerWidth <= 600 && window.innerWidth > 500) {\n\t\tcharWidth *= 0.5;\n\t\tcharHeight *= 0.5;\n\t} else if (window.innerWidth <= 500 && window.innerWidth > 400) {\n\t\tcharWidth *= 0.55;\n\t\tcharHeight *= 0.55;\n\t} else if (window.innerWidth <= 400) {\n\t\tcharWidth *= 0.6;\n\t\tcharHeight *= 0.6;\n\t}\n\n\tconst canvas = document.createElement(\"canvas\");\n\tcanvas.width = parseInt(width / charWidth);\n\tcanvas.height = parseInt(height / charHeight);\n\tcanvas.getContext(\"2d\").drawImage(image, 0, 0, canvas.width, canvas.height);\n\tif (canvas.getContext(\"2d\").canvas.width === 0) return;\n\tconst data = canvas\n\t\t.getContext(\"2d\")\n\t\t.getImageData(0, 0, canvas.width, canvas.height);\n\tlet chars = \"\";\n\tlet startOfFilledInSequence = 0;\n\tlet i = 0;\n\n\tfor (let y = 0; y < data.height; y++) {\n\t\tfor (let x = 0; x < data.width; x++) {\n\t\t\tconst black = data.data[i * 4] < 120;\n\t\t\tconst transparent = data.data[i * 4 + 3] < 50;\n\t\t\tif (black && !transparent) {\n\t\t\t\tif (startOfFilledInSequence === null) startOfFilledInSequence = i;\n\t\t\t\tchars += shouldReplaceExisting()\n\t\t\t\t\t? randomChoice(letters)\n\t\t\t\t\t: existingText[i];\n\n\t\t\t\tif (\n\t\t\t\t\twords.length > 0 &&\n\t\t\t\t\tMath.random() < likelihoodOfReplacingWord &&\n\t\t\t\t\tshouldReplaceExisting()\n\t\t\t\t) {\n\t\t\t\t\tconst word = randomChoice(words);\n\t\t\t\t\tif (i + 1 - startOfFilledInSequence >= word.length) {\n\t\t\t\t\t\tchars = chars.substring(0, chars.length - word.length) + word;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tchars += \" \";\n\t\t\t\tstartOfFilledInSequence = null;\n\t\t\t}\n\t\t\ti++;\n\t\t}\n\t\tchars += \"\\n\";\n\t\tstartOfFilledInSequence = null;\n\t}\n\treturn chars;\n}\n\nfunction initElement(element) {\n\tconst img = new Image();\n\timg.onload = () => render(element, img, null);\n\timg.src = element.getAttribute(\"data-letter-crap\");\n\timg.crossOrigin = \"anonymous\";\n}\n\n// Customized from https://github.com/ajmeese7/lettercrap\nexport function createLettercrap() {\n\tconst lettercrapTextElement = document.querySelector(\n\t\t\"[data-lettercrap-text]\"\n\t);\n\tconst text = lettercrapTextElement.getAttribute(\"data-lettercrap-text\");\n\tconst imageURL = createImageURL(text);\n\tlettercrapTextElement.setAttribute(\"data-letter-crap\", imageURL);\n\n\tconst lettercrapElement = document.querySelector(\"[data-letter-crap]\");\n\tinitElement(lettercrapElement);\n}\n",
    "static": true,
    "longname": "/home/runner/work/meeseOS/meeseOS/frontend/client/src/loading-screen/lettercrap.js",
    "access": "public",
    "description": null,
    "lineNumber": 1
  },
  {
    "__docId__": 321,
    "kind": "variable",
    "name": "updateInterval",
    "memberof": "src/loading-screen/lettercrap.js",
    "static": true,
    "longname": "src/loading-screen/lettercrap.js~updateInterval",
    "access": "public",
    "export": false,
    "importPath": "@meeseOS/client/src/loading-screen/lettercrap.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 1,
    "undocument": true,
    "type": {
      "types": [
        "number"
      ]
    },
    "ignore": true
  },
  {
    "__docId__": 322,
    "kind": "variable",
    "name": "likelihoodOfReplacingWord",
    "memberof": "src/loading-screen/lettercrap.js",
    "static": true,
    "longname": "src/loading-screen/lettercrap.js~likelihoodOfReplacingWord",
    "access": "public",
    "export": false,
    "importPath": "@meeseOS/client/src/loading-screen/lettercrap.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 2,
    "undocument": true,
    "type": {
      "types": [
        "number"
      ]
    },
    "ignore": true
  },
  {
    "__docId__": 323,
    "kind": "variable",
    "name": "likelihoodOfChangingExistingText",
    "memberof": "src/loading-screen/lettercrap.js",
    "static": true,
    "longname": "src/loading-screen/lettercrap.js~likelihoodOfChangingExistingText",
    "access": "public",
    "export": false,
    "importPath": "@meeseOS/client/src/loading-screen/lettercrap.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 3,
    "undocument": true,
    "type": {
      "types": [
        "number"
      ]
    },
    "ignore": true
  },
  {
    "__docId__": 324,
    "kind": "function",
    "name": "randomChoice",
    "memberof": "src/loading-screen/lettercrap.js",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "src/loading-screen/lettercrap.js~randomChoice",
    "access": "public",
    "export": false,
    "importPath": "@meeseOS/client/src/loading-screen/lettercrap.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 4,
    "undocument": true,
    "params": [
      {
        "name": "x",
        "types": [
          "*"
        ]
      }
    ],
    "return": null,
    "ignore": true
  },
  {
    "__docId__": 325,
    "kind": "function",
    "name": "createImageURL",
    "memberof": "src/loading-screen/lettercrap.js",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "src/loading-screen/lettercrap.js~createImageURL",
    "access": "public",
    "export": false,
    "importPath": "@meeseOS/client/src/loading-screen/lettercrap.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 6,
    "undocument": true,
    "params": [
      {
        "name": "text",
        "types": [
          "*"
        ]
      }
    ],
    "return": {
      "types": [
        "*"
      ]
    },
    "ignore": true
  },
  {
    "__docId__": 326,
    "kind": "function",
    "name": "render",
    "memberof": "src/loading-screen/lettercrap.js",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "src/loading-screen/lettercrap.js~render",
    "access": "public",
    "export": false,
    "importPath": "@meeseOS/client/src/loading-screen/lettercrap.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 39,
    "undocument": true,
    "params": [
      {
        "name": "element",
        "types": [
          "*"
        ]
      },
      {
        "name": "image",
        "types": [
          "*"
        ]
      },
      {
        "name": "prev",
        "types": [
          "*"
        ]
      }
    ],
    "return": null,
    "ignore": true
  },
  {
    "__docId__": 327,
    "kind": "function",
    "name": "getTextContentWithImageAtSize",
    "memberof": "src/loading-screen/lettercrap.js",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "src/loading-screen/lettercrap.js~getTextContentWithImageAtSize",
    "access": "public",
    "export": false,
    "importPath": "@meeseOS/client/src/loading-screen/lettercrap.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 75,
    "undocument": true,
    "params": [
      {
        "name": "image",
        "types": [
          "*"
        ]
      },
      {
        "name": "width",
        "types": [
          "*"
        ]
      },
      {
        "name": "height",
        "types": [
          "*"
        ]
      },
      {
        "name": "existingText",
        "types": [
          "*"
        ]
      },
      {
        "name": "words",
        "types": [
          "*"
        ]
      },
      {
        "name": "letters",
        "types": [
          "*"
        ]
      }
    ],
    "return": {
      "types": [
        "*"
      ]
    },
    "ignore": true
  },
  {
    "__docId__": 328,
    "kind": "function",
    "name": "initElement",
    "memberof": "src/loading-screen/lettercrap.js",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "src/loading-screen/lettercrap.js~initElement",
    "access": "public",
    "export": false,
    "importPath": "@meeseOS/client/src/loading-screen/lettercrap.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 147,
    "undocument": true,
    "params": [
      {
        "name": "element",
        "types": [
          "*"
        ]
      }
    ],
    "return": null,
    "ignore": true
  },
  {
    "__docId__": 329,
    "kind": "function",
    "name": "createLettercrap",
    "memberof": "src/loading-screen/lettercrap.js",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "src/loading-screen/lettercrap.js~createLettercrap",
    "access": "public",
    "export": true,
    "importPath": "@meeseOS/client/src/loading-screen/lettercrap.js",
    "importStyle": "{createLettercrap}",
    "description": null,
    "lineNumber": 155,
    "undocument": true,
    "params": [],
    "return": null,
    "ignore": true
  },
  {
    "__docId__": 330,
    "kind": "file",
    "name": "src/logger.js",
    "content": "/**\n * OS.js - JavaScript Cloud/Web Desktop Platform\n *\n * Copyright (c) 2011-Present, Anders Evenrud <andersevenrud@gmail.com>\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *\n * 1. Redistributions of source code must retain the above copyright notice, this\n *    list of conditions and the following disclaimer\n * 2. Redistributions in binary form must reproduce the above copyright notice,\n *    this list of conditions and the following disclaimer in the documentation\n *    and/or other materials provided with the distribution\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\n * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR\n * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n *\n * @author  Anders Evenrud <andersevenrud@gmail.com>\n * @license Simplified BSD License\n */\n\nconst methods = [\"debug\", \"log\", \"info\", \"warn\", \"error\"];\nlet middleware = [];\n\nconst reduce = (name, input) =>\n\tmiddleware.reduce((current, m) => m(name, ...current), input);\n\nconst bind = (fn, thisArg) =>\n\ttypeof thisArg[fn].bind === \"function\"\n\t\t? thisArg[fn].bind(thisArg)\n\t\t: Function.prototype.bind.apply(thisArg[fn], thisArg);\n\nconst bindMethod = (fn) => {\n\tconst log = bind(fn, console);\n\tif (middleware.length > 0) {\n\t\treturn (...args) => log(...reduce(fn, args));\n\t}\n\n\treturn log;\n};\n\nconst assignMethods = (thisArg) =>\n\tmethods.forEach((m) => (thisArg[m] = bindMethod(m)));\n\nconst instance = {\n\taddMiddleware: (m) => {\n\t\tmiddleware.push(m);\n\t\tassignMethods(instance);\n\t},\n\tclearMiddleware: () => {\n\t\tmiddleware = [];\n\t\tassignMethods(instance);\n\t},\n};\n\nassignMethods(instance);\n\nexport default instance;\n",
    "static": true,
    "longname": "/home/runner/work/meeseOS/meeseOS/frontend/client/src/logger.js",
    "access": "public",
    "description": null,
    "lineNumber": 1
  },
  {
    "__docId__": 331,
    "kind": "variable",
    "name": "methods",
    "memberof": "src/logger.js",
    "static": true,
    "longname": "src/logger.js~methods",
    "access": "public",
    "export": false,
    "importPath": "@meeseOS/client/src/logger.js",
    "importStyle": null,
    "description": "OS.js - JavaScript Cloud/Web Desktop Platform\n\nCopyright (c) 2011-Present, Anders Evenrud <andersevenrud@gmail.com>\nAll rights reserved.\n\nRedistribution and use in source and binary forms, with or without\nmodification, are permitted provided that the following conditions are met:\n\n1. Redistributions of source code must retain the above copyright notice, this\n   list of conditions and the following disclaimer\n2. Redistributions in binary form must reproduce the above copyright notice,\n   this list of conditions and the following disclaimer in the documentation\n   and/or other materials provided with the distribution\n\nTHIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\nANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\nWARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\nDISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR\nANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n(INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\nLOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\nON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n(INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\nSOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.",
    "lineNumber": 31,
    "unknown": [
      {
        "tagName": "@author",
        "tagValue": " Anders Evenrud <andersevenrud@gmail.com>"
      },
      {
        "tagName": "@license",
        "tagValue": "Simplified BSD License"
      }
    ],
    "type": {
      "types": [
        "string[]"
      ]
    },
    "ignore": true
  },
  {
    "__docId__": 332,
    "kind": "variable",
    "name": "middleware",
    "memberof": "src/logger.js",
    "static": true,
    "longname": "src/logger.js~middleware",
    "access": "public",
    "export": false,
    "importPath": "@meeseOS/client/src/logger.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 32,
    "undocument": true,
    "type": {
      "types": [
        "*[]"
      ]
    },
    "ignore": true
  },
  {
    "__docId__": 333,
    "kind": "function",
    "name": "reduce",
    "memberof": "src/logger.js",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "src/logger.js~reduce",
    "access": "public",
    "export": false,
    "importPath": "@meeseOS/client/src/logger.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 34,
    "undocument": true,
    "params": [
      {
        "name": "name",
        "types": [
          "*"
        ]
      },
      {
        "name": "input",
        "types": [
          "*"
        ]
      }
    ],
    "return": null,
    "ignore": true
  },
  {
    "__docId__": 334,
    "kind": "function",
    "name": "bind",
    "memberof": "src/logger.js",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "src/logger.js~bind",
    "access": "public",
    "export": false,
    "importPath": "@meeseOS/client/src/logger.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 37,
    "undocument": true,
    "params": [
      {
        "name": "fn",
        "types": [
          "*"
        ]
      },
      {
        "name": "thisArg",
        "types": [
          "*"
        ]
      }
    ],
    "return": null,
    "ignore": true
  },
  {
    "__docId__": 335,
    "kind": "function",
    "name": "bindMethod",
    "memberof": "src/logger.js",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "src/logger.js~bindMethod",
    "access": "public",
    "export": false,
    "importPath": "@meeseOS/client/src/logger.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 42,
    "undocument": true,
    "params": [
      {
        "name": "fn",
        "types": [
          "*"
        ]
      }
    ],
    "return": {
      "types": [
        "*"
      ]
    },
    "ignore": true
  },
  {
    "__docId__": 336,
    "kind": "function",
    "name": "assignMethods",
    "memberof": "src/logger.js",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "src/logger.js~assignMethods",
    "access": "public",
    "export": false,
    "importPath": "@meeseOS/client/src/logger.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 51,
    "undocument": true,
    "params": [
      {
        "name": "thisArg",
        "types": [
          "*"
        ]
      }
    ],
    "return": null,
    "ignore": true
  },
  {
    "__docId__": 337,
    "kind": "variable",
    "name": "instance",
    "memberof": "src/logger.js",
    "static": true,
    "longname": "src/logger.js~instance",
    "access": "public",
    "export": true,
    "importPath": "@meeseOS/client/src/logger.js",
    "importStyle": "instance",
    "description": null,
    "lineNumber": 54,
    "undocument": true,
    "type": {
      "types": [
        "{\"addMiddleware\": *, \"clearMiddleware\": *}"
      ]
    },
    "ignore": true
  },
  {
    "__docId__": 338,
    "kind": "file",
    "name": "src/login.js",
    "content": "/**\n * OS.js - JavaScript Cloud/Web Desktop Platform\n *\n * Copyright (c) 2011-Present, Anders Evenrud <andersevenrud@gmail.com>\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *\n * 1. Redistributions of source code must retain the above copyright notice, this\n *    list of conditions and the following disclaimer\n * 2. Redistributions in binary form must reproduce the above copyright notice,\n *    this list of conditions and the following disclaimer in the documentation\n *    and/or other materials provided with the distribution\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\n * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR\n * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n *\n * @author  Anders Evenrud <andersevenrud@gmail.com>\n * @license Simplified BSD License\n */\n\nimport { EventEmitter } from \"@meeseOS/event-emitter\";\nimport createUI from \"./adapters/ui/login\";\n\n/**\n * Login Options\n *\n * @typedef {Object} LoginOptions\n * @property {String} [title] Title\n * @property {Object[]} [fields] Fields\n */\n\n/**\n * MeeseOS Login UI\n */\nexport default class Login extends EventEmitter {\n\t/**\n\t * Create authentication handler\n\t *\n\t * @param {Core} core MeeseOS Core instance reference\n\t * @param {LoginOptions} [options] Options\n\t */\n\tconstructor(core, options) {\n\t\tsuper(\"Login\");\n\n\t\t/**\n\t\t * Login root DOM element\n\t\t * @type {Element}\n\t\t */\n\t\tthis.$container = null;\n\n\t\t/**\n\t\t * Core instance reference\n\t\t * @type {Core}\n\t\t * @readonly\n\t\t */\n\t\tthis.core = core;\n\n\t\tconst allowGuestLogin = this.core.config(\"auth.allowGuest\", false);\n\n\t\t/**\n\t\t * Login options\n\t\t * @type {Object}\n\t\t * @readonly\n\t\t */\n\t\tthis.options = {\n\t\t\tid: \"meeseOS-login\",\n\t\t\ttitle: \"Welcome to MeeseOS\",\n\t\t\tstamp: core.config(\"version\"),\n\t\t\tlogo: {\n\t\t\t\tposition: \"top\",\n\t\t\t\tsrc: null,\n\t\t\t},\n\t\t\tfields: [\n\t\t\t\t{\n\t\t\t\t\ttagName: \"input\",\n\t\t\t\t\tattributes: {\n\t\t\t\t\t\tname: \"username\",\n\t\t\t\t\t\ttype: \"text\",\n\t\t\t\t\t\tplaceholder: \"Username\",\n\t\t\t\t\t\tautocomplete: false\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\ttagName: \"input\",\n\t\t\t\t\tattributes: {\n\t\t\t\t\t\tname: \"password\",\n\t\t\t\t\t\ttype: \"password\",\n\t\t\t\t\t\tplaceholder: \"Password\",\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\ttagName: \"input\",\n\t\t\t\t\tattributes: {\n\t\t\t\t\t\ttype: \"submit\",\n\t\t\t\t\t\tvalue: \"Login\",\n\t\t\t\t\t\tid: \"standard-login\",\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t\t// Only show the guest login if the option is enabled\n\t\t\t\t...(allowGuestLogin ? [{\n\t\t\t\t\ttagName: \"input\",\n\t\t\t\t\tattributes: {\n\t\t\t\t\t\ttype: \"submit\",\n\t\t\t\t\t\tvalue: \"Login as Guest\",\n\t\t\t\t\t\tid: \"guest-login\",\n\t\t\t\t\t},\n\t\t\t\t}] : []),\n\t\t\t],\n\t\t\t...options,\n\t\t};\n\t}\n\n\t/**\n\t * Initializes the UI\n\t */\n\tinit(startHidden) {\n\t\tthis.$container = document.createElement(\"div\");\n\t\tthis.$container.id = \"meeseOS-login-container\";\n\t\tthis.$container.className = \"meeseOS-login-base\";\n\t\tthis.core.$root.classList.add(\"login\");\n\t\tthis.core.$root.appendChild(this.$container);\n\n\t\tthis.render(startHidden);\n\t}\n\n\t/**\n\t * Destroys the UI\n\t */\n\tdestroy() {\n\t\tthis.core.$root.classList.remove(\"login\");\n\n\t\tif (this.$container) {\n\t\t\tthis.$container.remove();\n\t\t\tthis.$container = null;\n\t\t}\n\n\t\tsuper.destroy();\n\t}\n\n\t/**\n\t * Renders the UI\n\t */\n\trender(startHidden) {\n\t\tconst login = this.core.config(\"auth.login\", {});\n\t\tconst ui = createUI(this.options, login, startHidden, this.$container);\n\n\t\tui.on(\"register:post\", (values) => this.emit(\"register:post\", values));\n\t\tui.on(\"login:post\", (values) => this.emit(\"login:post\", values));\n\t\tthis.on(\"login:start\", () => ui.emit(\"login:start\"));\n\t\tthis.on(\"login:stop\", () => ui.emit(\"login:stop\"));\n\t\tthis.on(\"login:error\", (err) => ui.emit(\"login:error\", err));\n\t}\n}\n",
    "static": true,
    "longname": "/home/runner/work/meeseOS/meeseOS/frontend/client/src/login.js",
    "access": "public",
    "description": null,
    "lineNumber": 1
  },
  {
    "__docId__": 339,
    "kind": "typedef",
    "name": "LoginOptions",
    "memberof": "src/login.js",
    "static": true,
    "longname": "src/login.js~LoginOptions",
    "access": "public",
    "description": "Login Options",
    "properties": [
      {
        "nullable": null,
        "types": [
          "String"
        ],
        "spread": false,
        "optional": true,
        "name": "title",
        "description": "Title"
      },
      {
        "nullable": null,
        "types": [
          "Object[]"
        ],
        "spread": false,
        "optional": true,
        "name": "fields",
        "description": "Fields"
      }
    ],
    "type": {
      "types": [
        "Object"
      ],
      "optional": false,
      "name": "LoginOptions"
    }
  },
  {
    "__docId__": 340,
    "kind": "class",
    "name": "Login",
    "memberof": "src/login.js",
    "static": true,
    "longname": "src/login.js~Login",
    "access": "public",
    "export": true,
    "importPath": "@meeseOS/client/src/login.js",
    "importStyle": "Login",
    "description": "MeeseOS Login UI",
    "lineNumber": 45,
    "interface": false,
    "extends": [
      "@meeseOS/event-emitter~EventEmitter"
    ]
  },
  {
    "__docId__": 341,
    "kind": "constructor",
    "name": "constructor",
    "memberof": "src/login.js~Login",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/login.js~Login#constructor",
    "access": "public",
    "description": "Create authentication handler",
    "lineNumber": 52,
    "params": [
      {
        "nullable": null,
        "types": [
          "Core"
        ],
        "spread": false,
        "optional": false,
        "name": "core",
        "description": "MeeseOS Core instance reference"
      },
      {
        "nullable": null,
        "types": [
          "LoginOptions"
        ],
        "spread": false,
        "optional": true,
        "name": "options",
        "description": "Options"
      }
    ]
  },
  {
    "__docId__": 342,
    "kind": "member",
    "name": "$container",
    "memberof": "src/login.js~Login",
    "static": false,
    "longname": "src/login.js~Login#$container",
    "access": "public",
    "description": "Login root DOM element",
    "lineNumber": 59,
    "type": {
      "nullable": null,
      "types": [
        "Element"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 343,
    "kind": "member",
    "name": "core",
    "memberof": "src/login.js~Login",
    "static": false,
    "longname": "src/login.js~Login#core",
    "access": "public",
    "description": "Core instance reference",
    "lineNumber": 66,
    "unknown": [
      {
        "tagName": "@readonly",
        "tagValue": ""
      }
    ],
    "type": {
      "nullable": null,
      "types": [
        "Core"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 344,
    "kind": "member",
    "name": "options",
    "memberof": "src/login.js~Login",
    "static": false,
    "longname": "src/login.js~Login#options",
    "access": "public",
    "description": "Login options",
    "lineNumber": 75,
    "unknown": [
      {
        "tagName": "@readonly",
        "tagValue": ""
      }
    ],
    "type": {
      "nullable": null,
      "types": [
        "Object"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 345,
    "kind": "method",
    "name": "init",
    "memberof": "src/login.js~Login",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/login.js~Login#init",
    "access": "public",
    "description": "Initializes the UI",
    "lineNumber": 126,
    "params": [
      {
        "name": "startHidden",
        "types": [
          "*"
        ]
      }
    ],
    "return": null
  },
  {
    "__docId__": 347,
    "kind": "method",
    "name": "destroy",
    "memberof": "src/login.js~Login",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/login.js~Login#destroy",
    "access": "public",
    "description": "Destroys the UI",
    "lineNumber": 139,
    "params": [],
    "return": null
  },
  {
    "__docId__": 349,
    "kind": "method",
    "name": "render",
    "memberof": "src/login.js~Login",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/login.js~Login#render",
    "access": "public",
    "description": "Renders the UI",
    "lineNumber": 153,
    "params": [
      {
        "name": "startHidden",
        "types": [
          "*"
        ]
      }
    ],
    "return": null
  },
  {
    "__docId__": 350,
    "kind": "file",
    "name": "src/middleware.js",
    "content": "/**\n * OS.js - JavaScript Cloud/Web Desktop Platform\n *\n * Copyright (c) 2011-Present, Anders Evenrud <andersevenrud@gmail.com>\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *\n * 1. Redistributions of source code must retain the above copyright notice, this\n *    list of conditions and the following disclaimer\n * 2. Redistributions in binary form must reproduce the above copyright notice,\n *    this list of conditions and the following disclaimer in the documentation\n *    and/or other materials provided with the distribution\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\n * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR\n * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n *\n * @author  Anders Evenrud <andersevenrud@gmail.com>\n * @license Simplified BSD License\n */\n\n/**\n * Middleware Data\n *\n * @typedef {Object} MiddlewareData\n * @property {String} [group] Middleware group\n */\n\n/**\n * Middleware Manager\n */\nexport default class Middleware {\n\t/**\n\t * Create new middleware\n\t */\n\tconstructor() {\n\t\t/**\n\t\t * @type {MiddlewareData}\n\t\t */\n\t\tthis.middleware = {};\n\t}\n\n\t/**\n\t * Destroy middleware\n\t */\n\tdestroy() {\n\t\tthis.clear();\n\t}\n\n\t/**\n\t * Clear middleware\n\t */\n\tclear() {\n\t\tthis.middleware = {};\n\t}\n\n\t/**\n\t * Add middleware function to a group\n\t * @param {String} group Middleware group\n\t * @param {Function} callback Middleware function to add\n\t */\n\tadd(group, callback) {\n\t\tif (!this.middleware[group]) {\n\t\t\tthis.middleware[group] = [];\n\t\t}\n\n\t\tthis.middleware[group].push(callback);\n\t}\n\n\t/**\n\t * Remove middleware function from a group\n\t * @param {String} group Middleware group\n\t * @param {Function} callback Middleware function to remove\n\t */\n\tremove(group, callback) {\n\t\tif (this.middleware[group]) {\n\t\t\tthis.middleware[group] = this.middleware[group].filter(\n\t\t\t\t(cb) => cb !== callback\n\t\t\t);\n\t\t}\n\t}\n\n\t/**\n\t * Gets middleware functions for a group\n\t * @param {String} group Middleware group\n\t * @returns {Function[]}\n\t */\n\tget(group) {\n\t\treturn this.middleware[group] || [];\n\t}\n}\n",
    "static": true,
    "longname": "/home/runner/work/meeseOS/meeseOS/frontend/client/src/middleware.js",
    "access": "public",
    "description": null,
    "lineNumber": 1
  },
  {
    "__docId__": 351,
    "kind": "typedef",
    "name": "MiddlewareData",
    "memberof": "src/middleware.js",
    "static": true,
    "longname": "src/middleware.js~MiddlewareData",
    "access": "public",
    "description": "Middleware Data",
    "properties": [
      {
        "nullable": null,
        "types": [
          "String"
        ],
        "spread": false,
        "optional": true,
        "name": "group",
        "description": "Middleware group"
      }
    ],
    "type": {
      "types": [
        "Object"
      ],
      "optional": false,
      "name": "MiddlewareData"
    }
  },
  {
    "__docId__": 352,
    "kind": "class",
    "name": "Middleware",
    "memberof": "src/middleware.js",
    "static": true,
    "longname": "src/middleware.js~Middleware",
    "access": "public",
    "export": true,
    "importPath": "@meeseOS/client/src/middleware.js",
    "importStyle": "Middleware",
    "description": "Middleware Manager",
    "lineNumber": 41,
    "interface": false
  },
  {
    "__docId__": 353,
    "kind": "constructor",
    "name": "constructor",
    "memberof": "src/middleware.js~Middleware",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/middleware.js~Middleware#constructor",
    "access": "public",
    "description": "Create new middleware",
    "lineNumber": 45
  },
  {
    "__docId__": 354,
    "kind": "member",
    "name": "middleware",
    "memberof": "src/middleware.js~Middleware",
    "static": false,
    "longname": "src/middleware.js~Middleware#middleware",
    "access": "public",
    "description": "",
    "lineNumber": 49,
    "type": {
      "nullable": null,
      "types": [
        "MiddlewareData"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 355,
    "kind": "method",
    "name": "destroy",
    "memberof": "src/middleware.js~Middleware",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/middleware.js~Middleware#destroy",
    "access": "public",
    "description": "Destroy middleware",
    "lineNumber": 55,
    "params": [],
    "return": null
  },
  {
    "__docId__": 356,
    "kind": "method",
    "name": "clear",
    "memberof": "src/middleware.js~Middleware",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/middleware.js~Middleware#clear",
    "access": "public",
    "description": "Clear middleware",
    "lineNumber": 62,
    "params": [],
    "return": null
  },
  {
    "__docId__": 358,
    "kind": "method",
    "name": "add",
    "memberof": "src/middleware.js~Middleware",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/middleware.js~Middleware#add",
    "access": "public",
    "description": "Add middleware function to a group",
    "lineNumber": 71,
    "params": [
      {
        "nullable": null,
        "types": [
          "String"
        ],
        "spread": false,
        "optional": false,
        "name": "group",
        "description": "Middleware group"
      },
      {
        "nullable": null,
        "types": [
          "Function"
        ],
        "spread": false,
        "optional": false,
        "name": "callback",
        "description": "Middleware function to add"
      }
    ],
    "return": null
  },
  {
    "__docId__": 359,
    "kind": "method",
    "name": "remove",
    "memberof": "src/middleware.js~Middleware",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/middleware.js~Middleware#remove",
    "access": "public",
    "description": "Remove middleware function from a group",
    "lineNumber": 84,
    "params": [
      {
        "nullable": null,
        "types": [
          "String"
        ],
        "spread": false,
        "optional": false,
        "name": "group",
        "description": "Middleware group"
      },
      {
        "nullable": null,
        "types": [
          "Function"
        ],
        "spread": false,
        "optional": false,
        "name": "callback",
        "description": "Middleware function to remove"
      }
    ],
    "return": null
  },
  {
    "__docId__": 360,
    "kind": "method",
    "name": "get",
    "memberof": "src/middleware.js~Middleware",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/middleware.js~Middleware#get",
    "access": "public",
    "description": "Gets middleware functions for a group",
    "lineNumber": 97,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{Function[]}"
      }
    ],
    "params": [
      {
        "nullable": null,
        "types": [
          "String"
        ],
        "spread": false,
        "optional": false,
        "name": "group",
        "description": "Middleware group"
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "Function[]"
      ],
      "spread": false,
      "description": ""
    }
  },
  {
    "__docId__": 361,
    "kind": "file",
    "name": "src/monkey-animation.js",
    "content": "/* eslint-disable */\n\nimport { DomAnimator } from \"./utils/dom-animator.js\";\nconst domAnimator = new DomAnimator();\n\n// Awesome monkeys from http://www.geocities.ws/SoHo/7373/zoo.html\n\nconst frame1 = [\n\t'       .-\"-.       ',\n\t\"     _/.-.-.\\\\_     \",\n\t\"    ( ( o o ) )    \",\n\t'     |/  \"  \\\\|     ',\n\t\"      \\\\'/^\\\\'/      \",\n\t\"      /`\\\\ /`\\\\      \",\n\t\"     /  /|\\\\  \\\\     \",\n\t\"    ( (/ T \\\\) )    \",\n\t\"     \\\\__/^\\\\__/     \",\n];\n\nconst frame2 = [\n\t'       .-\"-.       ',\n\t\"     _/_-.-_\\\\_     \",\n\t\"    / __> <__ \\\\    \",\n\t'   / //  \"  \\\\\\\\ \\\\   ',\n\t\"  / / \\\\'---'/ \\\\ \\\\  \",\n\t'  \\\\ \\\\_/`\"\"\"`\\\\_/ /  ',\n\t\"   \\\\           /   \",\n\t\"    \\\\         /    \",\n\t\"     |   .   |     \",\n];\n\nconst frame3 = [\n\t'       .-\"-.       ',\n\t\"     _/_-.-_\\\\_     \",\n\t\"    /|( o o )|\\\\    \",\n\t'   | //  \"  \\\\\\\\ |   ',\n\t\"  / / \\\\'---'/ \\\\ \\\\  \",\n\t'  \\\\ \\\\_/`\"\"\"`\\\\_/ /  ',\n\t\"   \\\\           /   \",\n\t\"    \\\\         /    \",\n\t\"     |   .   |     \",\n];\n\ndomAnimator.addFrame(frame1);\ndomAnimator.addFrame(frame2);\ndomAnimator.addFrame(frame3);\ndomAnimator.animate(1000);\n",
    "static": true,
    "longname": "/home/runner/work/meeseOS/meeseOS/frontend/client/src/monkey-animation.js",
    "access": "public",
    "description": null,
    "lineNumber": 1
  },
  {
    "__docId__": 362,
    "kind": "variable",
    "name": "domAnimator",
    "memberof": "src/monkey-animation.js",
    "static": true,
    "longname": "src/monkey-animation.js~domAnimator",
    "access": "public",
    "export": false,
    "importPath": "@meeseOS/client/src/monkey-animation.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 4,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    },
    "ignore": true
  },
  {
    "__docId__": 363,
    "kind": "variable",
    "name": "frame1",
    "memberof": "src/monkey-animation.js",
    "static": true,
    "longname": "src/monkey-animation.js~frame1",
    "access": "public",
    "export": false,
    "importPath": "@meeseOS/client/src/monkey-animation.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 8,
    "undocument": true,
    "type": {
      "types": [
        "string[]"
      ]
    },
    "ignore": true
  },
  {
    "__docId__": 364,
    "kind": "variable",
    "name": "frame2",
    "memberof": "src/monkey-animation.js",
    "static": true,
    "longname": "src/monkey-animation.js~frame2",
    "access": "public",
    "export": false,
    "importPath": "@meeseOS/client/src/monkey-animation.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 20,
    "undocument": true,
    "type": {
      "types": [
        "string[]"
      ]
    },
    "ignore": true
  },
  {
    "__docId__": 365,
    "kind": "variable",
    "name": "frame3",
    "memberof": "src/monkey-animation.js",
    "static": true,
    "longname": "src/monkey-animation.js~frame3",
    "access": "public",
    "export": false,
    "importPath": "@meeseOS/client/src/monkey-animation.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 32,
    "undocument": true,
    "type": {
      "types": [
        "string[]"
      ]
    },
    "ignore": true
  },
  {
    "__docId__": 366,
    "kind": "file",
    "name": "src/notification.js",
    "content": "/**\n * OS.js - JavaScript Cloud/Web Desktop Platform\n *\n * Copyright (c) 2011-Present, Anders Evenrud <andersevenrud@gmail.com>\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *\n * 1. Redistributions of source code must retain the above copyright notice, this\n *    list of conditions and the following disclaimer\n * 2. Redistributions in binary form must reproduce the above copyright notice,\n *    this list of conditions and the following disclaimer in the documentation\n *    and/or other materials provided with the distribution\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\n * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR\n * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n *\n * @author  Anders Evenrud <andersevenrud@gmail.com>\n * @license Simplified BSD License\n */\n\nimport { app, h } from \"hyperapp\";\nimport { createNativeNotification } from \"./utils/dom\";\nimport logger from \"./logger\";\n\n/**\n * Notification Options\n *\n * @typedef {Object} NotificationOptions\n * @property {String} title Title\n * @property {String} message Message\n * @property {String} [sound=message] Sound to play\n * @property {String} [icon] Icon source\n * @property {Number} [timeout=5000] Timeout value (0=infinite)\n * @property {String} [className] Adds a DOM class name to notification\n */\n\n/**\n * Notification Implementation\n */\nexport default class Notification {\n\t/**\n\t * Create notification\n\t *\n\t * @param {Core} core MeeseOS Core instance reference\n\t * @param {Element} root Root DOM element\n\t * @param {NotificationOptions} options Options\n\t */\n\tconstructor(core, root, options = {}) {\n\t\tconst defaultLabel = \"Notification\";\n\n\t\t/**\n\t\t * Core instance reference\n\t\t * @type {Core}\n\t\t * @readonly\n\t\t */\n\t\tthis.core = core;\n\n\t\t/**\n\t\t * Root node reference\n\t\t * @type {Element}\n\t\t * @readonly\n\t\t */\n\t\tthis.$root = root;\n\n\t\t/**\n\t\t * Notification DOM node\n\t\t * @type {Element}\n\t\t * @readonly\n\t\t */\n\t\tthis.$element = document.createElement(\"div\");\n\n\t\t/**\n\t\t * The notification destruction state\n\t\t * @type {Boolean}\n\t\t * @readonly\n\t\t */\n\t\tthis.destroyed = false;\n\n\t\t/**\n\t\t * Options\n\t\t * @type {NotificationOptions}\n\t\t * @readonly\n\t\t */\n\t\tthis.options = {\n\t\t\ticon: null,\n\t\t\ttitle: defaultLabel,\n\t\t\tmessage: defaultLabel,\n\t\t\ttimeout: 5000,\n\t\t\tnative: core.config(\"notifications.native\", false),\n\t\t\tsound: \"message\",\n\t\t\tclassName: \"\",\n\t\t\t...options,\n\t\t};\n\n\t\tthis.core.emit(\"meeseOS/notification:create\", this);\n\t}\n\n\t/**\n\t * Destroy notification\n\t */\n\tdestroy() {\n\t\tif (this.destroyed) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis.destroyed = true;\n\t\tthis.core.emit(\"meeseOS/notification:destroy\", this);\n\n\t\tthis.$element.remove();\n\t\tthis.$element = null;\n\t\tthis.$root = null;\n\t}\n\n\t/**\n\t * Render notification\n\t * @returns {Promise<Boolean>}\n\t */\n\trender() {\n\t\tconst onclick = () => this.destroy();\n\n\t\tconst renderCustom = () => {\n\t\t\tconst view = (state) =>\n\t\t\t\th(\n\t\t\t\t\t\"div\",\n\t\t\t\t\t{\n\t\t\t\t\t\tclass: \"meeseOS-notification-wrapper\",\n\t\t\t\t\t\t\"data-has-icon\": Boolean(state.icon),\n\t\t\t\t\t\tstyle: {\n\t\t\t\t\t\t\tbackgroundImage: state.icon ? `url(${state.icon})` : undefined,\n\t\t\t\t\t\t},\n\t\t\t\t\t},\n\t\t\t\t\t[\n\t\t\t\t\t\th(\"div\", { class: \"meeseOS-notification-title\" }, state.title),\n\t\t\t\t\t\th(\"div\", { class: \"meeseOS-notification-message\" }, state.message),\n\t\t\t\t\t]\n\t\t\t\t);\n\n\t\t\tthis.$element.classList.add(\"meeseOS-notification\");\n\t\t\tif (this.options.className) {\n\t\t\t\tthis.$element.classList.add(this.options.className);\n\t\t\t}\n\n\t\t\tif (this.options.timeout) {\n\t\t\t\tsetTimeout(() => this.destroy(), this.options.timeout);\n\t\t\t}\n\n\t\t\tthis.$element.addEventListener(\"click\", onclick);\n\n\t\t\tthis.$root.appendChild(this.$element);\n\n\t\t\tapp(this.options, {}, view, this.$element);\n\n\t\t\treturn Promise.resolve(true);\n\t\t};\n\n\t\tif (this.options.native) {\n\t\t\treturn createNativeNotification(this.options, onclick).catch((err) => {\n\t\t\t\tlogger.warn(\"Error on native notification\", err);\n\t\t\t\treturn renderCustom();\n\t\t\t});\n\t\t}\n\n\t\tif (this.options.sound) {\n\t\t\tthis.core.make(\"meeseOS/sounds\").play(this.options.sound);\n\t\t}\n\n\t\treturn renderCustom();\n\t}\n}\n",
    "static": true,
    "longname": "/home/runner/work/meeseOS/meeseOS/frontend/client/src/notification.js",
    "access": "public",
    "description": null,
    "lineNumber": 1
  },
  {
    "__docId__": 367,
    "kind": "typedef",
    "name": "NotificationOptions",
    "memberof": "src/notification.js",
    "static": true,
    "longname": "src/notification.js~NotificationOptions",
    "access": "public",
    "description": "Notification Options",
    "properties": [
      {
        "nullable": null,
        "types": [
          "String"
        ],
        "spread": false,
        "optional": false,
        "name": "title",
        "description": "Title"
      },
      {
        "nullable": null,
        "types": [
          "String"
        ],
        "spread": false,
        "optional": false,
        "name": "message",
        "description": "Message"
      },
      {
        "nullable": null,
        "types": [
          "String"
        ],
        "spread": false,
        "optional": true,
        "defaultValue": "message",
        "defaultRaw": "message",
        "name": "sound",
        "description": "Sound to play"
      },
      {
        "nullable": null,
        "types": [
          "String"
        ],
        "spread": false,
        "optional": true,
        "name": "icon",
        "description": "Icon source"
      },
      {
        "nullable": null,
        "types": [
          "Number"
        ],
        "spread": false,
        "optional": true,
        "defaultValue": "5000",
        "defaultRaw": 5000,
        "name": "timeout",
        "description": "Timeout value (0=infinite)"
      },
      {
        "nullable": null,
        "types": [
          "String"
        ],
        "spread": false,
        "optional": true,
        "name": "className",
        "description": "Adds a DOM class name to notification"
      }
    ],
    "type": {
      "types": [
        "Object"
      ],
      "optional": false,
      "name": "NotificationOptions"
    }
  },
  {
    "__docId__": 368,
    "kind": "class",
    "name": "Notification",
    "memberof": "src/notification.js",
    "static": true,
    "longname": "src/notification.js~Notification",
    "access": "public",
    "export": true,
    "importPath": "@meeseOS/client/src/notification.js",
    "importStyle": "Notification",
    "description": "Notification Implementation",
    "lineNumber": 50,
    "interface": false
  },
  {
    "__docId__": 369,
    "kind": "constructor",
    "name": "constructor",
    "memberof": "src/notification.js~Notification",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/notification.js~Notification#constructor",
    "access": "public",
    "description": "Create notification",
    "lineNumber": 58,
    "params": [
      {
        "nullable": null,
        "types": [
          "Core"
        ],
        "spread": false,
        "optional": false,
        "name": "core",
        "description": "MeeseOS Core instance reference"
      },
      {
        "nullable": null,
        "types": [
          "Element"
        ],
        "spread": false,
        "optional": false,
        "name": "root",
        "description": "Root DOM element"
      },
      {
        "nullable": null,
        "types": [
          "NotificationOptions"
        ],
        "spread": false,
        "optional": false,
        "name": "options",
        "description": "Options"
      }
    ]
  },
  {
    "__docId__": 370,
    "kind": "member",
    "name": "core",
    "memberof": "src/notification.js~Notification",
    "static": false,
    "longname": "src/notification.js~Notification#core",
    "access": "public",
    "description": "Core instance reference",
    "lineNumber": 66,
    "unknown": [
      {
        "tagName": "@readonly",
        "tagValue": ""
      }
    ],
    "type": {
      "nullable": null,
      "types": [
        "Core"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 371,
    "kind": "member",
    "name": "$root",
    "memberof": "src/notification.js~Notification",
    "static": false,
    "longname": "src/notification.js~Notification#$root",
    "access": "public",
    "description": "Root node reference",
    "lineNumber": 73,
    "unknown": [
      {
        "tagName": "@readonly",
        "tagValue": ""
      }
    ],
    "type": {
      "nullable": null,
      "types": [
        "Element"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 372,
    "kind": "member",
    "name": "$element",
    "memberof": "src/notification.js~Notification",
    "static": false,
    "longname": "src/notification.js~Notification#$element",
    "access": "public",
    "description": "Notification DOM node",
    "lineNumber": 80,
    "unknown": [
      {
        "tagName": "@readonly",
        "tagValue": ""
      }
    ],
    "type": {
      "nullable": null,
      "types": [
        "Element"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 373,
    "kind": "member",
    "name": "destroyed",
    "memberof": "src/notification.js~Notification",
    "static": false,
    "longname": "src/notification.js~Notification#destroyed",
    "access": "public",
    "description": "The notification destruction state",
    "lineNumber": 87,
    "unknown": [
      {
        "tagName": "@readonly",
        "tagValue": ""
      }
    ],
    "type": {
      "nullable": null,
      "types": [
        "Boolean"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 374,
    "kind": "member",
    "name": "options",
    "memberof": "src/notification.js~Notification",
    "static": false,
    "longname": "src/notification.js~Notification#options",
    "access": "public",
    "description": "Options",
    "lineNumber": 94,
    "unknown": [
      {
        "tagName": "@readonly",
        "tagValue": ""
      }
    ],
    "type": {
      "nullable": null,
      "types": [
        "NotificationOptions"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 375,
    "kind": "method",
    "name": "destroy",
    "memberof": "src/notification.js~Notification",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/notification.js~Notification#destroy",
    "access": "public",
    "description": "Destroy notification",
    "lineNumber": 111,
    "params": [],
    "return": null
  },
  {
    "__docId__": 379,
    "kind": "method",
    "name": "render",
    "memberof": "src/notification.js~Notification",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/notification.js~Notification#render",
    "access": "public",
    "description": "Render notification",
    "lineNumber": 128,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{Promise<Boolean>}"
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "Promise<Boolean>"
      ],
      "spread": false,
      "description": ""
    },
    "params": []
  },
  {
    "__docId__": 380,
    "kind": "file",
    "name": "src/notifications.js",
    "content": "/**\n * OS.js - JavaScript Cloud/Web Desktop Platform\n *\n * Copyright (c) 2011-Present, Anders Evenrud <andersevenrud@gmail.com>\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *\n * 1. Redistributions of source code must retain the above copyright notice, this\n *    list of conditions and the following disclaimer\n * 2. Redistributions in binary form must reproduce the above copyright notice,\n *    this list of conditions and the following disclaimer in the documentation\n *    and/or other materials provided with the distribution\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\n * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR\n * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n *\n * @author  Anders Evenrud <andersevenrud@gmail.com>\n * @license Simplified BSD License\n */\n\nimport Notification from \"./notification\";\nimport { createCssText } from \"./utils/dom\";\n\n/**\n * Notification Factory\n */\nexport default class Notifications {\n\t/**\n\t * @param {Core} core MeeseOS Core instance reference\n\t */\n\tconstructor(core) {\n\t\t/**\n\t\t * Core instance reference\n\t\t * @type {Core}\n\t\t * @readonly\n\t\t */\n\t\tthis.core = core;\n\n\t\t/**\n\t\t * @type {Element}\n\t\t */\n\t\tthis.$element = null;\n\t}\n\n\t/**\n\t * Destroy notification handler\n\t */\n\tdestroy() {\n\t\tthis.$element.remove();\n\t\tthis.$element = null;\n\t}\n\n\t/**\n\t * Initialize notification handler\n\t */\n\tinit() {\n\t\tthis.$element = document.createElement(\"div\");\n\t\tthis.$element.classList.add(\"meeseOS-notifications\");\n\t\tthis.core.$root.appendChild(this.$element);\n\n\t\tthis.core.on(\"meeseOS/desktop:applySettings\", () => {\n\t\t\tthis.setElementStyles();\n\t\t});\n\n\t\tthis.setElementStyles();\n\t}\n\n\t/**\n\t * Create a new notification\n\t * @param {NotificationOptions} options See notification class for options\n\t * @returns {Notification}\n\t */\n\tcreate(options) {\n\t\tif (!options) {\n\t\t\tthrow new Error(\"Notification options not given\");\n\t\t}\n\n\t\tconst notification = new Notification(this.core, this.$element, options);\n\t\tnotification.render();\n\t\treturn notification;\n\t}\n\n\t/**\n\t * Sets the element styles\n\t */\n\tsetElementStyles() {\n\t\tconst styles = createCssText(this.createElementStyles());\n\t\tthis.$element.style.cssText = styles;\n\t}\n\n\t/**\n\t * Creates a new CSS style object\n\t * @returns {{property: string}}\n\t */\n\tcreateElementStyles() {\n\t\tconst defaultPosition = this.core.config(\n\t\t\t\"desktop.settings.notifications.position\",\n\t\t\t\"top-right\"\n\t\t);\n\n\t\tconst position = this.core\n\t\t\t.make(\"meeseOS/settings\")\n\t\t\t.get(\"meeseOS/desktop\", \"notifications.position\", defaultPosition);\n\n\t\tif (position.split(\"-\").length !== 2) {\n\t\t\treturn {};\n\t\t}\n\n\t\treturn [\"left\", \"right\", \"top\", \"bottom\"].reduce(\n\t\t\t(carry, key) => ({\n\t\t\t\t[key]: position.indexOf(key) === -1 ? \"auto\" : \"0\",\n\t\t\t\t...carry,\n\t\t\t}),\n\t\t\t{}\n\t\t);\n\t}\n}\n",
    "static": true,
    "longname": "/home/runner/work/meeseOS/meeseOS/frontend/client/src/notifications.js",
    "access": "public",
    "description": null,
    "lineNumber": 1
  },
  {
    "__docId__": 381,
    "kind": "class",
    "name": "Notifications",
    "memberof": "src/notifications.js",
    "static": true,
    "longname": "src/notifications.js~Notifications",
    "access": "public",
    "export": true,
    "importPath": "@meeseOS/client/src/notifications.js",
    "importStyle": "Notifications",
    "description": "Notification Factory",
    "lineNumber": 37,
    "interface": false
  },
  {
    "__docId__": 382,
    "kind": "constructor",
    "name": "constructor",
    "memberof": "src/notifications.js~Notifications",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/notifications.js~Notifications#constructor",
    "access": "public",
    "description": "",
    "lineNumber": 41,
    "params": [
      {
        "nullable": null,
        "types": [
          "Core"
        ],
        "spread": false,
        "optional": false,
        "name": "core",
        "description": "MeeseOS Core instance reference"
      }
    ]
  },
  {
    "__docId__": 383,
    "kind": "member",
    "name": "core",
    "memberof": "src/notifications.js~Notifications",
    "static": false,
    "longname": "src/notifications.js~Notifications#core",
    "access": "public",
    "description": "Core instance reference",
    "lineNumber": 47,
    "unknown": [
      {
        "tagName": "@readonly",
        "tagValue": ""
      }
    ],
    "type": {
      "nullable": null,
      "types": [
        "Core"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 384,
    "kind": "member",
    "name": "$element",
    "memberof": "src/notifications.js~Notifications",
    "static": false,
    "longname": "src/notifications.js~Notifications#$element",
    "access": "public",
    "description": "",
    "lineNumber": 52,
    "type": {
      "nullable": null,
      "types": [
        "Element"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 385,
    "kind": "method",
    "name": "destroy",
    "memberof": "src/notifications.js~Notifications",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/notifications.js~Notifications#destroy",
    "access": "public",
    "description": "Destroy notification handler",
    "lineNumber": 58,
    "params": [],
    "return": null
  },
  {
    "__docId__": 387,
    "kind": "method",
    "name": "init",
    "memberof": "src/notifications.js~Notifications",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/notifications.js~Notifications#init",
    "access": "public",
    "description": "Initialize notification handler",
    "lineNumber": 66,
    "params": [],
    "return": null
  },
  {
    "__docId__": 389,
    "kind": "method",
    "name": "create",
    "memberof": "src/notifications.js~Notifications",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/notifications.js~Notifications#create",
    "access": "public",
    "description": "Create a new notification",
    "lineNumber": 83,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{Notification}"
      }
    ],
    "params": [
      {
        "nullable": null,
        "types": [
          "NotificationOptions"
        ],
        "spread": false,
        "optional": false,
        "name": "options",
        "description": "See notification class for options"
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "Notification"
      ],
      "spread": false,
      "description": ""
    }
  },
  {
    "__docId__": 390,
    "kind": "method",
    "name": "setElementStyles",
    "memberof": "src/notifications.js~Notifications",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/notifications.js~Notifications#setElementStyles",
    "access": "public",
    "description": "Sets the element styles",
    "lineNumber": 96,
    "params": [],
    "return": null
  },
  {
    "__docId__": 391,
    "kind": "method",
    "name": "createElementStyles",
    "memberof": "src/notifications.js~Notifications",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/notifications.js~Notifications#createElementStyles",
    "access": "public",
    "description": "Creates a new CSS style object",
    "lineNumber": 105,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{{property: string}}"
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "{property: string}"
      ],
      "spread": false,
      "description": ""
    },
    "params": []
  },
  {
    "__docId__": 392,
    "kind": "file",
    "name": "src/packages.js",
    "content": "/**\n * OS.js - JavaScript Cloud/Web Desktop Platform\n *\n * Copyright (c) 2011-Present, Anders Evenrud <andersevenrud@gmail.com>\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *\n * 1. Redistributions of source code must retain the above copyright notice, this\n *    list of conditions and the following disclaimer\n * 2. Redistributions in binary form must reproduce the above copyright notice,\n *    this list of conditions and the following disclaimer in the documentation\n *    and/or other materials provided with the distribution\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\n * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR\n * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n *\n * @author  Anders Evenrud <andersevenrud@gmail.com>\n * @license Simplified BSD License\n */\n\nimport {\n\tcreateManifestFromArray,\n\tcreatePackageAvailabilityCheck,\n\tfilterMetadataFilesByType,\n\tmetadataFilesToFilenames,\n} from \"./utils/packages\";\nimport Application from \"./application\";\nimport Preloader from \"./utils/preloader\";\nimport logger from \"./logger\";\n\n/**\n * A registered package reference\n *\n * @typedef {Object} PackageReference\n * @property {PackageMetadata} metadata Package metadata\n * @property {Function} callback Callback to instanciate\n */\n\n/**\n * A package metadata\n *\n * @typedef {Object} PackageMetadata\n * @property {String} name The package name\n * @property {String} [category] Package category\n * @property {String} [icon] Package icon\n * @property {Boolean} [singleton] If only one instance allowed\n * @property {Boolean} [autostart] Autostart on boot\n * @property {Boolean} [hidden] Hide from launch menus etc.\n * @property {String} [server] Server script filename\n * @property {String[]} [groups] Only available for users in this group\n * @property {Object[]|string[]} [files] Files to preload\n * @property {String} title String title of package\n * @property {String} description String description of package\n */\n\n/**\n * Package Launch Options\n *\n * @typedef {Object} PackageLaunchOptions\n * @property {Boolean} [forcePreload=false] Force preload reloading\n */\n\n/**\n * Package Manager\n *\n * Handles indexing, loading and launching of MeeseOS packages\n */\nexport default class Packages {\n\t/**\n\t * Create package manager.\n\t * @param {Core} core MeeseOS Core instance reference\n\t */\n\tconstructor(core) {\n\t\t/**\n\t\t * Core instance reference.\n\t\t * @type {Core}\n\t\t * @readonly\n\t\t */\n\t\tthis.core = core;\n\n\t\t/**\n\t\t * A list of registered packages.\n\t\t * @type {PackageReference[]}\n\t\t */\n\t\tthis.packages = [];\n\n\t\t/**\n\t\t * The list of loaded package metadata.\n\t\t * @type {PackageMetadata[]}\n\t\t */\n\t\tthis.metadata = [];\n\n\t\t/**\n\t\t * A list of running application names.\n\t\t * Mainly used for singleton awareness.\n\t\t *\n\t\t * @private\n\t\t * @type {String[]}\n\t\t */\n\t\tthis._running = [];\n\n\t\t/**\n\t\t * Preloader.\n\t\t * @type {Preloader}\n\t\t * @readonly\n\t\t */\n\t\tthis.preloader = new Preloader(core.$resourceRoot);\n\n\t\t/**\n\t\t * If inited\n\t\t * @type {Boolean}\n\t\t */\n\t\tthis.inited = false;\n\t}\n\n\t/**\n\t * Destroy package manager.\n\t */\n\tdestroy() {\n\t\tthis.packages = [];\n\t\tthis.metadata = [];\n\n\t\tthis.preloader.destroy();\n\t}\n\n\t/**\n\t * Initializes package manager.\n\t * @returns {Promise<Boolean>}\n\t */\n\tinit() {\n\t\tlogger.debug(\"Packages::init()\");\n\n\t\tif (!this.inited) {\n\t\t\tthis.core.on(\"meeseOS/core:started\", () => this._autostart());\n\t\t}\n\n\t\tthis.metadata = this.core\n\t\t\t.config(\"packages.metadata\", [])\n\t\t\t.map((iter) => ({ type: \"application\", ...iter }));\n\n\t\tthis.inited = true;\n\n\t\tconst manifest = this.core.config(\"packages.manifest\");\n\n\t\treturn manifest\n\t\t\t? this.core\n\t\t\t\t.request(manifest, {}, \"json\", true)\n\t\t\t\t.then((metadata) => this.addPackages(metadata))\n\t\t\t\t.then((metadata) => this._preloadBackgroundFiles(metadata))\n\t\t\t\t.then(() => true)\n\t\t\t\t.catch((error) => logger.error(error))\n\t\t\t: Promise.resolve(true);\n\t}\n\n\t/**\n\t * Launches a (application) package.\n\t *\n\t * @param {String} name Package name\n\t * @param {{foo: *}} [args={}] Launch arguments\n\t * @param {PackageLaunchOptions} [options={}] Launch options\n\t * @see PackageServiceProvider\n\t * @throws {Error}\n\t * @returns {Promise<Application>}\n\t */\n\tlaunch(name, args = {}, options = {}) {\n\t\tlogger.debug(\"Packages::launch()\", name, args, options);\n\n\t\tconst metadata = this.metadata.find((pkg) => pkg.name === name);\n\t\tif (!metadata) {\n\t\t\tthrow new Error(`Package Metadata '${name}' not found`);\n\t\t}\n\n\t\tif ([\"theme\", \"icons\", \"sounds\"].indexOf(metadata.type) !== -1) {\n\t\t\treturn this._launchTheme(name, metadata);\n\t\t}\n\n\t\treturn this._launchApplication(name, metadata, args, options);\n\t}\n\n\t/**\n\t * Launches an application package.\n\t *\n\t * @private\n\t * @param {String} name Application package name\n\t * @param {Metadata} metadata Application metadata\n\t * @param {{foo: *}} args Launch arguments\n\t * @param {PackageLaunchOptions} options Launch options\n\t * @returns {Promise<Application>}\n\t */\n\t_launchApplication(name, metadata, args, options) {\n\t\tlet signaled = false;\n\n\t\tif (metadata.singleton) {\n\t\t\tconst foundApp = Application.getApplications().find(\n\t\t\t\t(app) => app.metadata.name === metadata.name\n\t\t\t);\n\n\t\t\tif (foundApp) {\n\t\t\t\tfoundApp.emit(\"attention\", args, options);\n\t\t\t\tsignaled = true;\n\n\t\t\t\treturn Promise.resolve(foundApp);\n\t\t\t}\n\n\t\t\tconst found = this._running.filter((n) => n === name);\n\n\t\t\tif (found.length > 0) {\n\t\t\t\treturn new Promise((resolve, reject) => {\n\t\t\t\t\tthis.core.once(`meeseOS/application:${name}:launched`, (a) => {\n\t\t\t\t\t\tif (signaled) {\n\t\t\t\t\t\t\tresolve(a);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\ta.emit(\"attention\", args, options);\n\t\t\t\t\t\t\tresolve(a);\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\n\t\tthis.core.emit(\"meeseOS/application:launch\", name, args, options);\n\n\t\tthis._running.push(name);\n\n\t\treturn this._launch(name, metadata, args, options);\n\t}\n\n\t/**\n\t * Launches a (theme) package.\n\t *\n\t * @private\n\t * @param {String} name Package name\n\t * @param {Metadata} metadata Application metadata\n\t * @throws {Error}\n\t * @returns {Promise<object>}\n\t */\n\t_launchTheme(name, metadata) {\n\t\tconst preloads = this._getPreloads(metadata, \"preload\", \"theme\");\n\n\t\treturn this.preloader.load(preloads).then((result) => {\n\t\t\treturn {\n\t\t\t\telements: {},\n\t\t\t\t...result,\n\t\t\t\t...(this.packages.find((pkg) => pkg.metadata.name === name) || {}),\n\t\t\t};\n\t\t});\n\t}\n\n\t/**\n\t * Returns preloads.\n\t *\n\t * @private\n\t * @param {Metadata} metadata Application metadata\n\t * @param {String} fileType Files type\n\t * @param {String} packageType Package type\n\t * @returns {String[]}\n\t */\n\t_getPreloads(metadata, fileType, packageType) {\n\t\treturn metadataFilesToFilenames(\n\t\t\tfilterMetadataFilesByType(metadata.files, fileType)\n\t\t).map((f) => this.core.url(f, {}, { type: packageType, ...metadata }));\n\t}\n\n\t/**\n\t * Wrapper for launching a (application) package.\n\t *\n\t * @private\n\t * @param {String} name Package name\n\t * @param {{foo: *}} args Launch arguments\n\t * @param {PackageLaunchOptions} options Launch options\n\t * @returns {Promise<Application>}\n\t */\n\t_launch(name, metadata, args, options) {\n\t\tconst canLaunch = createPackageAvailabilityCheck(this.core);\n\n\t\tconst dialog = (e) => {\n\t\t\tconst exception = `An exception occured in '${name}'`;\n\t\t\tif (this.core.has(\"meeseOS/dialog\")) {\n\t\t\t\tthis.core.make(\n\t\t\t\t\t\"meeseOS/dialog\",\n\t\t\t\t\t\"alert\",\n\t\t\t\t\t{\n\t\t\t\t\t\ttype: \"error\",\n\t\t\t\t\t\ttitle: exception,\n\t\t\t\t\t\tmessage: exception,\n\t\t\t\t\t\terror: e,\n\t\t\t\t\t},\n\t\t\t\t\t() => {\n\t\t\t\t\t\t/* noop */\n\t\t\t\t\t}\n\t\t\t\t);\n\t\t\t} else {\n\t\t\t\talert(`${exception}: ${e.stack || e}`);\n\t\t\t}\n\t\t};\n\n\t\tconst fail = (err) => {\n\t\t\tthis.core.emit(\"meeseOS/application:launched\", name, false);\n\t\t\tthis.core.emit(`meeseOS/application:${name}:launched`, false);\n\n\t\t\tdialog(err);\n\n\t\t\tthrow new Error(err);\n\t\t};\n\n\t\tconst preloads = this._getPreloads(metadata, \"preload\", \"apps\");\n\n\t\tconst create = (found) => {\n\t\t\tlet app;\n\n\t\t\ttry {\n\t\t\t\tconsole.group(\"Packages::_launch()\");\n\t\t\t\tapp = found.callback(this.core, args, options, found.metadata);\n\n\t\t\t\tif (app instanceof Application) {\n\t\t\t\t\tapp.on(\"destroy\", () => {\n\t\t\t\t\t\tconst foundIndex = this._running.findIndex((n) => n === name);\n\t\t\t\t\t\tif (foundIndex !== -1) {\n\t\t\t\t\t\t\tthis._running.splice(foundIndex, 1);\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\tlogger.warn(\n\t\t\t\t\t\t\"The application\",\n\t\t\t\t\t\tname,\n\t\t\t\t\t\t\"did not return an Application instance from registration\"\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t} catch (e) {\n\t\t\t\tdialog(e);\n\n\t\t\t\tlogger.warn(\"Exception when launching\", name, e);\n\t\t\t} finally {\n\t\t\t\tthis.core.emit(\"meeseOS/application:launched\", name, app);\n\t\t\t\tthis.core.emit(`meeseOS/application:${name}:launched`, app);\n\t\t\t\tconsole.groupEnd();\n\t\t\t}\n\n\t\t\treturn app;\n\t\t};\n\n\t\tif (!canLaunch(metadata)) {\n\t\t\tfail(`You are not permitted to run '${name}'`);\n\t\t}\n\n\t\treturn this.preloader\n\t\t\t.load(preloads, options.forcePreload === true)\n\t\t\t.then(({ errors }) => {\n\t\t\t\tif (errors.length) {\n\t\t\t\t\tfail(`Package Loading '${name}' failed: ${errors.join(\", \")}`);\n\t\t\t\t}\n\n\t\t\t\tconst found = this.packages.find((pkg) => pkg.metadata.name === name);\n\t\t\t\tif (!found) {\n\t\t\t\t\tfail(`Package Runtime '${name}' not found`);\n\t\t\t\t}\n\n\t\t\t\treturn create(found);\n\t\t\t});\n\t}\n\n\t/**\n\t * Autostarts tagged packages.\n\t * @private\n\t */\n\t_autostart() {\n\t\tconst meta = this.metadata.filter((pkg) => pkg.autostart === true);\n\n\t\tconst configured = this.core\n\t\t\t.config(\"application.autostart\", [])\n\t\t\t.map((value) => (typeof value === \"string\" ? { name: value } : value));\n\n\t\t[...meta, ...configured].forEach(({ name, args }) =>\n\t\t\tthis.launch(name, args || {})\n\t\t);\n\t}\n\n\t/**\n\t * Registers a package.\n\t *\n\t * @param {String} name Package name\n\t * @param {Function} callback Callback function to construct application instance\n\t * @throws {Error}\n\t */\n\tregister(name, callback) {\n\t\tlogger.debug(\"Packages::register()\", name);\n\n\t\tconst metadata = this.metadata.find((pkg) => pkg.name === name);\n\t\tif (!metadata) {\n\t\t\tthrow new Error(\n\t\t\t\t`Metadata not found for '${name}'. Is it in the manifest?`\n\t\t\t);\n\t\t}\n\n\t\tconst foundIndex = this.packages.findIndex(\n\t\t\t(pkg) => pkg.metadata.name === name\n\t\t);\n\t\tif (foundIndex !== -1) {\n\t\t\tthis.packages.splice(foundIndex, 1);\n\t\t}\n\n\t\tthis.packages.push({\n\t\t\tmetadata,\n\t\t\tcallback,\n\t\t});\n\t}\n\n\t/**\n\t * Adds a set of packages.\n\t * @param {PackageMetadata[]} list Package list\n\t * @returns {PackageMetadata[]} Current list of packages\n\t */\n\taddPackages(list) {\n\t\tif (list instanceof Array) {\n\t\t\tconst override = this.core.config(\"packages.overrideMetadata\", {});\n\t\t\tconst append = createManifestFromArray(list).map((meta) =>\n\t\t\t\toverride[meta.name] ? { ...meta, ...override[meta.name] } : meta\n\t\t\t);\n\n\t\t\tthis.metadata = [...this.metadata, ...append];\n\t\t}\n\n\t\treturn this.getPackages();\n\t}\n\n\t/**\n\t * Gets a list of packages (metadata).\n\t * @param {Function} [filter] A filter function\n\t * @returns {PackageMetadata[]}\n\t */\n\tgetPackages(filter) {\n\t\tfilter = filter || (() => true);\n\n\t\tconst metadata = this.metadata.map((m) => ({ ...m }));\n\t\tconst hidden = this.core.config(\"packages.hidden\", []);\n\t\tconst filterAvailable = createPackageAvailabilityCheck(this.core);\n\n\t\tconst filterConfigHidden = (iter) =>\n\t\t\thidden instanceof Array ? hidden.indexOf(iter.name) === -1 : true;\n\n\t\treturn metadata\n\t\t\t.filter(filterAvailable)\n\t\t\t.filter(filterConfigHidden)\n\t\t\t.filter(filter);\n\t}\n\n\t/**\n\t * Gets a list of packages compatible with the given mime type.\n\t * @param {String} mimeType MIME Type\n\t * @see PackageManager#getPackages\n\t * @returns {PackageMetadata[]}\n\t */\n\tgetCompatiblePackages(mimeType) {\n\t\treturn this.getPackages((meta) => {\n\t\t\tif (meta.mimes) {\n\t\t\t\treturn Boolean(\n\t\t\t\t\tmeta.mimes.find((mime) => {\n\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\tconst re = new RegExp(mime);\n\t\t\t\t\t\t\treturn re.test(mimeType);\n\t\t\t\t\t\t} catch (e) {\n\t\t\t\t\t\t\tlogger.warn(\"Compability check failed\", e);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\treturn mime === mimeType;\n\t\t\t\t\t})\n\t\t\t\t);\n\t\t\t}\n\n\t\t\treturn false;\n\t\t});\n\t}\n\n\t/**\n\t * Preloads background files of a set of packages.\n\t * @param {PackageMetadata[]} list Package list\n\t */\n\t_preloadBackgroundFiles(list) {\n\t\tconst backgroundFiles = list.reduce(\n\t\t\t(filenames, iter) => [\n\t\t\t\t...filenames,\n\t\t\t\t...this._getPreloads(iter, \"background\", \"apps\"),\n\t\t\t],\n\t\t\t[]\n\t\t);\n\n\t\treturn this.preloader.load(backgroundFiles).then(({ errors = [] }) => {\n\t\t\terrors.forEach((error) => logger.error(error));\n\t\t});\n\t}\n\n\t/**\n\t * Gets a list of running packages.\n\t * @returns {String[]}\n\t */\n\trunning() {\n\t\treturn this._running;\n\t}\n\n\t/**\n\t * Gets the package metadata for a given package name.\n\t * @param {String} name\n\t * @returns {PackageMetadata|null}\n\t */\n\tgetMetadataFromName(name) {\n\t\tconst found = this.metadata.find((pkg) => pkg.name === name);\n\t\treturn found ? { ...found } : null;\n\t}\n}\n",
    "static": true,
    "longname": "/home/runner/work/meeseOS/meeseOS/frontend/client/src/packages.js",
    "access": "public",
    "description": null,
    "lineNumber": 1
  },
  {
    "__docId__": 393,
    "kind": "typedef",
    "name": "PackageReference",
    "memberof": "src/packages.js",
    "static": true,
    "longname": "src/packages.js~PackageReference",
    "access": "public",
    "description": "A registered package reference",
    "properties": [
      {
        "nullable": null,
        "types": [
          "PackageMetadata"
        ],
        "spread": false,
        "optional": false,
        "name": "metadata",
        "description": "Package metadata"
      },
      {
        "nullable": null,
        "types": [
          "Function"
        ],
        "spread": false,
        "optional": false,
        "name": "callback",
        "description": "Callback to instanciate"
      }
    ],
    "type": {
      "types": [
        "Object"
      ],
      "optional": false,
      "name": "PackageReference"
    }
  },
  {
    "__docId__": 394,
    "kind": "typedef",
    "name": "PackageMetadata",
    "memberof": "src/packages.js",
    "static": true,
    "longname": "src/packages.js~PackageMetadata",
    "access": "public",
    "description": "A package metadata",
    "properties": [
      {
        "nullable": null,
        "types": [
          "String"
        ],
        "spread": false,
        "optional": false,
        "name": "name",
        "description": "The package name"
      },
      {
        "nullable": null,
        "types": [
          "String"
        ],
        "spread": false,
        "optional": true,
        "name": "category",
        "description": "Package category"
      },
      {
        "nullable": null,
        "types": [
          "String"
        ],
        "spread": false,
        "optional": true,
        "name": "icon",
        "description": "Package icon"
      },
      {
        "nullable": null,
        "types": [
          "Boolean"
        ],
        "spread": false,
        "optional": true,
        "name": "singleton",
        "description": "If only one instance allowed"
      },
      {
        "nullable": null,
        "types": [
          "Boolean"
        ],
        "spread": false,
        "optional": true,
        "name": "autostart",
        "description": "Autostart on boot"
      },
      {
        "nullable": null,
        "types": [
          "Boolean"
        ],
        "spread": false,
        "optional": true,
        "name": "hidden",
        "description": "Hide from launch menus etc."
      },
      {
        "nullable": null,
        "types": [
          "String"
        ],
        "spread": false,
        "optional": true,
        "name": "server",
        "description": "Server script filename"
      },
      {
        "nullable": null,
        "types": [
          "String[]"
        ],
        "spread": false,
        "optional": true,
        "name": "groups",
        "description": "Only available for users in this group"
      },
      {
        "nullable": null,
        "types": [
          "Object[]",
          "string[]"
        ],
        "spread": false,
        "optional": true,
        "name": "files",
        "description": "Files to preload"
      },
      {
        "nullable": null,
        "types": [
          "String"
        ],
        "spread": false,
        "optional": false,
        "name": "title",
        "description": "String title of package"
      },
      {
        "nullable": null,
        "types": [
          "String"
        ],
        "spread": false,
        "optional": false,
        "name": "description",
        "description": "String description of package"
      }
    ],
    "type": {
      "types": [
        "Object"
      ],
      "optional": false,
      "name": "PackageMetadata"
    }
  },
  {
    "__docId__": 395,
    "kind": "typedef",
    "name": "PackageLaunchOptions",
    "memberof": "src/packages.js",
    "static": true,
    "longname": "src/packages.js~PackageLaunchOptions",
    "access": "public",
    "description": "Package Launch Options",
    "properties": [
      {
        "nullable": null,
        "types": [
          "Boolean"
        ],
        "spread": false,
        "optional": true,
        "defaultValue": "false",
        "defaultRaw": false,
        "name": "forcePreload",
        "description": "Force preload reloading"
      }
    ],
    "type": {
      "types": [
        "Object"
      ],
      "optional": false,
      "name": "PackageLaunchOptions"
    }
  },
  {
    "__docId__": 396,
    "kind": "class",
    "name": "Packages",
    "memberof": "src/packages.js",
    "static": true,
    "longname": "src/packages.js~Packages",
    "access": "public",
    "export": true,
    "importPath": "@meeseOS/client/src/packages.js",
    "importStyle": "Packages",
    "description": "Package Manager\n\nHandles indexing, loading and launching of MeeseOS packages",
    "lineNumber": 78,
    "interface": false
  },
  {
    "__docId__": 397,
    "kind": "constructor",
    "name": "constructor",
    "memberof": "src/packages.js~Packages",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/packages.js~Packages#constructor",
    "access": "public",
    "description": "Create package manager.",
    "lineNumber": 83,
    "params": [
      {
        "nullable": null,
        "types": [
          "Core"
        ],
        "spread": false,
        "optional": false,
        "name": "core",
        "description": "MeeseOS Core instance reference"
      }
    ]
  },
  {
    "__docId__": 398,
    "kind": "member",
    "name": "core",
    "memberof": "src/packages.js~Packages",
    "static": false,
    "longname": "src/packages.js~Packages#core",
    "access": "public",
    "description": "Core instance reference.",
    "lineNumber": 89,
    "unknown": [
      {
        "tagName": "@readonly",
        "tagValue": ""
      }
    ],
    "type": {
      "nullable": null,
      "types": [
        "Core"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 399,
    "kind": "member",
    "name": "packages",
    "memberof": "src/packages.js~Packages",
    "static": false,
    "longname": "src/packages.js~Packages#packages",
    "access": "public",
    "description": "A list of registered packages.",
    "lineNumber": 95,
    "type": {
      "nullable": null,
      "types": [
        "PackageReference[]"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 400,
    "kind": "member",
    "name": "metadata",
    "memberof": "src/packages.js~Packages",
    "static": false,
    "longname": "src/packages.js~Packages#metadata",
    "access": "public",
    "description": "The list of loaded package metadata.",
    "lineNumber": 101,
    "type": {
      "nullable": null,
      "types": [
        "PackageMetadata[]"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 401,
    "kind": "member",
    "name": "_running",
    "memberof": "src/packages.js~Packages",
    "static": false,
    "longname": "src/packages.js~Packages#_running",
    "access": "private",
    "description": "A list of running application names.\nMainly used for singleton awareness.",
    "lineNumber": 110,
    "type": {
      "nullable": null,
      "types": [
        "String[]"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 402,
    "kind": "member",
    "name": "preloader",
    "memberof": "src/packages.js~Packages",
    "static": false,
    "longname": "src/packages.js~Packages#preloader",
    "access": "public",
    "description": "Preloader.",
    "lineNumber": 117,
    "unknown": [
      {
        "tagName": "@readonly",
        "tagValue": ""
      }
    ],
    "type": {
      "nullable": null,
      "types": [
        "Preloader"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 403,
    "kind": "member",
    "name": "inited",
    "memberof": "src/packages.js~Packages",
    "static": false,
    "longname": "src/packages.js~Packages#inited",
    "access": "public",
    "description": "If inited",
    "lineNumber": 123,
    "type": {
      "nullable": null,
      "types": [
        "Boolean"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 404,
    "kind": "method",
    "name": "destroy",
    "memberof": "src/packages.js~Packages",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/packages.js~Packages#destroy",
    "access": "public",
    "description": "Destroy package manager.",
    "lineNumber": 129,
    "params": [],
    "return": null
  },
  {
    "__docId__": 407,
    "kind": "method",
    "name": "init",
    "memberof": "src/packages.js~Packages",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/packages.js~Packages#init",
    "access": "public",
    "description": "Initializes package manager.",
    "lineNumber": 140,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{Promise<Boolean>}"
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "Promise<Boolean>"
      ],
      "spread": false,
      "description": ""
    },
    "params": []
  },
  {
    "__docId__": 410,
    "kind": "method",
    "name": "launch",
    "memberof": "src/packages.js~Packages",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/packages.js~Packages#launch",
    "access": "public",
    "description": "Launches a (application) package.",
    "see": [
      "PackageServiceProvider"
    ],
    "lineNumber": 175,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{Promise<Application>}"
      }
    ],
    "params": [
      {
        "nullable": null,
        "types": [
          "String"
        ],
        "spread": false,
        "optional": false,
        "name": "name",
        "description": "Package name"
      },
      {
        "nullable": null,
        "types": [
          "{foo: *}"
        ],
        "spread": false,
        "optional": true,
        "defaultValue": "{}",
        "defaultRaw": {},
        "name": "args",
        "description": "Launch arguments"
      },
      {
        "nullable": null,
        "types": [
          "PackageLaunchOptions"
        ],
        "spread": false,
        "optional": true,
        "defaultValue": "{}",
        "defaultRaw": {},
        "name": "options",
        "description": "Launch options"
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "Promise<Application>"
      ],
      "spread": false,
      "description": ""
    },
    "throws": [
      {
        "types": [
          "Error"
        ],
        "description": ""
      }
    ]
  },
  {
    "__docId__": 411,
    "kind": "method",
    "name": "_launchApplication",
    "memberof": "src/packages.js~Packages",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/packages.js~Packages#_launchApplication",
    "access": "private",
    "description": "Launches an application package.",
    "lineNumber": 200,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{Promise<Application>}"
      }
    ],
    "params": [
      {
        "nullable": null,
        "types": [
          "String"
        ],
        "spread": false,
        "optional": false,
        "name": "name",
        "description": "Application package name"
      },
      {
        "nullable": null,
        "types": [
          "Metadata"
        ],
        "spread": false,
        "optional": false,
        "name": "metadata",
        "description": "Application metadata"
      },
      {
        "nullable": null,
        "types": [
          "{foo: *}"
        ],
        "spread": false,
        "optional": false,
        "name": "args",
        "description": "Launch arguments"
      },
      {
        "nullable": null,
        "types": [
          "PackageLaunchOptions"
        ],
        "spread": false,
        "optional": false,
        "name": "options",
        "description": "Launch options"
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "Promise<Application>"
      ],
      "spread": false,
      "description": ""
    }
  },
  {
    "__docId__": 412,
    "kind": "method",
    "name": "_launchTheme",
    "memberof": "src/packages.js~Packages",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/packages.js~Packages#_launchTheme",
    "access": "private",
    "description": "Launches a (theme) package.",
    "lineNumber": 247,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{Promise<object>}"
      }
    ],
    "params": [
      {
        "nullable": null,
        "types": [
          "String"
        ],
        "spread": false,
        "optional": false,
        "name": "name",
        "description": "Package name"
      },
      {
        "nullable": null,
        "types": [
          "Metadata"
        ],
        "spread": false,
        "optional": false,
        "name": "metadata",
        "description": "Application metadata"
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "Promise<object>"
      ],
      "spread": false,
      "description": ""
    },
    "throws": [
      {
        "types": [
          "Error"
        ],
        "description": ""
      }
    ]
  },
  {
    "__docId__": 413,
    "kind": "method",
    "name": "_getPreloads",
    "memberof": "src/packages.js~Packages",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/packages.js~Packages#_getPreloads",
    "access": "private",
    "description": "Returns preloads.",
    "lineNumber": 268,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{String[]}"
      }
    ],
    "params": [
      {
        "nullable": null,
        "types": [
          "Metadata"
        ],
        "spread": false,
        "optional": false,
        "name": "metadata",
        "description": "Application metadata"
      },
      {
        "nullable": null,
        "types": [
          "String"
        ],
        "spread": false,
        "optional": false,
        "name": "fileType",
        "description": "Files type"
      },
      {
        "nullable": null,
        "types": [
          "String"
        ],
        "spread": false,
        "optional": false,
        "name": "packageType",
        "description": "Package type"
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "String[]"
      ],
      "spread": false,
      "description": ""
    }
  },
  {
    "__docId__": 414,
    "kind": "method",
    "name": "_launch",
    "memberof": "src/packages.js~Packages",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/packages.js~Packages#_launch",
    "access": "private",
    "description": "Wrapper for launching a (application) package.",
    "lineNumber": 283,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{Promise<Application>}"
      }
    ],
    "params": [
      {
        "nullable": null,
        "types": [
          "String"
        ],
        "spread": false,
        "optional": false,
        "name": "name",
        "description": "Package name"
      },
      {
        "nullable": null,
        "types": [
          "{foo: *}"
        ],
        "spread": false,
        "optional": false,
        "name": "args",
        "description": "Launch arguments"
      },
      {
        "nullable": null,
        "types": [
          "PackageLaunchOptions"
        ],
        "spread": false,
        "optional": false,
        "name": "options",
        "description": "Launch options"
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "Promise<Application>"
      ],
      "spread": false,
      "description": ""
    }
  },
  {
    "__docId__": 415,
    "kind": "method",
    "name": "_autostart",
    "memberof": "src/packages.js~Packages",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/packages.js~Packages#_autostart",
    "access": "private",
    "description": "Autostarts tagged packages.",
    "lineNumber": 376,
    "params": [],
    "return": null
  },
  {
    "__docId__": 416,
    "kind": "method",
    "name": "register",
    "memberof": "src/packages.js~Packages",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/packages.js~Packages#register",
    "access": "public",
    "description": "Registers a package.",
    "lineNumber": 395,
    "params": [
      {
        "nullable": null,
        "types": [
          "String"
        ],
        "spread": false,
        "optional": false,
        "name": "name",
        "description": "Package name"
      },
      {
        "nullable": null,
        "types": [
          "Function"
        ],
        "spread": false,
        "optional": false,
        "name": "callback",
        "description": "Callback function to construct application instance"
      }
    ],
    "throws": [
      {
        "types": [
          "Error"
        ],
        "description": ""
      }
    ],
    "return": null
  },
  {
    "__docId__": 417,
    "kind": "method",
    "name": "addPackages",
    "memberof": "src/packages.js~Packages",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/packages.js~Packages#addPackages",
    "access": "public",
    "description": "Adds a set of packages.",
    "lineNumber": 423,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{PackageMetadata[]} Current list of packages"
      }
    ],
    "params": [
      {
        "nullable": null,
        "types": [
          "PackageMetadata[]"
        ],
        "spread": false,
        "optional": false,
        "name": "list",
        "description": "Package list"
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "PackageMetadata[]"
      ],
      "spread": false,
      "description": "Current list of packages"
    }
  },
  {
    "__docId__": 419,
    "kind": "method",
    "name": "getPackages",
    "memberof": "src/packages.js~Packages",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/packages.js~Packages#getPackages",
    "access": "public",
    "description": "Gets a list of packages (metadata).",
    "lineNumber": 441,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{PackageMetadata[]}"
      }
    ],
    "params": [
      {
        "nullable": null,
        "types": [
          "Function"
        ],
        "spread": false,
        "optional": true,
        "name": "filter",
        "description": "A filter function"
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "PackageMetadata[]"
      ],
      "spread": false,
      "description": ""
    }
  },
  {
    "__docId__": 420,
    "kind": "method",
    "name": "getCompatiblePackages",
    "memberof": "src/packages.js~Packages",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/packages.js~Packages#getCompatiblePackages",
    "access": "public",
    "description": "Gets a list of packages compatible with the given mime type.",
    "see": [
      "PackageManager#getPackages"
    ],
    "lineNumber": 463,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{PackageMetadata[]}"
      }
    ],
    "params": [
      {
        "nullable": null,
        "types": [
          "String"
        ],
        "spread": false,
        "optional": false,
        "name": "mimeType",
        "description": "MIME Type"
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "PackageMetadata[]"
      ],
      "spread": false,
      "description": ""
    }
  },
  {
    "__docId__": 421,
    "kind": "method",
    "name": "_preloadBackgroundFiles",
    "memberof": "src/packages.js~Packages",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/packages.js~Packages#_preloadBackgroundFiles",
    "access": "private",
    "description": "Preloads background files of a set of packages.",
    "lineNumber": 488,
    "params": [
      {
        "nullable": null,
        "types": [
          "PackageMetadata[]"
        ],
        "spread": false,
        "optional": false,
        "name": "list",
        "description": "Package list"
      }
    ],
    "return": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 422,
    "kind": "method",
    "name": "running",
    "memberof": "src/packages.js~Packages",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/packages.js~Packages#running",
    "access": "public",
    "description": "Gets a list of running packages.",
    "lineNumber": 506,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{String[]}"
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "String[]"
      ],
      "spread": false,
      "description": ""
    },
    "params": []
  },
  {
    "__docId__": 423,
    "kind": "method",
    "name": "getMetadataFromName",
    "memberof": "src/packages.js~Packages",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/packages.js~Packages#getMetadataFromName",
    "access": "public",
    "description": "Gets the package metadata for a given package name.",
    "lineNumber": 515,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{PackageMetadata|null}"
      }
    ],
    "params": [
      {
        "nullable": null,
        "types": [
          "String"
        ],
        "spread": false,
        "optional": false,
        "name": "name",
        "description": ""
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "PackageMetadata",
        "null"
      ],
      "spread": false,
      "description": ""
    }
  },
  {
    "__docId__": 424,
    "kind": "file",
    "name": "src/providers/auth.js",
    "content": "/**\n * OS.js - JavaScript Cloud/Web Desktop Platform\n *\n * Copyright (c) 2011-Present, Anders Evenrud <andersevenrud@gmail.com>\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *\n * 1. Redistributions of source code must retain the above copyright notice, this\n *    list of conditions and the following disclaimer\n * 2. Redistributions in binary form must reproduce the above copyright notice,\n *    this list of conditions and the following disclaimer in the documentation\n *    and/or other materials provided with the distribution\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\n * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR\n * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n *\n * @author  Anders Evenrud <andersevenrud@gmail.com>\n * @license Simplified BSD License\n */\n\nimport { ServiceProvider } from \"@meeseOS/common\";\nimport Auth from \"../auth\";\n\n/**\n * Auth Service Contract\n * @typedef {Object} AuthProviderContract\n * @property {Function} show\n * @property {Function} login\n * @property {Function} logout\n * @property {Function} user\n */\n\n/**\n * Auth Service Options\n * @typedef {Object} AuthServiceOptions\n */\n\n/**\n * MeeseOS Auth Service Provider\n *\n * Creates the login prompt and handles authentication flow\n */\nexport default class AuthServiceProvider extends ServiceProvider {\n\t/**\n\t * @param {Core} core MeeseOS Core instance reference\n\t * @param {AuthServiceOptions} [options={}]\n\t */\n\tconstructor(core, options = {}) {\n\t\tsuper(core);\n\n\t\t/**\n\t\t * @type {Auth}\n\t\t * @readonly\n\t\t */\n\t\tthis.auth = new Auth(core, options);\n\t}\n\n\t/**\n\t * Get a list of services this provider registers.\n\t * @returns {String[]}\n\t */\n\tstatic provides() {\n\t\treturn [\"meeseOS/auth\"];\n\t}\n\n\t/**\n\t * Initializes authentication.\n\t * @returns {Promise<undefined>}\n\t */\n\tinit() {\n\t\tthis.core.singleton(\"meeseOS/auth\", () => this.createAuthContract());\n\n\t\treturn this.auth.init();\n\t}\n\n\t/**\n\t * Destroys authentication.\n\t */\n\tdestroy() {\n\t\tthis.auth.destroy();\n\n\t\treturn super.destroy();\n\t}\n\n\t/**\n\t * @returns {AuthProviderContract}\n\t */\n\tcreateAuthContract() {\n\t\treturn {\n\t\t\tshow: (cb) => this.auth.show(cb),\n\t\t\tlogin: (values) => this.auth.login(values),\n\t\t\tlogout: (reload) => this.auth.logout(reload),\n\t\t\tuser: () => this.core.getUser(),\n\t\t};\n\t}\n}\n",
    "static": true,
    "longname": "/home/runner/work/meeseOS/meeseOS/frontend/client/src/providers/auth.js",
    "access": "public",
    "description": null,
    "lineNumber": 1
  },
  {
    "__docId__": 425,
    "kind": "typedef",
    "name": "AuthProviderContract",
    "memberof": "src/providers/auth.js",
    "static": true,
    "longname": "src/providers/auth.js~AuthProviderContract",
    "access": "public",
    "description": "Auth Service Contract",
    "properties": [
      {
        "nullable": null,
        "types": [
          "Function"
        ],
        "spread": false,
        "optional": false,
        "name": "show",
        "description": ""
      },
      {
        "nullable": null,
        "types": [
          "Function"
        ],
        "spread": false,
        "optional": false,
        "name": "login",
        "description": ""
      },
      {
        "nullable": null,
        "types": [
          "Function"
        ],
        "spread": false,
        "optional": false,
        "name": "logout",
        "description": ""
      },
      {
        "nullable": null,
        "types": [
          "Function"
        ],
        "spread": false,
        "optional": false,
        "name": "user",
        "description": ""
      }
    ],
    "type": {
      "types": [
        "Object"
      ],
      "optional": false,
      "name": "AuthProviderContract"
    }
  },
  {
    "__docId__": 426,
    "kind": "typedef",
    "name": "AuthServiceOptions",
    "memberof": "src/providers/auth.js",
    "static": true,
    "longname": "src/providers/auth.js~AuthServiceOptions",
    "access": "public",
    "description": "Auth Service Options",
    "type": {
      "types": [
        "Object"
      ],
      "optional": false,
      "name": "AuthServiceOptions"
    }
  },
  {
    "__docId__": 427,
    "kind": "class",
    "name": "AuthServiceProvider",
    "memberof": "src/providers/auth.js",
    "static": true,
    "longname": "src/providers/auth.js~AuthServiceProvider",
    "access": "public",
    "export": true,
    "importPath": "@meeseOS/client/src/providers/auth.js",
    "importStyle": "AuthServiceProvider",
    "description": "MeeseOS Auth Service Provider\n\nCreates the login prompt and handles authentication flow",
    "lineNumber": 53,
    "interface": false,
    "extends": [
      "@meeseOS/common~ServiceProvider"
    ]
  },
  {
    "__docId__": 428,
    "kind": "constructor",
    "name": "constructor",
    "memberof": "src/providers/auth.js~AuthServiceProvider",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/providers/auth.js~AuthServiceProvider#constructor",
    "access": "public",
    "description": "",
    "lineNumber": 58,
    "params": [
      {
        "nullable": null,
        "types": [
          "Core"
        ],
        "spread": false,
        "optional": false,
        "name": "core",
        "description": "MeeseOS Core instance reference"
      },
      {
        "nullable": null,
        "types": [
          "AuthServiceOptions"
        ],
        "spread": false,
        "optional": true,
        "defaultValue": "{}",
        "defaultRaw": {},
        "name": "options",
        "description": ""
      }
    ]
  },
  {
    "__docId__": 429,
    "kind": "member",
    "name": "auth",
    "memberof": "src/providers/auth.js~AuthServiceProvider",
    "static": false,
    "longname": "src/providers/auth.js~AuthServiceProvider#auth",
    "access": "public",
    "description": "",
    "lineNumber": 65,
    "unknown": [
      {
        "tagName": "@readonly",
        "tagValue": ""
      }
    ],
    "type": {
      "nullable": null,
      "types": [
        "Auth"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 430,
    "kind": "method",
    "name": "provides",
    "memberof": "src/providers/auth.js~AuthServiceProvider",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "src/providers/auth.js~AuthServiceProvider.provides",
    "access": "public",
    "description": "Get a list of services this provider registers.",
    "lineNumber": 72,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{String[]}"
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "String[]"
      ],
      "spread": false,
      "description": ""
    },
    "params": []
  },
  {
    "__docId__": 431,
    "kind": "method",
    "name": "init",
    "memberof": "src/providers/auth.js~AuthServiceProvider",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/providers/auth.js~AuthServiceProvider#init",
    "access": "public",
    "description": "Initializes authentication.",
    "lineNumber": 80,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{Promise<undefined>}"
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "Promise<undefined>"
      ],
      "spread": false,
      "description": ""
    },
    "params": []
  },
  {
    "__docId__": 432,
    "kind": "method",
    "name": "destroy",
    "memberof": "src/providers/auth.js~AuthServiceProvider",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/providers/auth.js~AuthServiceProvider#destroy",
    "access": "public",
    "description": "Destroys authentication.",
    "lineNumber": 89,
    "params": [],
    "return": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 433,
    "kind": "method",
    "name": "createAuthContract",
    "memberof": "src/providers/auth.js~AuthServiceProvider",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/providers/auth.js~AuthServiceProvider#createAuthContract",
    "access": "public",
    "description": "",
    "lineNumber": 98,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{AuthProviderContract}"
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "AuthProviderContract"
      ],
      "spread": false,
      "description": ""
    },
    "params": []
  },
  {
    "__docId__": 434,
    "kind": "file",
    "name": "src/providers/core.js",
    "content": "/**\n * OS.js - JavaScript Cloud/Web Desktop Platform\n *\n * Copyright (c) 2011-Present, Anders Evenrud <andersevenrud@gmail.com>\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *\n * 1. Redistributions of source code must retain the above copyright notice, this\n *    list of conditions and the following disclaimer\n * 2. Redistributions in binary form must reproduce the above copyright notice,\n *    this list of conditions and the following disclaimer in the documentation\n *    and/or other materials provided with the distribution\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\n * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR\n * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n *\n * @author  Anders Evenrud <andersevenrud@gmail.com>\n * @license Simplified BSD License\n */\n\nimport { BasicApplication } from \"../basic-application.js\";\nimport { ServiceProvider } from \"@meeseOS/common\";\nimport { EventEmitter } from \"@meeseOS/event-emitter\";\nimport { playSound, script, style } from \"../utils/dom\";\nimport { resourceResolver } from \"../utils/desktop\";\nimport * as dnd from \"../utils/dnd\";\nimport Application from \"../application\";\nimport Clipboard from \"../clipboard\";\nimport Middleware from \"../middleware\";\nimport Packages from \"../packages\";\nimport Session from \"../session\";\nimport Tray from \"../tray\";\nimport Websocket from \"../websocket\";\nimport Window from \"../window\";\nimport WindowBehavior from \"../window-behavior\";\nimport logger from \"../logger\";\n\n/**\n * Core Provider Window Contract\n * TODO: typedef\n * @typedef {Object} CoreProviderWindowContract\n * @property {Function} create\n * @property {Function} list\n * @property {Function} last\n */\n\n/**\n * Core Provider DnD Contract\n * TODO: typedef\n * @typedef {Object} CoreProviderDnDContract\n * @property {Function} draggable\n * @property {Function} droppable\n */\n\n/**\n * Core Provider Theme Contract\n * TODO: typedef\n * @typedef {Object} CoreProviderDOMContract\n * @property {Function} script\n * @property {Function} style\n */\n\n/**\n * Core Provider Theme Contract\n * TODO: typedef\n * @typedef {Object} CoreProviderThemeContract\n * @property {Function} resource\n * @property {Function} icon\n */\n\n/**\n * Core Provider Sound Contract\n * TODO: typedef\n * @typedef {Object} CoreProviderSoundContract\n * @property {Function} resource\n * @property {Function} play\n */\n\n/**\n * Core Provider Session Contract\n * TODO: typedef\n * @typedef {Object} CoreProviderSessionContract\n * @property {Function} save\n * @property {Function} load\n */\n\n/**\n * Core Provider Packages Contract\n * TODO: typedef\n * @typedef {Object} CoreProviderPackagesContract\n * @property {Function} [launch]\n * @property {Function} [register]\n * @property {Function} [addPackages]\n * @property {Function} [getPackages]\n * @property {Function} [getCompatiblePackages]\n * @property {Function} [running]\n */\n\n/**\n * Core Provider Clipboard Contract\n * TODO: typedef\n * @typedef {Object} CoreProviderClipboardContract\n * @property {Function} [clear]\n * @property {Function} [set]\n * @property {Function} [has]\n * @property {Function} [get]\n */\n\n/**\n * Core Provider Middleware Contract\n * TODO: typedef\n * @typedef {Object} CoreProviderMiddlewareContract\n * @property {Function} [add]\n * @property {Function} [get]\n */\n\n/**\n * Core Provider Tray Contract\n * TODO: typedef\n * @typedef {Object} CoreProviderTrayContract\n * @property {Function} [create]\n * @property {Function} [remove]\n * @property {Function} [list]\n * @property {Function} [has]\n */\n\n/**\n * Core Provider Options\n * @typedef {Object} CoreProviderOptions\n * @property {Function} [windowBehavior] Custom Window Behavior\n */\n\n/**\n * MeeseOS Core Service Provider\n */\nexport default class CoreServiceProvider extends ServiceProvider {\n\t/**\n\t * Create new instance.\n\t * @param {Core} core MeeseOS Core instance reference\n\t * @param {CoreProviderOptions} [options={}] Arguments\n\t */\n\tconstructor(core, options = {}) {\n\t\tsuper(core, options);\n\n\t\t/**\n\t\t * @type {Session}\n\t\t * @readonly\n\t\t */\n\t\tthis.session = new Session(core);\n\n\t\t/**\n\t\t * @type {Tray}\n\t\t * @readonly\n\t\t */\n\t\tthis.tray = new Tray(core);\n\n\t\t/**\n\t\t * @type {Packages}\n\t\t * @readonly\n\t\t */\n\t\tthis.pm = new Packages(core);\n\n\t\t/**\n\t\t * @type {Clipboard}\n\t\t * @readonly\n\t\t */\n\t\tthis.clipboard = new Clipboard();\n\n\t\t/**\n\t\t * @type {Middleware}\n\t\t * @readonly\n\t\t */\n\t\tthis.middleware = new Middleware();\n\n\t\twindow.MeeseOS = this.createGlobalApi();\n\t}\n\n\t/**\n\t * Get a list of services this provider registers.\n\t * @returns {String[]}\n\t */\n\tstatic provides() {\n\t\treturn [\n\t\t\t\"meeseOS/application\",\n\t\t\t\"meeseOS/basic-application\",\n\t\t\t\"meeseOS/window\",\n\t\t\t\"meeseOS/windows\",\n\t\t\t\"meeseOS/event-handler\",\n\t\t\t\"meeseOS/window-behaviour\",\n\t\t\t\"meeseOS/dnd\",\n\t\t\t\"meeseOS/dom\",\n\t\t\t\"meeseOS/clipboard\",\n\t\t\t\"meeseOS/middleware\",\n\t\t\t\"meeseOS/tray\",\n\t\t\t\"meeseOS/packages\",\n\t\t\t\"meeseOS/websocket\",\n\t\t\t\"meeseOS/session\",\n\t\t\t\"meeseOS/theme\",\n\t\t\t\"meeseOS/sounds\",\n\t\t];\n\t}\n\n\t/**\n\t * Destroys provider.\n\t */\n\tdestroy() {\n\t\tthis.tray.destroy();\n\t\tthis.pm.destroy();\n\t\tthis.clipboard.destroy();\n\t\tthis.middleware.destroy();\n\t\tthis.session.destroy();\n\n\t\tsuper.destroy();\n\t}\n\n\t/**\n\t * Initializes provider.\n\t * @returns {Promise<undefined>}\n\t */\n\tinit() {\n\t\tthis.registerContracts();\n\n\t\tthis.core.on(\"meeseOS/core:started\", () => {\n\t\t\tthis.session.load();\n\t\t});\n\n\t\treturn this.pm.init();\n\t}\n\n\t/**\n\t * Starts provider.\n\t * @returns {Promise<undefined>}\n\t */\n\tstart() {\n\t\tif (this.core.config(\"development\")) {\n\t\t\tthis.core.on(\"meeseOS/dist:changed\", (filename) => {\n\t\t\t\tthis._onDistChanged(filename);\n\t\t\t});\n\n\t\t\tthis.core.on(\"meeseOS/packages:package:changed\", (name) => {\n\t\t\t\tthis._onPackageChanged(name);\n\t\t\t});\n\t\t}\n\n\t\tthis.core.on(\"meeseOS/packages:metadata:changed\", () => {\n\t\t\tthis.pm.init();\n\t\t});\n\t}\n\n\t/**\n\t * Registers contracts.\n\t */\n\tregisterContracts() {\n\t\tthis.core.instance(\n\t\t\t\"meeseOS/window\",\n\t\t\t(options = {}) => new Window(this.core, options)\n\t\t);\n\t\tthis.core.instance(\n\t\t\t\"meeseOS/application\",\n\t\t\t(data = {}) => new Application(this.core, data)\n\t\t);\n\t\tthis.core.instance(\n\t\t\t\"meeseOS/basic-application\",\n\t\t\t(proc, win, options = {}) =>\n\t\t\t\tnew BasicApplication(this.core, proc, win, options)\n\t\t);\n\t\tthis.core.instance(\n\t\t\t\"meeseOS/websocket\",\n\t\t\t(name, uri, options = {}) => new Websocket(name, uri, options)\n\t\t);\n\t\tthis.core.instance(\n\t\t\t\"meeseOS/event-emitter\",\n\t\t\t(name) => new EventEmitter(name)\n\t\t);\n\n\t\tthis.core.singleton(\"meeseOS/windows\", () => this.createWindowContract());\n\t\tthis.core.singleton(\"meeseOS/dnd\", () => this.createDnDContract());\n\t\tthis.core.singleton(\"meeseOS/dom\", () => this.createDOMContract());\n\t\tthis.core.singleton(\"meeseOS/theme\", () => this.createThemeContract());\n\t\tthis.core.singleton(\"meeseOS/sounds\", () => this.createSoundsContract());\n\t\tthis.core.singleton(\"meeseOS/session\", () => this.createSessionContract());\n\t\tthis.core.singleton(\"meeseOS/packages\", () =>\n\t\t\tthis.createPackagesContract()\n\t\t);\n\t\tthis.core.singleton(\"meeseOS/clipboard\", () =>\n\t\t\tthis.createClipboardContract()\n\t\t);\n\t\tthis.core.singleton(\"meeseOS/middleware\", () =>\n\t\t\tthis.createMiddlewareContract()\n\t\t);\n\n\t\tthis.core.instance(\"meeseOS/tray\", (options, handler) => {\n\t\t\tif (typeof options !== \"undefined\") {\n\t\t\t\t// FIXME: Use contract instead\n\t\t\t\tlogger.warn(\"meeseOS/tray usage without .create() is deprecated\");\n\t\t\t\treturn this.tray.create(options, handler);\n\t\t\t}\n\n\t\t\treturn this.createTrayContract();\n\t\t});\n\n\t\t// FIXME: Remove this from public usage\n\t\tthis.core.singleton(\"meeseOS/window-behavior\", () =>\n\t\t\ttypeof this.options.windowBehavior === \"function\"\n\t\t\t\t? this.options.windowBehavior(this.core)\n\t\t\t\t: new WindowBehavior(this.core)\n\t\t);\n\n\t\tthis.core.instance(\"meeseOS/event-handler\", (...args) => {\n\t\t\tlogger.warn(\n\t\t\t\t\"meeseOS/event-handler is deprecated, use meeseOS/event-emitter\"\n\t\t\t);\n\t\t\treturn new EventEmitter(...args);\n\t\t});\n\t}\n\n\t/**\n\t * Expose some internals to global.\n\t */\n\tcreateGlobalApi() {\n\t\tconst globalBlacklist = this.core.config(\"providers.globalBlacklist\", []);\n\t\tconst globalWhitelist = this.core.config(\"providers.globalWhitelist\", []);\n\n\t\tconst make = (name, ...args) => {\n\t\t\tif (this.core.has(name)) {\n\t\t\t\tconst blacklisted =\n\t\t\t\t\tglobalBlacklist.length > 0 && globalBlacklist.indexOf(name) !== -1;\n\t\t\t\tconst notWhitelisted =\n\t\t\t\t\tglobalWhitelist.length > 0 && globalWhitelist.indexOf(name) === -1;\n\n\t\t\t\tif (blacklisted || notWhitelisted) {\n\t\t\t\t\tthrow new Error(\n\t\t\t\t\t\t`The provider '${name}' cannot be used via global scope`\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn this.core.make(name, ...args);\n\t\t};\n\n\t\treturn Object.freeze({\n\t\t\tmake,\n\t\t\tregister: (name, callback) => this.pm.register(name, callback),\n\t\t\turl: (endpoint, options, metadata) =>\n\t\t\t\tthis.core.url(endpoint, options, metadata),\n\t\t\trun: (name, args = {}, options = {}) =>\n\t\t\t\tthis.core.run(name, args, options),\n\t\t\topen: (file, options = {}) => this.core.open(file, options),\n\t\t\trequest: (url, options, type) => this.core.request(url, options, type),\n\t\t\tmiddleware: (group, callback) => this.middleware.add(group, callback),\n\t\t});\n\t}\n\n\t/**\n\t * Event when dist changes from a build or deployment.\n\t * @private\n\t * @param {String} filename The resource filename\n\t */\n\t_onDistChanged(filename) {\n\t\tconst url = this.core.url(filename).replace(/^\\//, \"\");\n\t\tconst found = this.core.$resourceRoot.querySelectorAll(\n\t\t\t\"link[rel=stylesheet]\"\n\t\t);\n\t\tconst map = Array.from(found).reduce((result, item) => {\n\t\t\tconst src = item.getAttribute(\"href\").split(\"?\")[0].replace(/^\\//, \"\");\n\t\t\treturn {\n\t\t\t\t[src]: item,\n\t\t\t\t...result,\n\t\t\t};\n\t\t}, {});\n\n\t\tif (map[url]) {\n\t\t\tlogger.debug(\"Hot-reloading\", url);\n\n\t\t\tsetTimeout(() => {\n\t\t\t\tmap[url].setAttribute(\"href\", url);\n\t\t\t}, 100);\n\t\t}\n\t}\n\n\t/**\n\t * Event when package dist changes from a build or deployment.\n\t * @private\n\t * @param {String} name The package name\n\t */\n\t_onPackageChanged(name) {\n\t\t// TODO: Reload themes as well\n\t\tApplication.getApplications()\n\t\t\t.filter((proc) => proc.metadata.name === name)\n\t\t\t.forEach((proc) => proc.relaunch());\n\t}\n\n\t/**\n\t * Provides window contract.\n\t * @returns {CoreProviderWindowContract}\n\t */\n\tcreateWindowContract() {\n\t\treturn {\n\t\t\tcreate: (options = {}) => new Window(this.core, options),\n\t\t\tlist: () => Window.getWindows(),\n\t\t\tlast: () => Window.lastWindow(),\n\t\t};\n\t}\n\n\t/**\n\t * Provides DnD contract.\n\t * @returns {CoreProviderDnDContract}\n\t */\n\tcreateDnDContract() {\n\t\treturn dnd;\n\t}\n\n\t/**\n\t * Provides DOM contract.\n\t * @returns {CoreProviderDOMContract}\n\t */\n\tcreateDOMContract() {\n\t\treturn {\n\t\t\tscript,\n\t\t\tstyle,\n\t\t};\n\t}\n\n\t/**\n\t * Provides Theme contract.\n\t * @returns {CoreProviderThemeContract}\n\t */\n\tcreateThemeContract() {\n\t\tconst { themeResource, icon } = resourceResolver(this.core);\n\n\t\treturn {\n\t\t\tresource: themeResource,\n\t\t\ticon\n\t\t};\n\t}\n\n\t/**\n\t * Provides Sounds contract.\n\t * @returns {CoreProviderSoundContract}\n\t */\n\tcreateSoundsContract() {\n\t\tconst { soundResource, soundsEnabled } = resourceResolver(this.core);\n\n\t\treturn {\n\t\t\tresource: soundResource,\n\t\t\tplay: (src, options = {}) => {\n\t\t\t\tif (soundsEnabled()) {\n\t\t\t\t\tconst absoluteSrc = src.match(/^(\\/|https?:)/)\n\t\t\t\t\t\t? src\n\t\t\t\t\t\t: soundResource(src);\n\n\t\t\t\t\tif (absoluteSrc) {\n\t\t\t\t\t\treturn playSound(absoluteSrc, options);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\treturn false;\n\t\t\t},\n\t\t};\n\t}\n\n\t/**\n\t * Provides Session contract.\n\t * @returns {CoreProviderSessionContract}\n\t */\n\tcreateSessionContract() {\n\t\treturn {\n\t\t\tsave: () => this.session.save(),\n\t\t\tload: (fresh = false) => this.session.load(fresh),\n\t\t};\n\t}\n\n\t/**\n\t * Provides Packages contract.\n\t * @returns {CoreProviderPackagesContract}\n\t */\n\tcreatePackagesContract() {\n\t\treturn {\n\t\t\tlaunch: (name, args = {}, options = {}) =>\n\t\t\t\tthis.pm.launch(name, args, options),\n\t\t\tregister: (name, callback) => this.pm.register(name, callback),\n\t\t\taddPackages: (list) => this.pm.addPackages(list),\n\t\t\tgetPackages: (filter) => this.pm.getPackages(filter),\n\t\t\tgetCompatiblePackages: (mimeType) =>\n\t\t\t\tthis.pm.getCompatiblePackages(mimeType),\n\t\t\trunning: () => this.pm.running(),\n\t\t\tgetMetadataFromName: (name) => this.pm.getMetadataFromName(name),\n\t\t};\n\t}\n\n\t/**\n\t * Provides Clipboard contract.\n\t * @returns {CoreProviderClipboardContract}\n\t */\n\tcreateClipboardContract() {\n\t\treturn {\n\t\t\tclear: () => this.clipboard.clear(),\n\t\t\tset: (data, type) => this.clipboard.set(data, type),\n\t\t\thas: (type) => this.clipboard.has(type),\n\t\t\tget: (clear = false) => this.clipboard.get(clear),\n\t\t};\n\t}\n\n\t/**\n\t * Provides Middleware contract.\n\t * @returns {CoreProviderMiddlewareContract}\n\t */\n\tcreateMiddlewareContract() {\n\t\treturn {\n\t\t\tadd: (group, callback) => this.middleware.add(group, callback),\n\t\t\tget: (group) => this.middleware.get(group),\n\t\t};\n\t}\n\n\t/**\n\t * Provides Tray contract.\n\t * @returns {CoreProviderTrayContract}\n\t */\n\tcreateTrayContract() {\n\t\treturn {\n\t\t\tcreate: (options, handler) => this.tray.create(options, handler),\n\t\t\tremove: (entry) => this.tray.remove(entry),\n\t\t\tlist: () => this.tray.list(),\n\t\t\thas: (key) => this.tray.has(key),\n\t\t};\n\t}\n}\n",
    "static": true,
    "longname": "/home/runner/work/meeseOS/meeseOS/frontend/client/src/providers/core.js",
    "access": "public",
    "description": null,
    "lineNumber": 1
  },
  {
    "__docId__": 435,
    "kind": "typedef",
    "name": "CoreProviderWindowContract",
    "memberof": "src/providers/core.js",
    "static": true,
    "longname": "src/providers/core.js~CoreProviderWindowContract",
    "access": "public",
    "description": "Core Provider Window Contract\nTODO: typedef",
    "properties": [
      {
        "nullable": null,
        "types": [
          "Function"
        ],
        "spread": false,
        "optional": false,
        "name": "create",
        "description": ""
      },
      {
        "nullable": null,
        "types": [
          "Function"
        ],
        "spread": false,
        "optional": false,
        "name": "list",
        "description": ""
      },
      {
        "nullable": null,
        "types": [
          "Function"
        ],
        "spread": false,
        "optional": false,
        "name": "last",
        "description": ""
      }
    ],
    "type": {
      "types": [
        "Object"
      ],
      "optional": false,
      "name": "CoreProviderWindowContract"
    }
  },
  {
    "__docId__": 436,
    "kind": "typedef",
    "name": "CoreProviderDnDContract",
    "memberof": "src/providers/core.js",
    "static": true,
    "longname": "src/providers/core.js~CoreProviderDnDContract",
    "access": "public",
    "description": "Core Provider DnD Contract\nTODO: typedef",
    "properties": [
      {
        "nullable": null,
        "types": [
          "Function"
        ],
        "spread": false,
        "optional": false,
        "name": "draggable",
        "description": ""
      },
      {
        "nullable": null,
        "types": [
          "Function"
        ],
        "spread": false,
        "optional": false,
        "name": "droppable",
        "description": ""
      }
    ],
    "type": {
      "types": [
        "Object"
      ],
      "optional": false,
      "name": "CoreProviderDnDContract"
    }
  },
  {
    "__docId__": 437,
    "kind": "typedef",
    "name": "CoreProviderDOMContract",
    "memberof": "src/providers/core.js",
    "static": true,
    "longname": "src/providers/core.js~CoreProviderDOMContract",
    "access": "public",
    "description": "Core Provider Theme Contract\nTODO: typedef",
    "properties": [
      {
        "nullable": null,
        "types": [
          "Function"
        ],
        "spread": false,
        "optional": false,
        "name": "script",
        "description": ""
      },
      {
        "nullable": null,
        "types": [
          "Function"
        ],
        "spread": false,
        "optional": false,
        "name": "style",
        "description": ""
      }
    ],
    "type": {
      "types": [
        "Object"
      ],
      "optional": false,
      "name": "CoreProviderDOMContract"
    }
  },
  {
    "__docId__": 438,
    "kind": "typedef",
    "name": "CoreProviderThemeContract",
    "memberof": "src/providers/core.js",
    "static": true,
    "longname": "src/providers/core.js~CoreProviderThemeContract",
    "access": "public",
    "description": "Core Provider Theme Contract\nTODO: typedef",
    "properties": [
      {
        "nullable": null,
        "types": [
          "Function"
        ],
        "spread": false,
        "optional": false,
        "name": "resource",
        "description": ""
      },
      {
        "nullable": null,
        "types": [
          "Function"
        ],
        "spread": false,
        "optional": false,
        "name": "icon",
        "description": ""
      }
    ],
    "type": {
      "types": [
        "Object"
      ],
      "optional": false,
      "name": "CoreProviderThemeContract"
    }
  },
  {
    "__docId__": 439,
    "kind": "typedef",
    "name": "CoreProviderSoundContract",
    "memberof": "src/providers/core.js",
    "static": true,
    "longname": "src/providers/core.js~CoreProviderSoundContract",
    "access": "public",
    "description": "Core Provider Sound Contract\nTODO: typedef",
    "properties": [
      {
        "nullable": null,
        "types": [
          "Function"
        ],
        "spread": false,
        "optional": false,
        "name": "resource",
        "description": ""
      },
      {
        "nullable": null,
        "types": [
          "Function"
        ],
        "spread": false,
        "optional": false,
        "name": "play",
        "description": ""
      }
    ],
    "type": {
      "types": [
        "Object"
      ],
      "optional": false,
      "name": "CoreProviderSoundContract"
    }
  },
  {
    "__docId__": 440,
    "kind": "typedef",
    "name": "CoreProviderSessionContract",
    "memberof": "src/providers/core.js",
    "static": true,
    "longname": "src/providers/core.js~CoreProviderSessionContract",
    "access": "public",
    "description": "Core Provider Session Contract\nTODO: typedef",
    "properties": [
      {
        "nullable": null,
        "types": [
          "Function"
        ],
        "spread": false,
        "optional": false,
        "name": "save",
        "description": ""
      },
      {
        "nullable": null,
        "types": [
          "Function"
        ],
        "spread": false,
        "optional": false,
        "name": "load",
        "description": ""
      }
    ],
    "type": {
      "types": [
        "Object"
      ],
      "optional": false,
      "name": "CoreProviderSessionContract"
    }
  },
  {
    "__docId__": 441,
    "kind": "typedef",
    "name": "CoreProviderPackagesContract",
    "memberof": "src/providers/core.js",
    "static": true,
    "longname": "src/providers/core.js~CoreProviderPackagesContract",
    "access": "public",
    "description": "Core Provider Packages Contract\nTODO: typedef",
    "properties": [
      {
        "nullable": null,
        "types": [
          "Function"
        ],
        "spread": false,
        "optional": true,
        "name": "launch",
        "description": ""
      },
      {
        "nullable": null,
        "types": [
          "Function"
        ],
        "spread": false,
        "optional": true,
        "name": "register",
        "description": ""
      },
      {
        "nullable": null,
        "types": [
          "Function"
        ],
        "spread": false,
        "optional": true,
        "name": "addPackages",
        "description": ""
      },
      {
        "nullable": null,
        "types": [
          "Function"
        ],
        "spread": false,
        "optional": true,
        "name": "getPackages",
        "description": ""
      },
      {
        "nullable": null,
        "types": [
          "Function"
        ],
        "spread": false,
        "optional": true,
        "name": "getCompatiblePackages",
        "description": ""
      },
      {
        "nullable": null,
        "types": [
          "Function"
        ],
        "spread": false,
        "optional": true,
        "name": "running",
        "description": ""
      }
    ],
    "type": {
      "types": [
        "Object"
      ],
      "optional": false,
      "name": "CoreProviderPackagesContract"
    }
  },
  {
    "__docId__": 442,
    "kind": "typedef",
    "name": "CoreProviderClipboardContract",
    "memberof": "src/providers/core.js",
    "static": true,
    "longname": "src/providers/core.js~CoreProviderClipboardContract",
    "access": "public",
    "description": "Core Provider Clipboard Contract\nTODO: typedef",
    "properties": [
      {
        "nullable": null,
        "types": [
          "Function"
        ],
        "spread": false,
        "optional": true,
        "name": "clear",
        "description": ""
      },
      {
        "nullable": null,
        "types": [
          "Function"
        ],
        "spread": false,
        "optional": true,
        "name": "set",
        "description": ""
      },
      {
        "nullable": null,
        "types": [
          "Function"
        ],
        "spread": false,
        "optional": true,
        "name": "has",
        "description": ""
      },
      {
        "nullable": null,
        "types": [
          "Function"
        ],
        "spread": false,
        "optional": true,
        "name": "get",
        "description": ""
      }
    ],
    "type": {
      "types": [
        "Object"
      ],
      "optional": false,
      "name": "CoreProviderClipboardContract"
    }
  },
  {
    "__docId__": 443,
    "kind": "typedef",
    "name": "CoreProviderMiddlewareContract",
    "memberof": "src/providers/core.js",
    "static": true,
    "longname": "src/providers/core.js~CoreProviderMiddlewareContract",
    "access": "public",
    "description": "Core Provider Middleware Contract\nTODO: typedef",
    "properties": [
      {
        "nullable": null,
        "types": [
          "Function"
        ],
        "spread": false,
        "optional": true,
        "name": "add",
        "description": ""
      },
      {
        "nullable": null,
        "types": [
          "Function"
        ],
        "spread": false,
        "optional": true,
        "name": "get",
        "description": ""
      }
    ],
    "type": {
      "types": [
        "Object"
      ],
      "optional": false,
      "name": "CoreProviderMiddlewareContract"
    }
  },
  {
    "__docId__": 444,
    "kind": "typedef",
    "name": "CoreProviderTrayContract",
    "memberof": "src/providers/core.js",
    "static": true,
    "longname": "src/providers/core.js~CoreProviderTrayContract",
    "access": "public",
    "description": "Core Provider Tray Contract\nTODO: typedef",
    "properties": [
      {
        "nullable": null,
        "types": [
          "Function"
        ],
        "spread": false,
        "optional": true,
        "name": "create",
        "description": ""
      },
      {
        "nullable": null,
        "types": [
          "Function"
        ],
        "spread": false,
        "optional": true,
        "name": "remove",
        "description": ""
      },
      {
        "nullable": null,
        "types": [
          "Function"
        ],
        "spread": false,
        "optional": true,
        "name": "list",
        "description": ""
      },
      {
        "nullable": null,
        "types": [
          "Function"
        ],
        "spread": false,
        "optional": true,
        "name": "has",
        "description": ""
      }
    ],
    "type": {
      "types": [
        "Object"
      ],
      "optional": false,
      "name": "CoreProviderTrayContract"
    }
  },
  {
    "__docId__": 445,
    "kind": "typedef",
    "name": "CoreProviderOptions",
    "memberof": "src/providers/core.js",
    "static": true,
    "longname": "src/providers/core.js~CoreProviderOptions",
    "access": "public",
    "description": "Core Provider Options",
    "properties": [
      {
        "nullable": null,
        "types": [
          "Function"
        ],
        "spread": false,
        "optional": true,
        "name": "windowBehavior",
        "description": "Custom Window Behavior"
      }
    ],
    "type": {
      "types": [
        "Object"
      ],
      "optional": false,
      "name": "CoreProviderOptions"
    }
  },
  {
    "__docId__": 446,
    "kind": "class",
    "name": "CoreServiceProvider",
    "memberof": "src/providers/core.js",
    "static": true,
    "longname": "src/providers/core.js~CoreServiceProvider",
    "access": "public",
    "export": true,
    "importPath": "@meeseOS/client/src/providers/core.js",
    "importStyle": "CoreServiceProvider",
    "description": "MeeseOS Core Service Provider",
    "lineNumber": 146,
    "interface": false,
    "extends": [
      "@meeseOS/common~ServiceProvider"
    ]
  },
  {
    "__docId__": 447,
    "kind": "constructor",
    "name": "constructor",
    "memberof": "src/providers/core.js~CoreServiceProvider",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/providers/core.js~CoreServiceProvider#constructor",
    "access": "public",
    "description": "Create new instance.",
    "lineNumber": 152,
    "params": [
      {
        "nullable": null,
        "types": [
          "Core"
        ],
        "spread": false,
        "optional": false,
        "name": "core",
        "description": "MeeseOS Core instance reference"
      },
      {
        "nullable": null,
        "types": [
          "CoreProviderOptions"
        ],
        "spread": false,
        "optional": true,
        "defaultValue": "{}",
        "defaultRaw": {},
        "name": "options",
        "description": "Arguments"
      }
    ]
  },
  {
    "__docId__": 448,
    "kind": "member",
    "name": "session",
    "memberof": "src/providers/core.js~CoreServiceProvider",
    "static": false,
    "longname": "src/providers/core.js~CoreServiceProvider#session",
    "access": "public",
    "description": "",
    "lineNumber": 159,
    "unknown": [
      {
        "tagName": "@readonly",
        "tagValue": ""
      }
    ],
    "type": {
      "nullable": null,
      "types": [
        "Session"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 449,
    "kind": "member",
    "name": "tray",
    "memberof": "src/providers/core.js~CoreServiceProvider",
    "static": false,
    "longname": "src/providers/core.js~CoreServiceProvider#tray",
    "access": "public",
    "description": "",
    "lineNumber": 165,
    "unknown": [
      {
        "tagName": "@readonly",
        "tagValue": ""
      }
    ],
    "type": {
      "nullable": null,
      "types": [
        "Tray"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 450,
    "kind": "member",
    "name": "pm",
    "memberof": "src/providers/core.js~CoreServiceProvider",
    "static": false,
    "longname": "src/providers/core.js~CoreServiceProvider#pm",
    "access": "public",
    "description": "",
    "lineNumber": 171,
    "unknown": [
      {
        "tagName": "@readonly",
        "tagValue": ""
      }
    ],
    "type": {
      "nullable": null,
      "types": [
        "Packages"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 451,
    "kind": "member",
    "name": "clipboard",
    "memberof": "src/providers/core.js~CoreServiceProvider",
    "static": false,
    "longname": "src/providers/core.js~CoreServiceProvider#clipboard",
    "access": "public",
    "description": "",
    "lineNumber": 177,
    "unknown": [
      {
        "tagName": "@readonly",
        "tagValue": ""
      }
    ],
    "type": {
      "nullable": null,
      "types": [
        "Clipboard"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 452,
    "kind": "member",
    "name": "middleware",
    "memberof": "src/providers/core.js~CoreServiceProvider",
    "static": false,
    "longname": "src/providers/core.js~CoreServiceProvider#middleware",
    "access": "public",
    "description": "",
    "lineNumber": 183,
    "unknown": [
      {
        "tagName": "@readonly",
        "tagValue": ""
      }
    ],
    "type": {
      "nullable": null,
      "types": [
        "Middleware"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 453,
    "kind": "method",
    "name": "provides",
    "memberof": "src/providers/core.js~CoreServiceProvider",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "src/providers/core.js~CoreServiceProvider.provides",
    "access": "public",
    "description": "Get a list of services this provider registers.",
    "lineNumber": 192,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{String[]}"
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "String[]"
      ],
      "spread": false,
      "description": ""
    },
    "params": []
  },
  {
    "__docId__": 454,
    "kind": "method",
    "name": "destroy",
    "memberof": "src/providers/core.js~CoreServiceProvider",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/providers/core.js~CoreServiceProvider#destroy",
    "access": "public",
    "description": "Destroys provider.",
    "lineNumber": 216,
    "params": [],
    "return": null
  },
  {
    "__docId__": 455,
    "kind": "method",
    "name": "init",
    "memberof": "src/providers/core.js~CoreServiceProvider",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/providers/core.js~CoreServiceProvider#init",
    "access": "public",
    "description": "Initializes provider.",
    "lineNumber": 230,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{Promise<undefined>}"
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "Promise<undefined>"
      ],
      "spread": false,
      "description": ""
    },
    "params": []
  },
  {
    "__docId__": 456,
    "kind": "method",
    "name": "start",
    "memberof": "src/providers/core.js~CoreServiceProvider",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/providers/core.js~CoreServiceProvider#start",
    "access": "public",
    "description": "Starts provider.",
    "lineNumber": 244,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{Promise<undefined>}"
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "Promise<undefined>"
      ],
      "spread": false,
      "description": ""
    },
    "params": []
  },
  {
    "__docId__": 457,
    "kind": "method",
    "name": "registerContracts",
    "memberof": "src/providers/core.js~CoreServiceProvider",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/providers/core.js~CoreServiceProvider#registerContracts",
    "access": "public",
    "description": "Registers contracts.",
    "lineNumber": 263,
    "params": [],
    "return": null
  },
  {
    "__docId__": 458,
    "kind": "method",
    "name": "createGlobalApi",
    "memberof": "src/providers/core.js~CoreServiceProvider",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/providers/core.js~CoreServiceProvider#createGlobalApi",
    "access": "public",
    "description": "Expose some internals to global.",
    "lineNumber": 330,
    "params": [],
    "return": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 459,
    "kind": "method",
    "name": "_onDistChanged",
    "memberof": "src/providers/core.js~CoreServiceProvider",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/providers/core.js~CoreServiceProvider#_onDistChanged",
    "access": "private",
    "description": "Event when dist changes from a build or deployment.",
    "lineNumber": 369,
    "params": [
      {
        "nullable": null,
        "types": [
          "String"
        ],
        "spread": false,
        "optional": false,
        "name": "filename",
        "description": "The resource filename"
      }
    ],
    "return": null
  },
  {
    "__docId__": 460,
    "kind": "method",
    "name": "_onPackageChanged",
    "memberof": "src/providers/core.js~CoreServiceProvider",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/providers/core.js~CoreServiceProvider#_onPackageChanged",
    "access": "private",
    "description": "Event when package dist changes from a build or deployment.",
    "lineNumber": 396,
    "params": [
      {
        "nullable": null,
        "types": [
          "String"
        ],
        "spread": false,
        "optional": false,
        "name": "name",
        "description": "The package name"
      }
    ],
    "return": null
  },
  {
    "__docId__": 461,
    "kind": "method",
    "name": "createWindowContract",
    "memberof": "src/providers/core.js~CoreServiceProvider",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/providers/core.js~CoreServiceProvider#createWindowContract",
    "access": "public",
    "description": "Provides window contract.",
    "lineNumber": 407,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{CoreProviderWindowContract}"
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "CoreProviderWindowContract"
      ],
      "spread": false,
      "description": ""
    },
    "params": []
  },
  {
    "__docId__": 462,
    "kind": "method",
    "name": "createDnDContract",
    "memberof": "src/providers/core.js~CoreServiceProvider",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/providers/core.js~CoreServiceProvider#createDnDContract",
    "access": "public",
    "description": "Provides DnD contract.",
    "lineNumber": 419,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{CoreProviderDnDContract}"
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "CoreProviderDnDContract"
      ],
      "spread": false,
      "description": ""
    },
    "params": []
  },
  {
    "__docId__": 463,
    "kind": "method",
    "name": "createDOMContract",
    "memberof": "src/providers/core.js~CoreServiceProvider",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/providers/core.js~CoreServiceProvider#createDOMContract",
    "access": "public",
    "description": "Provides DOM contract.",
    "lineNumber": 427,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{CoreProviderDOMContract}"
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "CoreProviderDOMContract"
      ],
      "spread": false,
      "description": ""
    },
    "params": []
  },
  {
    "__docId__": 464,
    "kind": "method",
    "name": "createThemeContract",
    "memberof": "src/providers/core.js~CoreServiceProvider",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/providers/core.js~CoreServiceProvider#createThemeContract",
    "access": "public",
    "description": "Provides Theme contract.",
    "lineNumber": 438,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{CoreProviderThemeContract}"
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "CoreProviderThemeContract"
      ],
      "spread": false,
      "description": ""
    },
    "params": []
  },
  {
    "__docId__": 465,
    "kind": "method",
    "name": "createSoundsContract",
    "memberof": "src/providers/core.js~CoreServiceProvider",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/providers/core.js~CoreServiceProvider#createSoundsContract",
    "access": "public",
    "description": "Provides Sounds contract.",
    "lineNumber": 451,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{CoreProviderSoundContract}"
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "CoreProviderSoundContract"
      ],
      "spread": false,
      "description": ""
    },
    "params": []
  },
  {
    "__docId__": 466,
    "kind": "method",
    "name": "createSessionContract",
    "memberof": "src/providers/core.js~CoreServiceProvider",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/providers/core.js~CoreServiceProvider#createSessionContract",
    "access": "public",
    "description": "Provides Session contract.",
    "lineNumber": 476,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{CoreProviderSessionContract}"
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "CoreProviderSessionContract"
      ],
      "spread": false,
      "description": ""
    },
    "params": []
  },
  {
    "__docId__": 467,
    "kind": "method",
    "name": "createPackagesContract",
    "memberof": "src/providers/core.js~CoreServiceProvider",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/providers/core.js~CoreServiceProvider#createPackagesContract",
    "access": "public",
    "description": "Provides Packages contract.",
    "lineNumber": 487,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{CoreProviderPackagesContract}"
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "CoreProviderPackagesContract"
      ],
      "spread": false,
      "description": ""
    },
    "params": []
  },
  {
    "__docId__": 468,
    "kind": "method",
    "name": "createClipboardContract",
    "memberof": "src/providers/core.js~CoreServiceProvider",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/providers/core.js~CoreServiceProvider#createClipboardContract",
    "access": "public",
    "description": "Provides Clipboard contract.",
    "lineNumber": 505,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{CoreProviderClipboardContract}"
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "CoreProviderClipboardContract"
      ],
      "spread": false,
      "description": ""
    },
    "params": []
  },
  {
    "__docId__": 469,
    "kind": "method",
    "name": "createMiddlewareContract",
    "memberof": "src/providers/core.js~CoreServiceProvider",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/providers/core.js~CoreServiceProvider#createMiddlewareContract",
    "access": "public",
    "description": "Provides Middleware contract.",
    "lineNumber": 518,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{CoreProviderMiddlewareContract}"
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "CoreProviderMiddlewareContract"
      ],
      "spread": false,
      "description": ""
    },
    "params": []
  },
  {
    "__docId__": 470,
    "kind": "method",
    "name": "createTrayContract",
    "memberof": "src/providers/core.js~CoreServiceProvider",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/providers/core.js~CoreServiceProvider#createTrayContract",
    "access": "public",
    "description": "Provides Tray contract.",
    "lineNumber": 529,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{CoreProviderTrayContract}"
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "CoreProviderTrayContract"
      ],
      "spread": false,
      "description": ""
    },
    "params": []
  },
  {
    "__docId__": 471,
    "kind": "file",
    "name": "src/providers/desktop.js",
    "content": "/**\n * OS.js - JavaScript Cloud/Web Desktop Platform\n *\n * Copyright (c) 2011-Present, Anders Evenrud <andersevenrud@gmail.com>\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *\n * 1. Redistributions of source code must retain the above copyright notice, this\n *    list of conditions and the following disclaimer\n * 2. Redistributions in binary form must reproduce the above copyright notice,\n *    this list of conditions and the following disclaimer in the documentation\n *    and/or other materials provided with the distribution\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\n * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR\n * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n *\n * @author  Anders Evenrud <andersevenrud@gmail.com>\n * @license Simplified BSD License\n */\n\nimport { ServiceProvider } from \"@meeseOS/common\";\nimport Desktop from \"../desktop\";\n\n/**\n * Desktop Service Contract\n * @typedef {Object} DeskopProviderContract\n * @property {Function} setKeyboardContext\n * @property {Function} openContextMenu\n * @property {Function} addContextMenuEntries\n * @property {Function} applySettings\n * @property {Function} createDropContextMenu\n * @property {Function} getRect\n */\n\n/**\n * MeeseOS Desktop Service Provider\n */\nexport default class DesktopServiceProvider extends ServiceProvider {\n\t/**\n\t * Create new instance.\n\t * @param {Core} core MeeseOS Core instance reference\n\t * @param {Object} [options={}] Arguments\n\t */\n\tconstructor(core, options = {}) {\n\t\tsuper(core, options || {});\n\n\t\t/**\n\t\t * @type {Desktop}\n\t\t * @readonly\n\t\t */\n\t\tthis.desktop = new Desktop(this.core, this.options);\n\t}\n\n\t/**\n\t * Get a list of services this provider registers.\n\t * @returns {String[]}\n\t */\n\tstatic provides() {\n\t\treturn [\"meeseOS/desktop\"];\n\t}\n\n\t/**\n\t * Initializes desktop.\n\t * @returns {Promise<undefined>}\n\t */\n\tinit() {\n\t\tthis.desktop.init();\n\n\t\tthis.core.singleton(\"meeseOS/desktop\", () => this.createDesktopContract());\n\n\t\tthis.core.on(\"meeseOS/core:started\", () => {\n\t\t\tthis.desktop.applySettings();\n\t\t});\n\t}\n\n\t/**\n\t * Destroys instance.\n\t */\n\tdestroy() {\n\t\tthis.desktop = this.desktop.destroy();\n\t}\n\n\t/**\n\t * Starts desktop.\n\t * @returns {Promise<undefined>}\n\t */\n\tstart() {\n\t\tthis.desktop.start();\n\t}\n\n\t/**\n\t * @returns {DeskopProviderContract}\n\t */\n\tcreateDesktopContract() {\n\t\treturn {\n\t\t\tsetKeyboardContext: (ctx) => this.desktop.setKeyboardContext(ctx),\n\t\t\topenContextMenu: (ev) => this.desktop.onContextMenu(ev),\n\t\t\taddContextMenuEntries: (entries) => this.desktop.addContextMenu(entries),\n\t\t\tapplySettings: (settings) => this.desktop.applySettings(settings),\n\t\t\tcreateDropContextMenu: (data) => this.desktop.createDropContextMenu(data),\n\t\t\tgetRect: () => this.desktop.getRect(),\n\t\t};\n\t}\n}\n",
    "static": true,
    "longname": "/home/runner/work/meeseOS/meeseOS/frontend/client/src/providers/desktop.js",
    "access": "public",
    "description": null,
    "lineNumber": 1
  },
  {
    "__docId__": 472,
    "kind": "typedef",
    "name": "DeskopProviderContract",
    "memberof": "src/providers/desktop.js",
    "static": true,
    "longname": "src/providers/desktop.js~DeskopProviderContract",
    "access": "public",
    "description": "Desktop Service Contract",
    "properties": [
      {
        "nullable": null,
        "types": [
          "Function"
        ],
        "spread": false,
        "optional": false,
        "name": "setKeyboardContext",
        "description": ""
      },
      {
        "nullable": null,
        "types": [
          "Function"
        ],
        "spread": false,
        "optional": false,
        "name": "openContextMenu",
        "description": ""
      },
      {
        "nullable": null,
        "types": [
          "Function"
        ],
        "spread": false,
        "optional": false,
        "name": "addContextMenuEntries",
        "description": ""
      },
      {
        "nullable": null,
        "types": [
          "Function"
        ],
        "spread": false,
        "optional": false,
        "name": "applySettings",
        "description": ""
      },
      {
        "nullable": null,
        "types": [
          "Function"
        ],
        "spread": false,
        "optional": false,
        "name": "createDropContextMenu",
        "description": ""
      },
      {
        "nullable": null,
        "types": [
          "Function"
        ],
        "spread": false,
        "optional": false,
        "name": "getRect",
        "description": ""
      }
    ],
    "type": {
      "types": [
        "Object"
      ],
      "optional": false,
      "name": "DeskopProviderContract"
    }
  },
  {
    "__docId__": 473,
    "kind": "class",
    "name": "DesktopServiceProvider",
    "memberof": "src/providers/desktop.js",
    "static": true,
    "longname": "src/providers/desktop.js~DesktopServiceProvider",
    "access": "public",
    "export": true,
    "importPath": "@meeseOS/client/src/providers/desktop.js",
    "importStyle": "DesktopServiceProvider",
    "description": "MeeseOS Desktop Service Provider",
    "lineNumber": 48,
    "interface": false,
    "extends": [
      "@meeseOS/common~ServiceProvider"
    ]
  },
  {
    "__docId__": 474,
    "kind": "constructor",
    "name": "constructor",
    "memberof": "src/providers/desktop.js~DesktopServiceProvider",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/providers/desktop.js~DesktopServiceProvider#constructor",
    "access": "public",
    "description": "Create new instance.",
    "lineNumber": 54,
    "params": [
      {
        "nullable": null,
        "types": [
          "Core"
        ],
        "spread": false,
        "optional": false,
        "name": "core",
        "description": "MeeseOS Core instance reference"
      },
      {
        "nullable": null,
        "types": [
          "Object"
        ],
        "spread": false,
        "optional": true,
        "defaultValue": "{}",
        "defaultRaw": {},
        "name": "options",
        "description": "Arguments"
      }
    ]
  },
  {
    "__docId__": 475,
    "kind": "member",
    "name": "desktop",
    "memberof": "src/providers/desktop.js~DesktopServiceProvider",
    "static": false,
    "longname": "src/providers/desktop.js~DesktopServiceProvider#desktop",
    "access": "public",
    "description": "",
    "lineNumber": 61,
    "unknown": [
      {
        "tagName": "@readonly",
        "tagValue": ""
      }
    ],
    "type": {
      "nullable": null,
      "types": [
        "Desktop"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 476,
    "kind": "method",
    "name": "provides",
    "memberof": "src/providers/desktop.js~DesktopServiceProvider",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "src/providers/desktop.js~DesktopServiceProvider.provides",
    "access": "public",
    "description": "Get a list of services this provider registers.",
    "lineNumber": 68,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{String[]}"
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "String[]"
      ],
      "spread": false,
      "description": ""
    },
    "params": []
  },
  {
    "__docId__": 477,
    "kind": "method",
    "name": "init",
    "memberof": "src/providers/desktop.js~DesktopServiceProvider",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/providers/desktop.js~DesktopServiceProvider#init",
    "access": "public",
    "description": "Initializes desktop.",
    "lineNumber": 76,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{Promise<undefined>}"
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "Promise<undefined>"
      ],
      "spread": false,
      "description": ""
    },
    "params": []
  },
  {
    "__docId__": 478,
    "kind": "method",
    "name": "destroy",
    "memberof": "src/providers/desktop.js~DesktopServiceProvider",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/providers/desktop.js~DesktopServiceProvider#destroy",
    "access": "public",
    "description": "Destroys instance.",
    "lineNumber": 89,
    "params": [],
    "return": null
  },
  {
    "__docId__": 480,
    "kind": "method",
    "name": "start",
    "memberof": "src/providers/desktop.js~DesktopServiceProvider",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/providers/desktop.js~DesktopServiceProvider#start",
    "access": "public",
    "description": "Starts desktop.",
    "lineNumber": 97,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{Promise<undefined>}"
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "Promise<undefined>"
      ],
      "spread": false,
      "description": ""
    },
    "params": []
  },
  {
    "__docId__": 481,
    "kind": "method",
    "name": "createDesktopContract",
    "memberof": "src/providers/desktop.js~DesktopServiceProvider",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/providers/desktop.js~DesktopServiceProvider#createDesktopContract",
    "access": "public",
    "description": "",
    "lineNumber": 104,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{DeskopProviderContract}"
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "DeskopProviderContract"
      ],
      "spread": false,
      "description": ""
    },
    "params": []
  },
  {
    "__docId__": 482,
    "kind": "file",
    "name": "src/providers/notifications.js",
    "content": "/**\n * OS.js - JavaScript Cloud/Web Desktop Platform\n *\n * Copyright (c) 2011-Present, Anders Evenrud <andersevenrud@gmail.com>\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *\n * 1. Redistributions of source code must retain the above copyright notice, this\n *    list of conditions and the following disclaimer\n * 2. Redistributions in binary form must reproduce the above copyright notice,\n *    this list of conditions and the following disclaimer in the documentation\n *    and/or other materials provided with the distribution\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\n * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR\n * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n *\n * @author  Anders Evenrud <andersevenrud@gmail.com>\n * @license Simplified BSD License\n */\n\nimport Notifications from \"../notifications\";\nimport { ServiceProvider } from \"@meeseOS/common\";\n\n/**\n * MeeseOS Notification Service Provider\n */\nexport default class NotificationServiceProvider extends ServiceProvider {\n\t/**\n\t * Create new instance.\n\t * @param {Core} core MeeseOS Core instance reference\n\t */\n\tconstructor(core) {\n\t\tsuper(core);\n\n\t\t/**\n\t\t * @type {Notifications}\n\t\t * @readonly\n\t\t */\n\t\tthis.notifications = new Notifications(core);\n\t}\n\n\t/**\n\t * Get a list of services this provider registers.\n\t * @returns {String[]}\n\t */\n\tstatic provides() {\n\t\treturn [\"meeseOS/notification\"];\n\t}\n\n\t/**\n\t * Initializes the service provider.\n\t * @returns {Promise<undefined>}\n\t */\n\tinit() {\n\t\tthis.core.instance(\"meeseOS/notification\", (options) =>\n\t\t\tthis.notifications.create(options)\n\t\t);\n\n\t\treturn this.notifications.init();\n\t}\n\n\t/**\n\t * Destroys notifications.\n\t */\n\tdestroy() {\n\t\tthis.notifications.destroy();\n\t}\n}\n",
    "static": true,
    "longname": "/home/runner/work/meeseOS/meeseOS/frontend/client/src/providers/notifications.js",
    "access": "public",
    "description": null,
    "lineNumber": 1
  },
  {
    "__docId__": 483,
    "kind": "class",
    "name": "NotificationServiceProvider",
    "memberof": "src/providers/notifications.js",
    "static": true,
    "longname": "src/providers/notifications.js~NotificationServiceProvider",
    "access": "public",
    "export": true,
    "importPath": "@meeseOS/client/src/providers/notifications.js",
    "importStyle": "NotificationServiceProvider",
    "description": "MeeseOS Notification Service Provider",
    "lineNumber": 37,
    "interface": false,
    "extends": [
      "@meeseOS/common~ServiceProvider"
    ]
  },
  {
    "__docId__": 484,
    "kind": "constructor",
    "name": "constructor",
    "memberof": "src/providers/notifications.js~NotificationServiceProvider",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/providers/notifications.js~NotificationServiceProvider#constructor",
    "access": "public",
    "description": "Create new instance.",
    "lineNumber": 42,
    "params": [
      {
        "nullable": null,
        "types": [
          "Core"
        ],
        "spread": false,
        "optional": false,
        "name": "core",
        "description": "MeeseOS Core instance reference"
      }
    ]
  },
  {
    "__docId__": 485,
    "kind": "member",
    "name": "notifications",
    "memberof": "src/providers/notifications.js~NotificationServiceProvider",
    "static": false,
    "longname": "src/providers/notifications.js~NotificationServiceProvider#notifications",
    "access": "public",
    "description": "",
    "lineNumber": 49,
    "unknown": [
      {
        "tagName": "@readonly",
        "tagValue": ""
      }
    ],
    "type": {
      "nullable": null,
      "types": [
        "Notifications"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 486,
    "kind": "method",
    "name": "provides",
    "memberof": "src/providers/notifications.js~NotificationServiceProvider",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "src/providers/notifications.js~NotificationServiceProvider.provides",
    "access": "public",
    "description": "Get a list of services this provider registers.",
    "lineNumber": 56,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{String[]}"
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "String[]"
      ],
      "spread": false,
      "description": ""
    },
    "params": []
  },
  {
    "__docId__": 487,
    "kind": "method",
    "name": "init",
    "memberof": "src/providers/notifications.js~NotificationServiceProvider",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/providers/notifications.js~NotificationServiceProvider#init",
    "access": "public",
    "description": "Initializes the service provider.",
    "lineNumber": 64,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{Promise<undefined>}"
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "Promise<undefined>"
      ],
      "spread": false,
      "description": ""
    },
    "params": []
  },
  {
    "__docId__": 488,
    "kind": "method",
    "name": "destroy",
    "memberof": "src/providers/notifications.js~NotificationServiceProvider",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/providers/notifications.js~NotificationServiceProvider#destroy",
    "access": "public",
    "description": "Destroys notifications.",
    "lineNumber": 75,
    "params": [],
    "return": null
  },
  {
    "__docId__": 489,
    "kind": "file",
    "name": "src/providers/settings.js",
    "content": "/**\n * OS.js - JavaScript Cloud/Web Desktop Platform\n *\n * Copyright (c) 2011-Present, Anders Evenrud <andersevenrud@gmail.com>\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *\n * 1. Redistributions of source code must retain the above copyright notice, this\n *    list of conditions and the following disclaimer\n * 2. Redistributions in binary form must reproduce the above copyright notice,\n *    this list of conditions and the following disclaimer in the documentation\n *    and/or other materials provided with the distribution\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\n * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR\n * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n *\n * @author  Anders Evenrud <andersevenrud@gmail.com>\n * @license Simplified BSD License\n */\n\nimport { ServiceProvider } from \"@meeseOS/common\";\nimport Settings from \"../settings\";\n\n/**\n * Settings Service Contract\n * @typedef {Object} SettingsProviderContract\n * @property {Function} save\n * @property {Function} load\n * @property {Function} clear\n * @property {Function} set\n * @property {Function} get\n */\n\n/**\n * TODO: typedef\n * @typedef {Object} SettingsServiceOptions\n * @property {Object} [config]\n */\n\n/**\n * MeeseOS Settings Service Provider\n */\nexport default class SettingsServiceProvider extends ServiceProvider {\n\t/**\n\t * Create new instance.\n\t * @param {Core} core MeeseOS Core instance reference\n\t * @param {SettingsProviderContract} [options={}]\n\t */\n\tconstructor(core, options = {}) {\n\t\tsuper(core);\n\n\t\t/**\n\t\t * @type {Settings}\n\t\t * @readonly\n\t\t */\n\t\tthis.settings = new Settings(core, {\n\t\t\tconfig: {},\n\t\t\t...options,\n\t\t});\n\t}\n\n\t/**\n\t * Get a list of services this provider registers.\n\t * @returns {String[]}\n\t */\n\tstatic provides() {\n\t\treturn [\"meeseOS/settings\"];\n\t}\n\n\t/**\n\t * Initializes settings.\n\t * @returns {Promise<undefined>}\n\t */\n\tinit() {\n\t\tthis.core.singleton(\"meeseOS/settings\", () =>\n\t\t\tthis.createSettingsContract()\n\t\t);\n\n\t\treturn this.settings.init();\n\t}\n\n\t/**\n\t * @returns {SettingsProviderContract}\n\t */\n\tcreateSettingsContract() {\n\t\treturn {\n\t\t\tsave: () => this.settings.save(),\n\t\t\tload: () => this.settings.load(),\n\t\t\tclear: (ns) => this.settings.clear(ns),\n\t\t\tget: (ns, key, defaultValue) => this.settings.get(ns, key, defaultValue),\n\t\t\tset: (ns, key, value) => this.settings.set(ns, key, value),\n\t\t};\n\t}\n}\n",
    "static": true,
    "longname": "/home/runner/work/meeseOS/meeseOS/frontend/client/src/providers/settings.js",
    "access": "public",
    "description": null,
    "lineNumber": 1
  },
  {
    "__docId__": 490,
    "kind": "typedef",
    "name": "SettingsProviderContract",
    "memberof": "src/providers/settings.js",
    "static": true,
    "longname": "src/providers/settings.js~SettingsProviderContract",
    "access": "public",
    "description": "Settings Service Contract",
    "properties": [
      {
        "nullable": null,
        "types": [
          "Function"
        ],
        "spread": false,
        "optional": false,
        "name": "save",
        "description": ""
      },
      {
        "nullable": null,
        "types": [
          "Function"
        ],
        "spread": false,
        "optional": false,
        "name": "load",
        "description": ""
      },
      {
        "nullable": null,
        "types": [
          "Function"
        ],
        "spread": false,
        "optional": false,
        "name": "clear",
        "description": ""
      },
      {
        "nullable": null,
        "types": [
          "Function"
        ],
        "spread": false,
        "optional": false,
        "name": "set",
        "description": ""
      },
      {
        "nullable": null,
        "types": [
          "Function"
        ],
        "spread": false,
        "optional": false,
        "name": "get",
        "description": ""
      }
    ],
    "type": {
      "types": [
        "Object"
      ],
      "optional": false,
      "name": "SettingsProviderContract"
    }
  },
  {
    "__docId__": 491,
    "kind": "typedef",
    "name": "SettingsServiceOptions",
    "memberof": "src/providers/settings.js",
    "static": true,
    "longname": "src/providers/settings.js~SettingsServiceOptions",
    "access": "public",
    "description": "TODO: typedef",
    "properties": [
      {
        "nullable": null,
        "types": [
          "Object"
        ],
        "spread": false,
        "optional": true,
        "name": "config",
        "description": ""
      }
    ],
    "type": {
      "types": [
        "Object"
      ],
      "optional": false,
      "name": "SettingsServiceOptions"
    }
  },
  {
    "__docId__": 492,
    "kind": "class",
    "name": "SettingsServiceProvider",
    "memberof": "src/providers/settings.js",
    "static": true,
    "longname": "src/providers/settings.js~SettingsServiceProvider",
    "access": "public",
    "export": true,
    "importPath": "@meeseOS/client/src/providers/settings.js",
    "importStyle": "SettingsServiceProvider",
    "description": "MeeseOS Settings Service Provider",
    "lineNumber": 53,
    "interface": false,
    "extends": [
      "@meeseOS/common~ServiceProvider"
    ]
  },
  {
    "__docId__": 493,
    "kind": "constructor",
    "name": "constructor",
    "memberof": "src/providers/settings.js~SettingsServiceProvider",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/providers/settings.js~SettingsServiceProvider#constructor",
    "access": "public",
    "description": "Create new instance.",
    "lineNumber": 59,
    "params": [
      {
        "nullable": null,
        "types": [
          "Core"
        ],
        "spread": false,
        "optional": false,
        "name": "core",
        "description": "MeeseOS Core instance reference"
      },
      {
        "nullable": null,
        "types": [
          "SettingsProviderContract"
        ],
        "spread": false,
        "optional": true,
        "defaultValue": "{}",
        "defaultRaw": {},
        "name": "options",
        "description": ""
      }
    ]
  },
  {
    "__docId__": 494,
    "kind": "member",
    "name": "settings",
    "memberof": "src/providers/settings.js~SettingsServiceProvider",
    "static": false,
    "longname": "src/providers/settings.js~SettingsServiceProvider#settings",
    "access": "public",
    "description": "",
    "lineNumber": 66,
    "unknown": [
      {
        "tagName": "@readonly",
        "tagValue": ""
      }
    ],
    "type": {
      "nullable": null,
      "types": [
        "Settings"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 495,
    "kind": "method",
    "name": "provides",
    "memberof": "src/providers/settings.js~SettingsServiceProvider",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "src/providers/settings.js~SettingsServiceProvider.provides",
    "access": "public",
    "description": "Get a list of services this provider registers.",
    "lineNumber": 76,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{String[]}"
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "String[]"
      ],
      "spread": false,
      "description": ""
    },
    "params": []
  },
  {
    "__docId__": 496,
    "kind": "method",
    "name": "init",
    "memberof": "src/providers/settings.js~SettingsServiceProvider",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/providers/settings.js~SettingsServiceProvider#init",
    "access": "public",
    "description": "Initializes settings.",
    "lineNumber": 84,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{Promise<undefined>}"
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "Promise<undefined>"
      ],
      "spread": false,
      "description": ""
    },
    "params": []
  },
  {
    "__docId__": 497,
    "kind": "method",
    "name": "createSettingsContract",
    "memberof": "src/providers/settings.js~SettingsServiceProvider",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/providers/settings.js~SettingsServiceProvider#createSettingsContract",
    "access": "public",
    "description": "",
    "lineNumber": 95,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{SettingsProviderContract}"
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "SettingsProviderContract"
      ],
      "spread": false,
      "description": ""
    },
    "params": []
  },
  {
    "__docId__": 498,
    "kind": "file",
    "name": "src/providers/vfs.js",
    "content": "/**\n * OS.js - JavaScript Cloud/Web Desktop Platform\n *\n * Copyright (c) 2011-Present, Anders Evenrud <andersevenrud@gmail.com>\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *\n * 1. Redistributions of source code must retain the above copyright notice, this\n *    list of conditions and the following disclaimer\n * 2. Redistributions in binary form must reproduce the above copyright notice,\n *    this list of conditions and the following disclaimer in the documentation\n *    and/or other materials provided with the distribution\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\n * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR\n * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n *\n * @author  Anders Evenrud <andersevenrud@gmail.com>\n * @license Simplified BSD License\n */\n\nimport { ServiceProvider } from \"@meeseOS/common\";\nimport * as utils from \"../utils/vfs\";\nimport Filesystem from \"../filesystem\";\n\n/**\n * Filesytem Service Contract\n * TODO: typedef\n * @typedef {Object} VFSServiceFilesystemContract\n * @property {Function} basename\n * @property {Function} pathname\n * @property {Function} pathJoin\n * @property {Function} icon\n * @property {Function} mountpoints\n * @property {Function} mount\n * @property {Function} unmount\n * @property {Function} addMountpoint\n */\n\n/**\n * VFS Service Contract\n * TODO: typedef\n * @typedef {Object} VFSServiceContract\n * @property {Function} readdir\n * @property {Function} readfile\n * @property {Function} writefile\n * @property {Function} copy\n * @property {Function} move\n * @property {Function} rename\n * @property {Function} mkdir\n * @property {Function} unlink\n * @property {Function} exists\n * @property {Function} stat\n * @property {Function} url\n * @property {Function} download\n * @property {Function} search\n * @property {Function} touch\n * @property {Function} archive\n */\n\n/**\n * VFS Service Options\n * @typedef {Object} VFSServiceOptions\n * @property {{name: FilesystemAdapter}} [adapters={}]\n * @property {FilesystemMountpoint[]} [mountpoints=[]]\n */\n\n/**\n * MeeseOS Virtual Filesystem Service Provider\n */\nexport default class VFSServiceProvider extends ServiceProvider {\n\t/**\n\t * @param {Core} core MeeseOS Core instance reference\n\t * @param {VFSServiceOptions} [options={}]\n\t */\n\tconstructor(core, options = {}) {\n\t\tsuper(core);\n\n\t\t/**\n\t\t * @type {Filesystem}\n\t\t * @readonly\n\t\t */\n\t\tthis.fs = new Filesystem(core, {\n\t\t\tadapters: options.adapters || {},\n\t\t\tmounts: options.mounts || [],\n\t\t});\n\t}\n\n\t/**\n\t * Get a list of services this provider registers\n\t * @returns {String[]}\n\t */\n\tstatic provides() {\n\t\treturn [\"meeseOS/vfs\", \"meeseOS/fs\"];\n\t}\n\n\t/**\n\t * Initializes VFS providers\n\t * @returns {Promise<undefined>}\n\t */\n\tinit() {\n\t\tthis.core.singleton(\"meeseOS/vfs\", () => this.createVFSContract());\n\t\tthis.core.singleton(\"meeseOS/fs\", () => this.createFilesystemContract());\n\n\t\treturn this.fs.mountAll(false);\n\t}\n\n\t/**\n\t * @returns {VFSServiceContract}\n\t */\n\tcreateVFSContract() {\n\t\treturn this.fs.request();\n\t}\n\n\t/**\n\t * @returns {VFSServiceFilesystemContract}\n\t */\n\tcreateFilesystemContract() {\n\t\tconst iconMap = this.core.config(\"vfs.icons\", {});\n\t\tconst icon = utils.getFileIcon(iconMap);\n\n\t\treturn {\n\t\t\tbasename: (p) => utils.basename(p),\n\t\t\tpathname: (p) => utils.pathname(p),\n\t\t\tpathJoin: (...args) => utils.pathJoin(...args),\n\t\t\ticon: icon,\n\t\t\tmountpoints: (all = false) => this.fs.getMounts(all),\n\t\t\taddMountpoint: (props, automount = true) =>\n\t\t\t\tthis.fs.addMountpoint(props, automount),\n\t\t\tmount: (m) => this.fs.mount(m),\n\t\t\tunmount: (name) => this.fs.unmount(name),\n\t\t};\n\t}\n}\n",
    "static": true,
    "longname": "/home/runner/work/meeseOS/meeseOS/frontend/client/src/providers/vfs.js",
    "access": "public",
    "description": null,
    "lineNumber": 1
  },
  {
    "__docId__": 499,
    "kind": "typedef",
    "name": "VFSServiceFilesystemContract",
    "memberof": "src/providers/vfs.js",
    "static": true,
    "longname": "src/providers/vfs.js~VFSServiceFilesystemContract",
    "access": "public",
    "description": "Filesytem Service Contract\nTODO: typedef",
    "properties": [
      {
        "nullable": null,
        "types": [
          "Function"
        ],
        "spread": false,
        "optional": false,
        "name": "basename",
        "description": ""
      },
      {
        "nullable": null,
        "types": [
          "Function"
        ],
        "spread": false,
        "optional": false,
        "name": "pathname",
        "description": ""
      },
      {
        "nullable": null,
        "types": [
          "Function"
        ],
        "spread": false,
        "optional": false,
        "name": "pathJoin",
        "description": ""
      },
      {
        "nullable": null,
        "types": [
          "Function"
        ],
        "spread": false,
        "optional": false,
        "name": "icon",
        "description": ""
      },
      {
        "nullable": null,
        "types": [
          "Function"
        ],
        "spread": false,
        "optional": false,
        "name": "mountpoints",
        "description": ""
      },
      {
        "nullable": null,
        "types": [
          "Function"
        ],
        "spread": false,
        "optional": false,
        "name": "mount",
        "description": ""
      },
      {
        "nullable": null,
        "types": [
          "Function"
        ],
        "spread": false,
        "optional": false,
        "name": "unmount",
        "description": ""
      },
      {
        "nullable": null,
        "types": [
          "Function"
        ],
        "spread": false,
        "optional": false,
        "name": "addMountpoint",
        "description": ""
      }
    ],
    "type": {
      "types": [
        "Object"
      ],
      "optional": false,
      "name": "VFSServiceFilesystemContract"
    }
  },
  {
    "__docId__": 500,
    "kind": "typedef",
    "name": "VFSServiceContract",
    "memberof": "src/providers/vfs.js",
    "static": true,
    "longname": "src/providers/vfs.js~VFSServiceContract",
    "access": "public",
    "description": "VFS Service Contract\nTODO: typedef",
    "properties": [
      {
        "nullable": null,
        "types": [
          "Function"
        ],
        "spread": false,
        "optional": false,
        "name": "readdir",
        "description": ""
      },
      {
        "nullable": null,
        "types": [
          "Function"
        ],
        "spread": false,
        "optional": false,
        "name": "readfile",
        "description": ""
      },
      {
        "nullable": null,
        "types": [
          "Function"
        ],
        "spread": false,
        "optional": false,
        "name": "writefile",
        "description": ""
      },
      {
        "nullable": null,
        "types": [
          "Function"
        ],
        "spread": false,
        "optional": false,
        "name": "copy",
        "description": ""
      },
      {
        "nullable": null,
        "types": [
          "Function"
        ],
        "spread": false,
        "optional": false,
        "name": "move",
        "description": ""
      },
      {
        "nullable": null,
        "types": [
          "Function"
        ],
        "spread": false,
        "optional": false,
        "name": "rename",
        "description": ""
      },
      {
        "nullable": null,
        "types": [
          "Function"
        ],
        "spread": false,
        "optional": false,
        "name": "mkdir",
        "description": ""
      },
      {
        "nullable": null,
        "types": [
          "Function"
        ],
        "spread": false,
        "optional": false,
        "name": "unlink",
        "description": ""
      },
      {
        "nullable": null,
        "types": [
          "Function"
        ],
        "spread": false,
        "optional": false,
        "name": "exists",
        "description": ""
      },
      {
        "nullable": null,
        "types": [
          "Function"
        ],
        "spread": false,
        "optional": false,
        "name": "stat",
        "description": ""
      },
      {
        "nullable": null,
        "types": [
          "Function"
        ],
        "spread": false,
        "optional": false,
        "name": "url",
        "description": ""
      },
      {
        "nullable": null,
        "types": [
          "Function"
        ],
        "spread": false,
        "optional": false,
        "name": "download",
        "description": ""
      },
      {
        "nullable": null,
        "types": [
          "Function"
        ],
        "spread": false,
        "optional": false,
        "name": "search",
        "description": ""
      },
      {
        "nullable": null,
        "types": [
          "Function"
        ],
        "spread": false,
        "optional": false,
        "name": "touch",
        "description": ""
      },
      {
        "nullable": null,
        "types": [
          "Function"
        ],
        "spread": false,
        "optional": false,
        "name": "archive",
        "description": ""
      }
    ],
    "type": {
      "types": [
        "Object"
      ],
      "optional": false,
      "name": "VFSServiceContract"
    }
  },
  {
    "__docId__": 501,
    "kind": "typedef",
    "name": "VFSServiceOptions",
    "memberof": "src/providers/vfs.js",
    "static": true,
    "longname": "src/providers/vfs.js~VFSServiceOptions",
    "access": "public",
    "description": "VFS Service Options",
    "properties": [
      {
        "nullable": null,
        "types": [
          "{name: FilesystemAdapter}"
        ],
        "spread": false,
        "optional": true,
        "defaultValue": "{}",
        "defaultRaw": {},
        "name": "adapters",
        "description": ""
      },
      {
        "nullable": null,
        "types": [
          "FilesystemMountpoint[]"
        ],
        "spread": false,
        "optional": true,
        "defaultValue": "[]",
        "defaultRaw": [],
        "name": "mountpoints",
        "description": ""
      }
    ],
    "type": {
      "types": [
        "Object"
      ],
      "optional": false,
      "name": "VFSServiceOptions"
    }
  },
  {
    "__docId__": 502,
    "kind": "class",
    "name": "VFSServiceProvider",
    "memberof": "src/providers/vfs.js",
    "static": true,
    "longname": "src/providers/vfs.js~VFSServiceProvider",
    "access": "public",
    "export": true,
    "importPath": "@meeseOS/client/src/providers/vfs.js",
    "importStyle": "VFSServiceProvider",
    "description": "MeeseOS Virtual Filesystem Service Provider",
    "lineNumber": 80,
    "interface": false,
    "extends": [
      "@meeseOS/common~ServiceProvider"
    ]
  },
  {
    "__docId__": 503,
    "kind": "constructor",
    "name": "constructor",
    "memberof": "src/providers/vfs.js~VFSServiceProvider",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/providers/vfs.js~VFSServiceProvider#constructor",
    "access": "public",
    "description": "",
    "lineNumber": 85,
    "params": [
      {
        "nullable": null,
        "types": [
          "Core"
        ],
        "spread": false,
        "optional": false,
        "name": "core",
        "description": "MeeseOS Core instance reference"
      },
      {
        "nullable": null,
        "types": [
          "VFSServiceOptions"
        ],
        "spread": false,
        "optional": true,
        "defaultValue": "{}",
        "defaultRaw": {},
        "name": "options",
        "description": ""
      }
    ]
  },
  {
    "__docId__": 504,
    "kind": "member",
    "name": "fs",
    "memberof": "src/providers/vfs.js~VFSServiceProvider",
    "static": false,
    "longname": "src/providers/vfs.js~VFSServiceProvider#fs",
    "access": "public",
    "description": "",
    "lineNumber": 92,
    "unknown": [
      {
        "tagName": "@readonly",
        "tagValue": ""
      }
    ],
    "type": {
      "nullable": null,
      "types": [
        "Filesystem"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 505,
    "kind": "method",
    "name": "provides",
    "memberof": "src/providers/vfs.js~VFSServiceProvider",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "src/providers/vfs.js~VFSServiceProvider.provides",
    "access": "public",
    "description": "Get a list of services this provider registers",
    "lineNumber": 102,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{String[]}"
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "String[]"
      ],
      "spread": false,
      "description": ""
    },
    "params": []
  },
  {
    "__docId__": 506,
    "kind": "method",
    "name": "init",
    "memberof": "src/providers/vfs.js~VFSServiceProvider",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/providers/vfs.js~VFSServiceProvider#init",
    "access": "public",
    "description": "Initializes VFS providers",
    "lineNumber": 110,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{Promise<undefined>}"
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "Promise<undefined>"
      ],
      "spread": false,
      "description": ""
    },
    "params": []
  },
  {
    "__docId__": 507,
    "kind": "method",
    "name": "createVFSContract",
    "memberof": "src/providers/vfs.js~VFSServiceProvider",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/providers/vfs.js~VFSServiceProvider#createVFSContract",
    "access": "public",
    "description": "",
    "lineNumber": 120,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{VFSServiceContract}"
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "VFSServiceContract"
      ],
      "spread": false,
      "description": ""
    },
    "params": []
  },
  {
    "__docId__": 508,
    "kind": "method",
    "name": "createFilesystemContract",
    "memberof": "src/providers/vfs.js~VFSServiceProvider",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/providers/vfs.js~VFSServiceProvider#createFilesystemContract",
    "access": "public",
    "description": "",
    "lineNumber": 127,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{VFSServiceFilesystemContract}"
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "VFSServiceFilesystemContract"
      ],
      "spread": false,
      "description": ""
    },
    "params": []
  },
  {
    "__docId__": 509,
    "kind": "file",
    "name": "src/search.js",
    "content": "/**\n * OS.js - JavaScript Cloud/Web Desktop Platform\n *\n * Copyright (c) 2011-Present, Anders Evenrud <andersevenrud@gmail.com>\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *\n * 1. Redistributions of source code must retain the above copyright notice, this\n *    list of conditions and the following disclaimer\n * 2. Redistributions in binary form must reproduce the above copyright notice,\n *    this list of conditions and the following disclaimer in the documentation\n *    and/or other materials provided with the distribution\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\n * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR\n * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n *\n * @author  Anders Evenrud <andersevenrud@gmail.com>\n * @license Simplified BSD License\n */\nimport Window from \"./window\";\nimport createUI from \"./adapters/ui/search\";\nimport logger from \"./logger\";\n\n/**\n * Search Service\n */\nexport default class Search {\n\t/**\n\t * Create Search instance\n\t * @param {Core} core MeeseOS Core instance reference\n\t */\n\tconstructor(core) {\n\t\t/**\n\t\t * Core instance reference\n\t\t * @type {Core}\n\t\t * @readonly\n\t\t */\n\t\tthis.core = core;\n\n\t\t/**\n\t\t * Wired actions\n\t\t * @type {Object}\n\t\t */\n\t\tthis.ui = null;\n\n\t\t/**\n\t\t * Last focused window\n\t\t * @type {Window}\n\t\t */\n\t\tthis.focusLastWindow = null;\n\n\t\t/**\n\t\t * Search root DOM element\n\t\t * @type {Element}\n\t\t * @readonly\n\t\t */\n\t\tthis.$element = document.createElement(\"div\");\n\t}\n\n\t/**\n\t * Destroy Search instance\n\t */\n\tdestroy() {\n\t\tif (this.ui) {\n\t\t\tthis.ui.destroy();\n\t\t}\n\t}\n\n\t/**\n\t * Initializes Search Service\n\t */\n\tinit() {\n\t\tconst { icon } = this.core.make(\"meeseOS/theme\");\n\n\t\tthis.$element.className = \"meeseOS-search\";\n\t\tthis.core.$root.appendChild(this.$element);\n\n\t\tthis.core.make(\"meeseOS/tray\").create(\n\t\t\t{\n\t\t\t\ttitle: \"Search Filesystem (F3)\",\n\t\t\t\ticon: icon(\"system-search\"),\n\t\t\t},\n\t\t\t() => this.show()\n\t\t);\n\n\t\tthis.ui = createUI(this.core, this.$element);\n\t\tthis.ui.on(\"hide\", () => this.hide());\n\t\tthis.ui.on(\"open\", (iter) => this.core.open(iter));\n\t\tthis.ui.on(\"search\", (query) => {\n\t\t\tthis.search(query)\n\t\t\t\t.then((results) => this.ui.emit(\"success\", results))\n\t\t\t\t.catch((error) => this.ui.emit(\"error\", error));\n\t\t});\n\t}\n\n\t/**\n\t * Performs a search across all mounts\n\t * @param {String} pattern Search query\n\t * @returns {Promise<FileMetadata[]>}\n\t */\n\tsearch(pattern) {\n\t\tconst vfs = this.core.make(\"meeseOS/vfs\");\n\t\tconst promises = this.core\n\t\t\t.make(\"meeseOS/fs\")\n\t\t\t.mountpoints()\n\t\t\t.map((mount) => `${mount.name}:/`)\n\t\t\t.map((path) => {\n\t\t\t\treturn vfs.search({ path }, pattern).catch((error) => {\n\t\t\t\t\tlogger.warn(\"Error while searching\", error);\n\t\t\t\t\treturn [];\n\t\t\t\t});\n\t\t\t});\n\n\t\treturn Promise.all(promises).then((lists) => [].concat(...lists));\n\t}\n\n\t/**\n\t * Focuses UI\n\t */\n\tfocus() {\n\t\tif (this.ui) {\n\t\t\tthis.ui.emit(\"focus\");\n\t\t}\n\t}\n\n\t/**\n\t * Hides UI\n\t */\n\thide() {\n\t\tif (this.ui) {\n\t\t\tthis.ui.emit(\"toggle\", false);\n\n\t\t\tconst win = Window.lastWindow();\n\t\t\tif (this.focusLastWindow && win) {\n\t\t\t\twin.focus();\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t * Shows UI\n\t */\n\tshow() {\n\t\tif (this.ui) {\n\t\t\tconst win = Window.lastWindow();\n\n\t\t\tthis.focusLastWindow = win && win.blur();\n\n\t\t\tthis.ui.emit(\"toggle\", true);\n\t\t\tsetTimeout(() => this.focus(), 1);\n\t\t}\n\t}\n}\n",
    "static": true,
    "longname": "/home/runner/work/meeseOS/meeseOS/frontend/client/src/search.js",
    "access": "public",
    "description": null,
    "lineNumber": 1
  },
  {
    "__docId__": 510,
    "kind": "class",
    "name": "Search",
    "memberof": "src/search.js",
    "static": true,
    "longname": "src/search.js~Search",
    "access": "public",
    "export": true,
    "importPath": "@meeseOS/client/src/search.js",
    "importStyle": "Search",
    "description": "Search Service",
    "lineNumber": 37,
    "interface": false
  },
  {
    "__docId__": 511,
    "kind": "constructor",
    "name": "constructor",
    "memberof": "src/search.js~Search",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/search.js~Search#constructor",
    "access": "public",
    "description": "Create Search instance",
    "lineNumber": 42,
    "params": [
      {
        "nullable": null,
        "types": [
          "Core"
        ],
        "spread": false,
        "optional": false,
        "name": "core",
        "description": "MeeseOS Core instance reference"
      }
    ]
  },
  {
    "__docId__": 512,
    "kind": "member",
    "name": "core",
    "memberof": "src/search.js~Search",
    "static": false,
    "longname": "src/search.js~Search#core",
    "access": "public",
    "description": "Core instance reference",
    "lineNumber": 48,
    "unknown": [
      {
        "tagName": "@readonly",
        "tagValue": ""
      }
    ],
    "type": {
      "nullable": null,
      "types": [
        "Core"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 513,
    "kind": "member",
    "name": "ui",
    "memberof": "src/search.js~Search",
    "static": false,
    "longname": "src/search.js~Search#ui",
    "access": "public",
    "description": "Wired actions",
    "lineNumber": 54,
    "type": {
      "nullable": null,
      "types": [
        "Object"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 514,
    "kind": "member",
    "name": "focusLastWindow",
    "memberof": "src/search.js~Search",
    "static": false,
    "longname": "src/search.js~Search#focusLastWindow",
    "access": "public",
    "description": "Last focused window",
    "lineNumber": 60,
    "type": {
      "nullable": null,
      "types": [
        "Window"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 515,
    "kind": "member",
    "name": "$element",
    "memberof": "src/search.js~Search",
    "static": false,
    "longname": "src/search.js~Search#$element",
    "access": "public",
    "description": "Search root DOM element",
    "lineNumber": 67,
    "unknown": [
      {
        "tagName": "@readonly",
        "tagValue": ""
      }
    ],
    "type": {
      "nullable": null,
      "types": [
        "Element"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 516,
    "kind": "method",
    "name": "destroy",
    "memberof": "src/search.js~Search",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/search.js~Search#destroy",
    "access": "public",
    "description": "Destroy Search instance",
    "lineNumber": 73,
    "params": [],
    "return": null
  },
  {
    "__docId__": 517,
    "kind": "method",
    "name": "init",
    "memberof": "src/search.js~Search",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/search.js~Search#init",
    "access": "public",
    "description": "Initializes Search Service",
    "lineNumber": 82,
    "params": [],
    "return": null
  },
  {
    "__docId__": 519,
    "kind": "method",
    "name": "search",
    "memberof": "src/search.js~Search",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/search.js~Search#search",
    "access": "public",
    "description": "Performs a search across all mounts",
    "lineNumber": 111,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{Promise<FileMetadata[]>}"
      }
    ],
    "params": [
      {
        "nullable": null,
        "types": [
          "String"
        ],
        "spread": false,
        "optional": false,
        "name": "pattern",
        "description": "Search query"
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "Promise<FileMetadata[]>"
      ],
      "spread": false,
      "description": ""
    }
  },
  {
    "__docId__": 520,
    "kind": "method",
    "name": "focus",
    "memberof": "src/search.js~Search",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/search.js~Search#focus",
    "access": "public",
    "description": "Focuses UI",
    "lineNumber": 130,
    "params": [],
    "return": null
  },
  {
    "__docId__": 521,
    "kind": "method",
    "name": "hide",
    "memberof": "src/search.js~Search",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/search.js~Search#hide",
    "access": "public",
    "description": "Hides UI",
    "lineNumber": 139,
    "params": [],
    "return": null
  },
  {
    "__docId__": 522,
    "kind": "method",
    "name": "show",
    "memberof": "src/search.js~Search",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/search.js~Search#show",
    "access": "public",
    "description": "Shows UI",
    "lineNumber": 153,
    "params": [],
    "return": null
  },
  {
    "__docId__": 524,
    "kind": "file",
    "name": "src/session.js",
    "content": "/**\n * OS.js - JavaScript Cloud/Web Desktop Platform\n *\n * Copyright (c) 2011-Present, Anders Evenrud <andersevenrud@gmail.com>\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *\n * 1. Redistributions of source code must retain the above copyright notice, this\n *    list of conditions and the following disclaimer\n * 2. Redistributions in binary form must reproduce the above copyright notice,\n *    this list of conditions and the following disclaimer in the documentation\n *    and/or other materials provided with the distribution\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\n * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR\n * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n *\n * @author  Anders Evenrud <andersevenrud@gmail.com>\n * @license Simplified BSD License\n */\n\nimport Application from \"./application\";\nimport logger from \"./logger\";\n\n/**\n * Session Handler\n */\nexport default class Session {\n\t/**\n\t * Creates the Session Handler\n\t * @param {Core} core MeeseOS Core instance reference\n\t */\n\tconstructor(core) {\n\t\t/**\n\t\t * Core instance reference\n\t\t * @type {Core}\n\t\t * @readonly\n\t\t */\n\t\tthis.core = core;\n\t}\n\n\t/**\n\t * Destroys the session, logging out the user\n\t * @returns {Promise<Boolean>}\n\t */\n\tdestroy() {\n\t\tApplication.destroyAll();\n\t\treturn this.core\n\t\t\t.make(\"meeseOS/settings\")\n\t\t\t.set(\"meeseOS/session\", null, [])\n\t\t\t.save();\n\t}\n\n\t/**\n\t * Saves the session\n\t * @returns {Promise<Boolean>}\n\t */\n\tsave() {\n\t\tconst apps = Application.getApplications().filter(\n\t\t\t(a) => a.options.sessionable !== false\n\t\t);\n\n\t\tconst session = apps.map((app) => app.getSession());\n\n\t\treturn this.core\n\t\t\t.make(\"meeseOS/settings\")\n\t\t\t.set(\"meeseOS/session\", null, session)\n\t\t\t.save();\n\t}\n\n\t/**\n\t * Loads session\n\t * @param {Boolean} [fresh=false] Kill all current applications first\n\t * @returns {Promise<Boolean>}\n\t */\n\tload(fresh = false) {\n\t\tif (fresh) {\n\t\t\tApplication.destroyAll();\n\t\t}\n\n\t\tlet session = this.core.make(\"meeseOS/settings\").get(\"meeseOS/session\");\n\n\t\tif (session && !(session instanceof Array)) {\n\t\t\tsession = Object.values(session);\n\t\t}\n\n\t\tif (session) {\n\t\t\tconsole.group(\"Session::load()\");\n\n\t\t\tsession.forEach((app) => {\n\t\t\t\ttry {\n\t\t\t\t\tthis.core.run(app.name, app.args, {\n\t\t\t\t\t\trestore: {\n\t\t\t\t\t\t\twindows: app.windows,\n\t\t\t\t\t\t},\n\t\t\t\t\t});\n\t\t\t\t} catch (e) {\n\t\t\t\t\tlogger.warn(\"Error while loading session entry\", e);\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tconsole.groupEnd();\n\t\t}\n\n\t\treturn Promise.resolve(true);\n\t}\n}\n",
    "static": true,
    "longname": "/home/runner/work/meeseOS/meeseOS/frontend/client/src/session.js",
    "access": "public",
    "description": null,
    "lineNumber": 1
  },
  {
    "__docId__": 525,
    "kind": "class",
    "name": "Session",
    "memberof": "src/session.js",
    "static": true,
    "longname": "src/session.js~Session",
    "access": "public",
    "export": true,
    "importPath": "@meeseOS/client/src/session.js",
    "importStyle": "Session",
    "description": "Session Handler",
    "lineNumber": 37,
    "interface": false
  },
  {
    "__docId__": 526,
    "kind": "constructor",
    "name": "constructor",
    "memberof": "src/session.js~Session",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/session.js~Session#constructor",
    "access": "public",
    "description": "Creates the Session Handler",
    "lineNumber": 42,
    "params": [
      {
        "nullable": null,
        "types": [
          "Core"
        ],
        "spread": false,
        "optional": false,
        "name": "core",
        "description": "MeeseOS Core instance reference"
      }
    ]
  },
  {
    "__docId__": 527,
    "kind": "member",
    "name": "core",
    "memberof": "src/session.js~Session",
    "static": false,
    "longname": "src/session.js~Session#core",
    "access": "public",
    "description": "Core instance reference",
    "lineNumber": 48,
    "unknown": [
      {
        "tagName": "@readonly",
        "tagValue": ""
      }
    ],
    "type": {
      "nullable": null,
      "types": [
        "Core"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 528,
    "kind": "method",
    "name": "destroy",
    "memberof": "src/session.js~Session",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/session.js~Session#destroy",
    "access": "public",
    "description": "Destroys the session, logging out the user",
    "lineNumber": 55,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{Promise<Boolean>}"
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "Promise<Boolean>"
      ],
      "spread": false,
      "description": ""
    },
    "params": []
  },
  {
    "__docId__": 529,
    "kind": "method",
    "name": "save",
    "memberof": "src/session.js~Session",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/session.js~Session#save",
    "access": "public",
    "description": "Saves the session",
    "lineNumber": 67,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{Promise<Boolean>}"
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "Promise<Boolean>"
      ],
      "spread": false,
      "description": ""
    },
    "params": []
  },
  {
    "__docId__": 530,
    "kind": "method",
    "name": "load",
    "memberof": "src/session.js~Session",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/session.js~Session#load",
    "access": "public",
    "description": "Loads session",
    "lineNumber": 85,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{Promise<Boolean>}"
      }
    ],
    "params": [
      {
        "nullable": null,
        "types": [
          "Boolean"
        ],
        "spread": false,
        "optional": true,
        "defaultValue": "false",
        "defaultRaw": false,
        "name": "fresh",
        "description": "Kill all current applications first"
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "Promise<Boolean>"
      ],
      "spread": false,
      "description": ""
    }
  },
  {
    "__docId__": 531,
    "kind": "file",
    "name": "src/settings.js",
    "content": "/**\n * OS.js - JavaScript Cloud/Web Desktop Platform\n *\n * Copyright (c) 2011-Present, Anders Evenrud <andersevenrud@gmail.com>\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *\n * 1. Redistributions of source code must retain the above copyright notice, this\n *    list of conditions and the following disclaimer\n * 2. Redistributions in binary form must reproduce the above copyright notice,\n *    this list of conditions and the following disclaimer in the documentation\n *    and/or other materials provided with the distribution\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\n * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR\n * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n *\n * @author  Anders Evenrud <andersevenrud@gmail.com>\n * @license Simplified BSD License\n */\n\nimport localStorageSettings from \"./adapters/settings/localstorage\";\nimport logger from \"./logger\";\nimport merge from \"deepmerge\";\nimport serverSettings from \"./adapters/settings/server\";\nimport simplejsonconf from \"simplejsonconf\";\n\nconst defaultAdapters = {\n\tserver: serverSettings,\n\tlocalStorage: localStorageSettings,\n};\n\nconst createAdapter = (core, options) => {\n\tconst adapter = core.config(\"standalone\")\n\t\t? localStorageSettings\n\t\t: typeof options.adapter === \"function\"\n\t\t\t? options.adapter\n\t\t\t: defaultAdapters[options.adapter || \"localStorage\"];\n\n\treturn {\n\t\tload: () => Promise.reject(new Error(\"Not implemented\")),\n\t\tsave: () => Promise.reject(new Error(\"Not implemented\")),\n\t\tinit: () => Promise.resolve(true),\n\t\tclear: () => Promise.resolve(true),\n\t\tdestroy: () => {},\n\t\t...adapter(core, options.config),\n\t};\n};\n\n/**\n * TODO: typedef\n * @typedef {Object} SettingsAdapterConfiguration\n */\n\n/**\n * TODO: typedef\n * @typedef {Object} SettingsAdapter\n */\n\n/**\n * @callback SettingsAdapterCallback\n * @param {Core} core\n * @returns {SettingsAdapterCallback}\n */\n\n/**\n * Settings Options\n *\n * @typedef {Object} SettingsOptions\n * @property {SettingsAdapterCallback|SettingsAdapter} [adapter] Adapter to use\n * @property {SettingsAdapterConfiguration} [config] Adapter configuration\n */\n\n/**\n * MeeseOS Settings Manager\n */\nexport default class Settings {\n\t// TODO: Destroy method\n\n\t/**\n\t * Create application\n\t *\n\t * @param {Core} core MeeseOS Core instance reference\n\t * @param {SettingsOptions} options Options\n\t */\n\tconstructor(core, options) {\n\t\t/**\n\t\t * The settings adapter\n\t\t * @type {SettingsAdapter}\n\t\t * @readonly\n\t\t */\n\t\tthis.adapter = createAdapter(core, options);\n\n\t\t/**\n\t\t * Internal timeout reference used for debouncing\n\t\t * @type {Object}\n\t\t */\n\t\tthis.debounce = null;\n\n\t\t/**\n\t\t * The settings tree\n\t\t * @type {{name: *}}\n\t\t */\n\t\tthis.settings = {};\n\n\t\t/**\n\t\t * Core instance reference\n\t\t * @type {Core}\n\t\t * @readonly\n\t\t */\n\t\tthis.core = core;\n\t}\n\n\t/**\n\t * Initializes settings adapter\n\t */\n\tinit() {\n\t\treturn this.adapter.init();\n\t}\n\n\t/**\n\t * Saves settings\n\t * @returns {Promise<Boolean>}\n\t */\n\tsave() {\n\t\treturn new Promise((resolve, reject) => {\n\t\t\tif (this.debounce) {\n\t\t\t\tconst [promise, timer] = this.debounce;\n\t\t\t\tpromise.resolve(false);\n\t\t\t\tthis.debounce = clearTimeout(timer);\n\t\t\t}\n\n\t\t\tthis.debounce = [\n\t\t\t\t{ resolve, reject },\n\t\t\t\tsetTimeout(() => {\n\t\t\t\t\tthis.adapter\n\t\t\t\t\t\t.save(this.settings)\n\t\t\t\t\t\t.then((...args) => {\n\t\t\t\t\t\t\tthis.core.emit(\"meeseOS/settings:save\");\n\n\t\t\t\t\t\t\tresolve(...args);\n\t\t\t\t\t\t})\n\t\t\t\t\t\t.catch(reject);\n\t\t\t\t}, 100),\n\t\t\t];\n\t\t});\n\t}\n\n\t/**\n\t * Loads settings\n\t * @returns {Promise<Boolean>}\n\t */\n\tload() {\n\t\tconst defaults = this.core.config(\"settings.defaults\", {});\n\n\t\treturn this.adapter\n\t\t\t.load()\n\t\t\t.then((settings) => {\n\t\t\t\tthis.settings = merge(defaults, settings, {\n\t\t\t\t\tarrayMerge: (dest, source) => source,\n\t\t\t\t});\n\n\t\t\t\tthis.core.emit(\"meeseOS/settings:load\");\n\n\t\t\t\treturn true;\n\t\t\t})\n\t\t\t.catch((e) => {\n\t\t\t\tlogger.warn(\"Failed to set settings\", e);\n\t\t\t\tthis.settings = defaults;\n\n\t\t\t\treturn false;\n\t\t\t});\n\t}\n\n\t/**\n\t * Gets a settings entry by key (cached)\n\t *\n\t * @param {String} [ns] The namespace\n\t * @param {String} [key] The key to get the value from\n\t * @param {*} [defaultValue] If result is undefined, return this instead\n\t * @returns {*}\n\t */\n\tget(ns, key, defaultValue) {\n\t\tif (typeof ns === \"undefined\") {\n\t\t\treturn { ...this.settings };\n\t\t} else if (typeof this.settings[ns] === \"undefined\") {\n\t\t\treturn key ? defaultValue : defaultValue || {};\n\t\t}\n\n\t\tconst tree = simplejsonconf(this.settings[ns]);\n\n\t\treturn key ? tree.get(key, defaultValue) : tree.get() || defaultValue;\n\t}\n\n\t/**\n\t * Sets a settings entry by root key (but does not save).\n\t *\n\t * @param {String} ns The namespace\n\t * @param {String} [key] The key to set\n\t * @param {*} [value] The value to set\n\t * @returns {Settings} This\n\t */\n\tset(ns, key, value) {\n\t\tconst lock = this.core.config(\"settings.lock\", []);\n\t\tif (lock.indexOf(ns) !== -1) {\n\t\t\treturn this;\n\t\t}\n\n\t\tif (typeof this.settings[ns] === \"undefined\") {\n\t\t\tthis.settings[ns] = {};\n\t\t}\n\n\t\tif (key) {\n\t\t\ttry {\n\t\t\t\tconst sjc = simplejsonconf(this.settings[ns]);\n\t\t\t\tsjc.set(key, value);\n\t\t\t\tthis.settings[ns] = sjc.get();\n\t\t\t} catch (e) {\n\t\t\t\tlogger.warn(\"Error while setting settings for\", key, e);\n\t\t\t}\n\t\t} else {\n\t\t\tthis.settings[ns] = { ...value };\n\t\t}\n\n\t\treturn this;\n\t}\n\n\t/**\n\t * Clears a namespace by root key\n\t * @param {String} ns The namespace\n\t * @returns {Promise<Boolean>}\n\t */\n\tclear(ns) {\n\t\treturn this.adapter.clear(ns).then((result) => {\n\t\t\tif (result && this.settings[ns]) {\n\t\t\t\tdelete this.settings[ns];\n\t\t\t}\n\n\t\t\treturn result;\n\t\t});\n\t}\n}\n",
    "static": true,
    "longname": "/home/runner/work/meeseOS/meeseOS/frontend/client/src/settings.js",
    "access": "public",
    "description": null,
    "lineNumber": 1
  },
  {
    "__docId__": 532,
    "kind": "variable",
    "name": "defaultAdapters",
    "memberof": "src/settings.js",
    "static": true,
    "longname": "src/settings.js~defaultAdapters",
    "access": "public",
    "export": false,
    "importPath": "@meeseOS/client/src/settings.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 37,
    "undocument": true,
    "type": {
      "types": [
        "{\"server\": *, \"localStorage\": *}"
      ]
    },
    "ignore": true
  },
  {
    "__docId__": 533,
    "kind": "function",
    "name": "createAdapter",
    "memberof": "src/settings.js",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "src/settings.js~createAdapter",
    "access": "public",
    "export": false,
    "importPath": "@meeseOS/client/src/settings.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 42,
    "undocument": true,
    "params": [
      {
        "name": "core",
        "types": [
          "*"
        ]
      },
      {
        "name": "options",
        "types": [
          "*"
        ]
      }
    ],
    "return": {
      "types": [
        "{\"load\": *, \"save\": *, \"init\": *, \"clear\": *, \"destroy\": *, ...undefined: Object}"
      ]
    },
    "ignore": true
  },
  {
    "__docId__": 534,
    "kind": "typedef",
    "name": "SettingsAdapterConfiguration",
    "memberof": "src/settings.js",
    "static": true,
    "longname": "src/settings.js~SettingsAdapterConfiguration",
    "access": "public",
    "description": "TODO: typedef",
    "type": {
      "types": [
        "Object"
      ],
      "optional": false,
      "name": "SettingsAdapterConfiguration"
    }
  },
  {
    "__docId__": 535,
    "kind": "typedef",
    "name": "SettingsAdapter",
    "memberof": "src/settings.js",
    "static": true,
    "longname": "src/settings.js~SettingsAdapter",
    "access": "public",
    "description": "TODO: typedef",
    "type": {
      "types": [
        "Object"
      ],
      "optional": false,
      "name": "SettingsAdapter"
    }
  },
  {
    "__docId__": 536,
    "kind": "typedef",
    "name": "SettingsOptions",
    "memberof": "src/settings.js",
    "static": true,
    "longname": "src/settings.js~SettingsOptions",
    "access": "public",
    "description": "Settings Options",
    "properties": [
      {
        "nullable": null,
        "types": [
          "SettingsAdapterCallback",
          "SettingsAdapter"
        ],
        "spread": false,
        "optional": true,
        "name": "adapter",
        "description": "Adapter to use"
      },
      {
        "nullable": null,
        "types": [
          "SettingsAdapterConfiguration"
        ],
        "spread": false,
        "optional": true,
        "name": "config",
        "description": "Adapter configuration"
      }
    ],
    "type": {
      "types": [
        "Object"
      ],
      "optional": false,
      "name": "SettingsOptions"
    }
  },
  {
    "__docId__": 537,
    "kind": "class",
    "name": "Settings",
    "memberof": "src/settings.js",
    "static": true,
    "longname": "src/settings.js~Settings",
    "access": "public",
    "export": true,
    "importPath": "@meeseOS/client/src/settings.js",
    "importStyle": "Settings",
    "description": "MeeseOS Settings Manager",
    "lineNumber": 86,
    "interface": false
  },
  {
    "__docId__": 538,
    "kind": "constructor",
    "name": "constructor",
    "memberof": "src/settings.js~Settings",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/settings.js~Settings#constructor",
    "access": "public",
    "description": "Create application",
    "lineNumber": 95,
    "params": [
      {
        "nullable": null,
        "types": [
          "Core"
        ],
        "spread": false,
        "optional": false,
        "name": "core",
        "description": "MeeseOS Core instance reference"
      },
      {
        "nullable": null,
        "types": [
          "SettingsOptions"
        ],
        "spread": false,
        "optional": false,
        "name": "options",
        "description": "Options"
      }
    ]
  },
  {
    "__docId__": 539,
    "kind": "member",
    "name": "adapter",
    "memberof": "src/settings.js~Settings",
    "static": false,
    "longname": "src/settings.js~Settings#adapter",
    "access": "public",
    "description": "The settings adapter",
    "lineNumber": 101,
    "unknown": [
      {
        "tagName": "@readonly",
        "tagValue": ""
      }
    ],
    "type": {
      "nullable": null,
      "types": [
        "SettingsAdapter"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 540,
    "kind": "member",
    "name": "debounce",
    "memberof": "src/settings.js~Settings",
    "static": false,
    "longname": "src/settings.js~Settings#debounce",
    "access": "public",
    "description": "Internal timeout reference used for debouncing",
    "lineNumber": 107,
    "type": {
      "nullable": null,
      "types": [
        "Object"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 541,
    "kind": "member",
    "name": "settings",
    "memberof": "src/settings.js~Settings",
    "static": false,
    "longname": "src/settings.js~Settings#settings",
    "access": "public",
    "description": "The settings tree",
    "lineNumber": 113,
    "type": {
      "nullable": null,
      "types": [
        "{name: *}"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 542,
    "kind": "member",
    "name": "core",
    "memberof": "src/settings.js~Settings",
    "static": false,
    "longname": "src/settings.js~Settings#core",
    "access": "public",
    "description": "Core instance reference",
    "lineNumber": 120,
    "unknown": [
      {
        "tagName": "@readonly",
        "tagValue": ""
      }
    ],
    "type": {
      "nullable": null,
      "types": [
        "Core"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 543,
    "kind": "method",
    "name": "init",
    "memberof": "src/settings.js~Settings",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/settings.js~Settings#init",
    "access": "public",
    "description": "Initializes settings adapter",
    "lineNumber": 126,
    "params": [],
    "return": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 544,
    "kind": "method",
    "name": "save",
    "memberof": "src/settings.js~Settings",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/settings.js~Settings#save",
    "access": "public",
    "description": "Saves settings",
    "lineNumber": 134,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{Promise<Boolean>}"
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "Promise<Boolean>"
      ],
      "spread": false,
      "description": ""
    },
    "params": []
  },
  {
    "__docId__": 547,
    "kind": "method",
    "name": "load",
    "memberof": "src/settings.js~Settings",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/settings.js~Settings#load",
    "access": "public",
    "description": "Loads settings",
    "lineNumber": 162,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{Promise<Boolean>}"
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "Promise<Boolean>"
      ],
      "spread": false,
      "description": ""
    },
    "params": []
  },
  {
    "__docId__": 550,
    "kind": "method",
    "name": "get",
    "memberof": "src/settings.js~Settings",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/settings.js~Settings#get",
    "access": "public",
    "description": "Gets a settings entry by key (cached)",
    "lineNumber": 192,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{*}"
      }
    ],
    "params": [
      {
        "nullable": null,
        "types": [
          "String"
        ],
        "spread": false,
        "optional": true,
        "name": "ns",
        "description": "The namespace"
      },
      {
        "nullable": null,
        "types": [
          "String"
        ],
        "spread": false,
        "optional": true,
        "name": "key",
        "description": "The key to get the value from"
      },
      {
        "nullable": null,
        "types": [
          "*"
        ],
        "spread": false,
        "optional": true,
        "name": "defaultValue",
        "description": "If result is undefined, return this instead"
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "*"
      ],
      "spread": false,
      "description": ""
    }
  },
  {
    "__docId__": 551,
    "kind": "method",
    "name": "set",
    "memberof": "src/settings.js~Settings",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/settings.js~Settings#set",
    "access": "public",
    "description": "Sets a settings entry by root key (but does not save).",
    "lineNumber": 212,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{Settings} This"
      }
    ],
    "params": [
      {
        "nullable": null,
        "types": [
          "String"
        ],
        "spread": false,
        "optional": false,
        "name": "ns",
        "description": "The namespace"
      },
      {
        "nullable": null,
        "types": [
          "String"
        ],
        "spread": false,
        "optional": true,
        "name": "key",
        "description": "The key to set"
      },
      {
        "nullable": null,
        "types": [
          "*"
        ],
        "spread": false,
        "optional": true,
        "name": "value",
        "description": "The value to set"
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "Settings"
      ],
      "spread": false,
      "description": "This"
    }
  },
  {
    "__docId__": 552,
    "kind": "method",
    "name": "clear",
    "memberof": "src/settings.js~Settings",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/settings.js~Settings#clear",
    "access": "public",
    "description": "Clears a namespace by root key",
    "lineNumber": 242,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{Promise<Boolean>}"
      }
    ],
    "params": [
      {
        "nullable": null,
        "types": [
          "String"
        ],
        "spread": false,
        "optional": false,
        "name": "ns",
        "description": "The namespace"
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "Promise<Boolean>"
      ],
      "spread": false,
      "description": ""
    }
  },
  {
    "__docId__": 553,
    "kind": "file",
    "name": "src/splash.js",
    "content": "/**\n * OS.js - JavaScript Cloud/Web Desktop Platform\n *\n * Copyright (c) 2011-Present, Anders Evenrud <andersevenrud@gmail.com>\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *\n * 1. Redistributions of source code must retain the above copyright notice, this\n *    list of conditions and the following disclaimer\n * 2. Redistributions in binary form must reproduce the above copyright notice,\n *    this list of conditions and the following disclaimer in the documentation\n *    and/or other materials provided with the distribution\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\n * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR\n * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n *\n * @author  Anders Evenrud <andersevenrud@gmail.com>\n * @license Simplified BSD License\n */\n\nimport { createLettercrap } from \"./loading-screen/lettercrap.js\";\nimport loadingScreen from \"./loading-screen/loading.html\";\n\n/**\n * Convert a template string into HTML DOM nodes\n * @param  {String} str The template string\n * @returns {Node} The template HTML\n */\nconst stringToHTML = (str) => {\n\tconst parser = new DOMParser();\n\tconst doc = parser.parseFromString(str, \"text/html\");\n\treturn doc.body;\n};\n\n/**\n * Splash Screen UI\n */\nexport default class Splash {\n\t/**\n\t * Create Splash.\n\t * @param {Core} core MeeseOS Core instance reference\n\t */\n\tconstructor(core) {\n\t\t/**\n\t\t * Core instance reference.\n\t\t * @type {Core}\n\t\t * @readonly\n\t\t */\n\t\tthis.core = core;\n\n\t\t/**\n\t\t * Splash root element.\n\t\t * @type {Element}\n\t\t * @readonly\n\t\t */\n\t\tthis.$loading = document.createElement(\"div\");\n\t\tthis.$loading.className = \"meeseOS-boot-splash\";\n\n\t\t/**\n\t\t * The transition time for `.loadingPage` in `styles/_loading.scss`.\n\t\t * @idea https://stackoverflow.com/q/56523785/6456163\n\t\t * @type {Number}\n\t\t * @readonly\n\t\t */\n\t\tthis.pageTransitionTime = 1000;\n\n\t\t/**\n\t\t * The time between quips, in milliseconds.\n\t\t * @type {Number}\n\t\t * @readonly\n\t\t */\n\t\tthis.timePerQuip = 1500;\n\n\t\t/**\n\t\t * The array of quips to display.\n\t\t * @type {String[]}\n\t\t * @readonly\n\t\t */\n\t\tthis.quips = [\n\t\t\t\"Contracting a wizard...\",\n\t\t\t\"Moving dragon from the mouth of the cave...\",\n\t\t\t\"Collecting all the loot...\",\n\t\t\t\"Divvying up dubloons...\",\n\t\t];\n\n\t\tcore.on(\"meeseOS/core:boot\", () => this.show());\n\t\tcore.on(\"meeseOS/core:logged-in\", () => this.show());\n\t\tcore.on(\"meeseOS/splash:finished\", () => this.destroy());\n\t}\n\n\t/**\n\t * Initializes splash with listener for user interaction.\n\t */\n\tinit() {\n\t\tthis.$loading.appendChild(stringToHTML(loadingScreen));\n\t\tthis.core.emit(\"meeseOS/splash:loaded\");\n\n\t\t// https://developer.mozilla.org/en-US/docs/Web/API/EventTarget/addEventListener#specifying_this_using_bind\n\t\tthis.start = this.start.bind(this);\n\t\tdocument.body.style.cursor = \"pointer\";\n\t\tdocument.body.addEventListener(\"click\", this.start, false);\n\t}\n\n\t/**\n\t * Starts splash screen functionality after user interaction.\n\t */\n\tstart() {\n\t\tthis.core.emit(\"meeseOS/splash:started\");\n\t\tdocument.body.removeEventListener(\"click\", this.start);\n\n\t\tif (this.core.has(\"meeseOS/sounds\")) {\n\t\t\tthis.core.make(\"meeseOS/sounds\").play(\"dial-up-modem\");\n\t\t}\n\n\t\tdocument.getElementById(\"mouseNotMoved\").style.display = \"none\";\n\t\tdocument.getElementById(\"mouseMoved\").style.display = \"block\";\n\t\tdocument.body.style.cursor = \"default\";\n\t\tcreateLettercrap();\n\n\t\tconst loadingBar = document.getElementById(\"loadingBar\");\n\t\tfor (let i = 1; i <= this.quips.length; i++) {\n\t\t\tsetTimeout(() => {\n\t\t\t\tloadingBar.innerText = this.quips[i - 1];\n\t\t\t\t// IDEA: Attempt CSS animation here using the transition time variable\n\t\t\t\tloadingBar.style.width = (i / this.quips.length) * 100 + \"%\";\n\t\t\t}, this.timePerQuip * i);\n\t\t}\n\n\t\t// Fade out the loading screen after all the quips have been displayed\n\t\twindow.setTimeout(() => {\n\t\t\tthis.$loading.style.opacity = 0;\n\n\t\t\tsetTimeout(() => {\n\t\t\t\tthis.core.emit(\"meeseOS/splash:finished\");\n\t\t\t}, this.pageTransitionTime);\n\t\t}, this.timePerQuip * (this.quips.length + 1));\n\t}\n\n\t/**\n\t * Shows splash.\n\t */\n\tshow() {\n\t\tif (!this.$loading.parentNode) {\n\t\t\tthis.core.$root.appendChild(this.$loading);\n\t\t}\n\t}\n\n\t/**\n\t * Destroys splash.\n\t */\n\tdestroy() {\n\t\tif (this.$loading.parentNode) {\n\t\t\tthis.$loading.remove();\n\t\t}\n\t}\n}\n",
    "static": true,
    "longname": "/home/runner/work/meeseOS/meeseOS/frontend/client/src/splash.js",
    "access": "public",
    "description": null,
    "lineNumber": 1
  },
  {
    "__docId__": 554,
    "kind": "function",
    "name": "stringToHTML",
    "memberof": "src/splash.js",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "src/splash.js~stringToHTML",
    "access": "public",
    "export": false,
    "importPath": "@meeseOS/client/src/splash.js",
    "importStyle": null,
    "description": "Convert a template string into HTML DOM nodes",
    "lineNumber": 39,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{Node} The template HTML"
      }
    ],
    "params": [
      {
        "nullable": null,
        "types": [
          "String"
        ],
        "spread": false,
        "optional": false,
        "name": "str",
        "description": "The template string"
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "Node"
      ],
      "spread": false,
      "description": "The template HTML"
    },
    "ignore": true
  },
  {
    "__docId__": 555,
    "kind": "class",
    "name": "Splash",
    "memberof": "src/splash.js",
    "static": true,
    "longname": "src/splash.js~Splash",
    "access": "public",
    "export": true,
    "importPath": "@meeseOS/client/src/splash.js",
    "importStyle": "Splash",
    "description": "Splash Screen UI",
    "lineNumber": 48,
    "interface": false
  },
  {
    "__docId__": 556,
    "kind": "constructor",
    "name": "constructor",
    "memberof": "src/splash.js~Splash",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/splash.js~Splash#constructor",
    "access": "public",
    "description": "Create Splash.",
    "lineNumber": 53,
    "params": [
      {
        "nullable": null,
        "types": [
          "Core"
        ],
        "spread": false,
        "optional": false,
        "name": "core",
        "description": "MeeseOS Core instance reference"
      }
    ]
  },
  {
    "__docId__": 557,
    "kind": "member",
    "name": "core",
    "memberof": "src/splash.js~Splash",
    "static": false,
    "longname": "src/splash.js~Splash#core",
    "access": "public",
    "description": "Core instance reference.",
    "lineNumber": 59,
    "unknown": [
      {
        "tagName": "@readonly",
        "tagValue": ""
      }
    ],
    "type": {
      "nullable": null,
      "types": [
        "Core"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 558,
    "kind": "member",
    "name": "$loading",
    "memberof": "src/splash.js~Splash",
    "static": false,
    "longname": "src/splash.js~Splash#$loading",
    "access": "public",
    "description": "Splash root element.",
    "lineNumber": 66,
    "unknown": [
      {
        "tagName": "@readonly",
        "tagValue": ""
      }
    ],
    "type": {
      "nullable": null,
      "types": [
        "Element"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 559,
    "kind": "member",
    "name": "pageTransitionTime",
    "memberof": "src/splash.js~Splash",
    "static": false,
    "longname": "src/splash.js~Splash#pageTransitionTime",
    "access": "public",
    "description": "The transition time for `.loadingPage` in `styles/_loading.scss`.",
    "lineNumber": 75,
    "unknown": [
      {
        "tagName": "@idea",
        "tagValue": "https://stackoverflow.com/q/56523785/6456163"
      },
      {
        "tagName": "@readonly",
        "tagValue": ""
      }
    ],
    "type": {
      "nullable": null,
      "types": [
        "Number"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 560,
    "kind": "member",
    "name": "timePerQuip",
    "memberof": "src/splash.js~Splash",
    "static": false,
    "longname": "src/splash.js~Splash#timePerQuip",
    "access": "public",
    "description": "The time between quips, in milliseconds.",
    "lineNumber": 82,
    "unknown": [
      {
        "tagName": "@readonly",
        "tagValue": ""
      }
    ],
    "type": {
      "nullable": null,
      "types": [
        "Number"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 561,
    "kind": "member",
    "name": "quips",
    "memberof": "src/splash.js~Splash",
    "static": false,
    "longname": "src/splash.js~Splash#quips",
    "access": "public",
    "description": "The array of quips to display.",
    "lineNumber": 89,
    "unknown": [
      {
        "tagName": "@readonly",
        "tagValue": ""
      }
    ],
    "type": {
      "nullable": null,
      "types": [
        "String[]"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 562,
    "kind": "method",
    "name": "init",
    "memberof": "src/splash.js~Splash",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/splash.js~Splash#init",
    "access": "public",
    "description": "Initializes splash with listener for user interaction.",
    "lineNumber": 104,
    "params": [],
    "return": null
  },
  {
    "__docId__": 564,
    "kind": "method",
    "name": "start",
    "memberof": "src/splash.js~Splash",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/splash.js~Splash#start",
    "access": "public",
    "description": "Starts splash screen functionality after user interaction.",
    "lineNumber": 117,
    "params": [],
    "return": null
  },
  {
    "__docId__": 565,
    "kind": "method",
    "name": "show",
    "memberof": "src/splash.js~Splash",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/splash.js~Splash#show",
    "access": "public",
    "description": "Shows splash.",
    "lineNumber": 152,
    "params": [],
    "return": null
  },
  {
    "__docId__": 566,
    "kind": "method",
    "name": "destroy",
    "memberof": "src/splash.js~Splash",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/splash.js~Splash#destroy",
    "access": "public",
    "description": "Destroys splash.",
    "lineNumber": 161,
    "params": [],
    "return": null
  },
  {
    "__docId__": 567,
    "kind": "file",
    "name": "src/tray.js",
    "content": "/**\n * OS.js - JavaScript Cloud/Web Desktop Platform\n *\n * Copyright (c) 2011-Present, Anders Evenrud <andersevenrud@gmail.com>\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *\n * 1. Redistributions of source code must retain the above copyright notice, this\n *    list of conditions and the following disclaimer\n * 2. Redistributions in binary form must reproduce the above copyright notice,\n *    this list of conditions and the following disclaimer in the documentation\n *    and/or other materials provided with the distribution\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\n * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR\n * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n *\n * @author  Anders Evenrud <andersevenrud@gmail.com>\n * @license Simplified BSD License\n */\n\nimport defaultIcon from \"./styles/icon.png\";\nimport logger from \"./logger\";\n\n/**\n * Tray Icon Data\n * @typedef {Object} TrayEntryData\n * @property {String} [key] Used as internal index for tray entry\n * @property {String} [icon] Icon source\n * @property {String} [title] The title and tooltip\n * @property {Function} [onclick] The callback function for clicks\n * @property {Function} [oncontextmenu] The callback function for contextmenu\n */\n\n/**\n * Tray Icon Entry\n * @typedef {Object} TrayEntry\n * @property {TrayEntryData} entry The given entry data\n * @property {Function} update Updates entry with given data\n * @property {Function} destroy Destroy the entry\n */\n\n/**\n * Tray Handler\n */\nexport default class Tray {\n\t/**\n\t * Creates the Tray Handler\n\t *\n\t * @param {Core} core MeeseOS Core instance reference\n\t */\n\tconstructor(core) {\n\t\t/**\n\t\t * Core instance reference\n\t\t * @type {Core}\n\t\t * @readonly\n\t\t */\n\t\tthis.core = core;\n\n\t\t/**\n\t\t * All Tray entries\n\t\t * @type {TrayEntry[]}\n\t\t */\n\t\tthis.entries = [];\n\t}\n\n\t/**\n\t * Destroys instance\n\t */\n\tdestroy() {\n\t\tthis.entries = [];\n\t}\n\n\t/**\n\t * Creates a new Tray entry\n\t * @param {TrayEntryData} options Options\n\t * @param {Function} [handler] The callback function for all events\n\t * @returns {TrayEntry}\n\t */\n\tcreate(options, handler) {\n\t\tconst defaultTitle = \"Tray Entry\";\n\n\t\thandler = handler || (() => {});\n\n\t\tconst entry = {\n\t\t\tkey: null,\n\t\t\ticon: defaultIcon,\n\t\t\ttitle: defaultTitle,\n\t\t\tonclick: handler,\n\t\t\toncontextmenu: handler,\n\t\t\thandler,\n\t\t\t...options,\n\t\t};\n\n\t\tlogger.debug(\"Created new tray entry\", entry);\n\n\t\tthis.entries.push(entry);\n\n\t\tthis.core.emit(\"meeseOS/tray:create\", entry);\n\t\tthis.core.emit(\"meeseOS/tray:update\", this.entries);\n\n\t\tconst obj = {\n\t\t\tentry,\n\t\t\tupdate: (u) => {\n\t\t\t\tObject.keys(u).forEach((k) => (entry[k] = u[k]));\n\n\t\t\t\tthis.core.emit(\"meeseOS/tray:update\", this.entries);\n\t\t\t},\n\t\t\tdestroy: () => this.remove(entry),\n\t\t};\n\n\t\treturn obj;\n\t}\n\n\t/**\n\t * Removes a Tray entry\n\t * @param {TrayEntry} entry The tray entry\n\t */\n\tremove(entry) {\n\t\tconst foundIndex = this.entries.findIndex((e) => e === entry);\n\t\tif (foundIndex !== -1) {\n\t\t\tthis.entries.splice(foundIndex, 1);\n\n\t\t\tthis.core.emit(\"meeseOS/tray:remove\", entry);\n\t\t\tthis.core.emit(\"meeseOS/tray:update\", this.entries);\n\t\t}\n\t}\n\n\t/**\n\t * @returns {TrayEntry[]}\n\t */\n\tlist() {\n\t\treturn this.entries;\n\t}\n\n\t/**\n\t * @returns {Boolean}\n\t */\n\thas(key) {\n\t\treturn this.entries.findIndex((entry) => entry.key === key) !== -1;\n\t}\n}\n",
    "static": true,
    "longname": "/home/runner/work/meeseOS/meeseOS/frontend/client/src/tray.js",
    "access": "public",
    "description": null,
    "lineNumber": 1
  },
  {
    "__docId__": 568,
    "kind": "typedef",
    "name": "TrayEntryData",
    "memberof": "src/tray.js",
    "static": true,
    "longname": "src/tray.js~TrayEntryData",
    "access": "public",
    "description": "Tray Icon Data",
    "properties": [
      {
        "nullable": null,
        "types": [
          "String"
        ],
        "spread": false,
        "optional": true,
        "name": "key",
        "description": "Used as internal index for tray entry"
      },
      {
        "nullable": null,
        "types": [
          "String"
        ],
        "spread": false,
        "optional": true,
        "name": "icon",
        "description": "Icon source"
      },
      {
        "nullable": null,
        "types": [
          "String"
        ],
        "spread": false,
        "optional": true,
        "name": "title",
        "description": "The title and tooltip"
      },
      {
        "nullable": null,
        "types": [
          "Function"
        ],
        "spread": false,
        "optional": true,
        "name": "onclick",
        "description": "The callback function for clicks"
      },
      {
        "nullable": null,
        "types": [
          "Function"
        ],
        "spread": false,
        "optional": true,
        "name": "oncontextmenu",
        "description": "The callback function for contextmenu"
      }
    ],
    "type": {
      "types": [
        "Object"
      ],
      "optional": false,
      "name": "TrayEntryData"
    }
  },
  {
    "__docId__": 569,
    "kind": "typedef",
    "name": "TrayEntry",
    "memberof": "src/tray.js",
    "static": true,
    "longname": "src/tray.js~TrayEntry",
    "access": "public",
    "description": "Tray Icon Entry",
    "properties": [
      {
        "nullable": null,
        "types": [
          "TrayEntryData"
        ],
        "spread": false,
        "optional": false,
        "name": "entry",
        "description": "The given entry data"
      },
      {
        "nullable": null,
        "types": [
          "Function"
        ],
        "spread": false,
        "optional": false,
        "name": "update",
        "description": "Updates entry with given data"
      },
      {
        "nullable": null,
        "types": [
          "Function"
        ],
        "spread": false,
        "optional": false,
        "name": "destroy",
        "description": "Destroy the entry"
      }
    ],
    "type": {
      "types": [
        "Object"
      ],
      "optional": false,
      "name": "TrayEntry"
    }
  },
  {
    "__docId__": 570,
    "kind": "class",
    "name": "Tray",
    "memberof": "src/tray.js",
    "static": true,
    "longname": "src/tray.js~Tray",
    "access": "public",
    "export": true,
    "importPath": "@meeseOS/client/src/tray.js",
    "importStyle": "Tray",
    "description": "Tray Handler",
    "lineNumber": 55,
    "interface": false
  },
  {
    "__docId__": 571,
    "kind": "constructor",
    "name": "constructor",
    "memberof": "src/tray.js~Tray",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/tray.js~Tray#constructor",
    "access": "public",
    "description": "Creates the Tray Handler",
    "lineNumber": 61,
    "params": [
      {
        "nullable": null,
        "types": [
          "Core"
        ],
        "spread": false,
        "optional": false,
        "name": "core",
        "description": "MeeseOS Core instance reference"
      }
    ]
  },
  {
    "__docId__": 572,
    "kind": "member",
    "name": "core",
    "memberof": "src/tray.js~Tray",
    "static": false,
    "longname": "src/tray.js~Tray#core",
    "access": "public",
    "description": "Core instance reference",
    "lineNumber": 67,
    "unknown": [
      {
        "tagName": "@readonly",
        "tagValue": ""
      }
    ],
    "type": {
      "nullable": null,
      "types": [
        "Core"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 573,
    "kind": "member",
    "name": "entries",
    "memberof": "src/tray.js~Tray",
    "static": false,
    "longname": "src/tray.js~Tray#entries",
    "access": "public",
    "description": "All Tray entries",
    "lineNumber": 73,
    "type": {
      "nullable": null,
      "types": [
        "TrayEntry[]"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 574,
    "kind": "method",
    "name": "destroy",
    "memberof": "src/tray.js~Tray",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/tray.js~Tray#destroy",
    "access": "public",
    "description": "Destroys instance",
    "lineNumber": 79,
    "params": [],
    "return": null
  },
  {
    "__docId__": 576,
    "kind": "method",
    "name": "create",
    "memberof": "src/tray.js~Tray",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/tray.js~Tray#create",
    "access": "public",
    "description": "Creates a new Tray entry",
    "lineNumber": 89,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{TrayEntry}"
      }
    ],
    "params": [
      {
        "nullable": null,
        "types": [
          "TrayEntryData"
        ],
        "spread": false,
        "optional": false,
        "name": "options",
        "description": "Options"
      },
      {
        "nullable": null,
        "types": [
          "Function"
        ],
        "spread": false,
        "optional": true,
        "name": "handler",
        "description": "The callback function for all events"
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "TrayEntry"
      ],
      "spread": false,
      "description": ""
    }
  },
  {
    "__docId__": 577,
    "kind": "method",
    "name": "remove",
    "memberof": "src/tray.js~Tray",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/tray.js~Tray#remove",
    "access": "public",
    "description": "Removes a Tray entry",
    "lineNumber": 128,
    "params": [
      {
        "nullable": null,
        "types": [
          "TrayEntry"
        ],
        "spread": false,
        "optional": false,
        "name": "entry",
        "description": "The tray entry"
      }
    ],
    "return": null
  },
  {
    "__docId__": 578,
    "kind": "method",
    "name": "list",
    "memberof": "src/tray.js~Tray",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/tray.js~Tray#list",
    "access": "public",
    "description": "",
    "lineNumber": 141,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{TrayEntry[]}"
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "TrayEntry[]"
      ],
      "spread": false,
      "description": ""
    },
    "params": []
  },
  {
    "__docId__": 579,
    "kind": "method",
    "name": "has",
    "memberof": "src/tray.js~Tray",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/tray.js~Tray#has",
    "access": "public",
    "description": "",
    "lineNumber": 148,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{Boolean}"
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "Boolean"
      ],
      "spread": false,
      "description": ""
    },
    "params": [
      {
        "name": "key",
        "types": [
          "*"
        ]
      }
    ]
  },
  {
    "__docId__": 580,
    "kind": "file",
    "name": "src/utils/colors.js",
    "content": "/**\n * OS.js - JavaScript Cloud/Web Desktop Platform\n *\n * Copyright (c) 2011-Present, Anders Evenrud <andersevenrud@gmail.com>\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *\n * 1. Redistributions of source code must retain the above copyright notice, this\n *    list of conditions and the following disclaimer\n * 2. Redistributions in binary form must reproduce the above copyright notice,\n *    this list of conditions and the following disclaimer in the documentation\n *    and/or other materials provided with the distribution\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\n * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR\n * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n *\n * @author  Anders Evenrud <andersevenrud@gmail.com>\n * @license Simplified BSD License\n */\n\n/**\n * Inverts a HEX color\n * @link https://stackoverflow.com/a/51568508\n * @param {String} hex Color hex code\n * @returns {String} Inverted hex code\n */\nexport const invertHex = (hex) =>\n\t\"#\" +\n\thex\n\t\t.match(/[a-f0-9]{2}/gi)\n\t\t.map((e) =>\n\t\t\t((255 - parseInt(e, 16)) | 0).toString(16).replace(/^([a-f0-9])$/, \"0$1\")\n\t\t)\n\t\t.join(\"\");\n",
    "static": true,
    "longname": "/home/runner/work/meeseOS/meeseOS/frontend/client/src/utils/colors.js",
    "access": "public",
    "description": null,
    "lineNumber": 1
  },
  {
    "__docId__": 581,
    "kind": "function",
    "name": "invertHex",
    "memberof": "src/utils/colors.js",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "src/utils/colors.js~invertHex",
    "access": "public",
    "export": true,
    "importPath": "@meeseOS/client/src/utils/colors.js",
    "importStyle": "{invertHex}",
    "description": "Inverts a HEX color",
    "lineNumber": 37,
    "unknown": [
      {
        "tagName": "@link",
        "tagValue": "https://stackoverflow.com/a/51568508"
      },
      {
        "tagName": "@returns",
        "tagValue": "{String} Inverted hex code"
      }
    ],
    "params": [
      {
        "nullable": null,
        "types": [
          "String"
        ],
        "spread": false,
        "optional": false,
        "name": "hex",
        "description": "Color hex code"
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "String"
      ],
      "spread": false,
      "description": "Inverted hex code"
    }
  },
  {
    "__docId__": 582,
    "kind": "file",
    "name": "src/utils/desktop.js",
    "content": "/**\n * OS.js - JavaScript Cloud/Web Desktop Platform\n *\n * Copyright (c) 2011-Present, Anders Evenrud <andersevenrud@gmail.com>\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *\n * 1. Redistributions of source code must retain the above copyright notice, this\n *    list of conditions and the following disclaimer\n * 2. Redistributions in binary form must reproduce the above copyright notice,\n *    this list of conditions and the following disclaimer in the documentation\n *    and/or other materials provided with the distribution\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\n * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR\n * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n *\n * @author  Anders Evenrud <andersevenrud@gmail.com>\n * @license Simplified BSD License\n */\n\nimport logger from \"../logger\";\nimport { supportedMedia } from \"./dom\";\nimport cursorEffects from \"@meeseOS/cursor-effects\";\nimport Core from \"../core\";\n\nconst imageDropMimes = [\n\t\"image/png\",\n\t\"image/jpe?g\",\n\t\"image/webp\",\n\t\"image/gif\",\n\t\"image/svg(\\\\+xml)?\",\n];\n\n/**\n * Check if droppable data is a VFS type\n * @param {Object} data\n * @returns {Boolean}\n */\nexport const validVfsDrop = (data) => data && data.path;\n\n/**\n * Check if droppable data contains an image.\n * @param {Object} data\n * @returns {Boolean}\n */\nexport const isDroppingImage = (data) =>\n\tvalidVfsDrop(data) &&\n\timageDropMimes.some((re) => Boolean(data.mime.match(re)));\n\n/** Array of common screen resolutions to match against and query Unsplash for. */\nconst standardResolutions = [\n\t// Desktops\n\t{ width: 3840, height: 2160 },\n\t{ width: 2560, height: 1440 },\n\t{ width: 1920, height: 1080 },\n\t{ width: 1600, height: 900 },\n\t{ width: 1440, height: 900 },\n\t{ width: 1366, height: 768 },\n\t{ width: 1280, height: 1024 },\n\t{ width: 1280, height: 800 },\n\t{ width: 1280, height: 720 },\n\t{ width: 1024, height: 768 },\n\t{ width: 800, height: 600 },\n\t// Mobile devices\n\t{ width: 720, height: 1280 },\n\t{ width: 750, height: 1334 },\n\t{ width: 1080, height: 1920 },\n\t{ width: 1125, height: 2436 },\n\t{ width: 1440, height: 2960 },\n];\n\n/**\n * Calculates the size difference between the real size and a standard screen size.\n * @param {Object} realSize The real size of the screen\n * @param {Object} standard The point to check for distance\n * @returns {Number} The distance between the real resolution and the standard resolution\n * @link https://stackoverflow.com/a/56306192/6456163\n */\nconst getResolutionDistance = (realSize, standard) =>\n\tMath.sqrt(\n\t\tMath.pow(realSize.width - standard.width, 2) +\n\t\tMath.pow(realSize.height - standard.height, 2)\n\t);\n\n/**\n * Uses the screen resolution to find an Unsplash wallpaper that matches the screen resolution.\n * @returns {String}\n * @link https://stackoverflow.com/a/56306192/6456163\n */\nconst getRandomWallpaper = () => {\n\tconst realWidth = window.screen.width * window.devicePixelRatio;\n\tconst realHeight = window.screen.height * window.devicePixelRatio;\n\tconst realSize = { width: realWidth, height: realHeight };\n\tconst closestResolution = standardResolutions.reduce((prev, curr) =>\n\t\tgetResolutionDistance(prev, realSize) < getResolutionDistance(curr, realSize)\n\t\t\t? prev\n\t\t\t: curr\n\t);\n\n\tconst resolution = `${closestResolution.width}x${closestResolution.height}`;\n\tconst orientation = window.innerHeight > window.innerWidth ? \"portrait\" : \"landscape\";\n\tconst orientationParam = `orientation=${orientation}`;\n\tconst sigParam = `sig=${Math.random()}`;\n\treturn `https://source.unsplash.com/random/${resolution}?${orientationParam}&${sigParam}`;\n};\n\n/**\n * Creates a static background with an image and a color, if applicable.\n * @param {Core} core MeeseOS Core instance reference\n * @param {Object} background\n */\nconst createStaticBackground = (core, background) => {\n\tconst { $root } = core;\n\n\tconst styles = {\n\t\tbackgroundRepeat: \"no-repeat\",\n\t\tbackgroundPosition: \"50% 50%\",\n\t\tbackgroundSize: \"auto\",\n\t\tbackgroundColor: background.color,\n\t\tbackgroundImage: \"none\",\n\t};\n\n\tif (background.style === \"cover\" || background.style === \"contain\") {\n\t\tstyles.backgroundSize = background.style;\n\t} else if (background.style === \"repeat\") {\n\t\tstyles.backgroundRepeat = \"repeat\";\n\t}\n\n\tif (background.style !== \"color\") {\n\t\tif (background.random) {\n\t\t\tstyles.backgroundImage = `url(${getRandomWallpaper()})`;\n\t\t} else if (background.src === undefined) {\n\t\t\tstyles.backgroundImage = undefined;\n\t\t} else if (background.src.match(/^meeseOS:/)) {\n\t\t\tcore\n\t\t\t\t.make(\"meeseOS/vfs\")\n\t\t\t\t.url(background.src)\n\t\t\t\t.then((src) => {\n\t\t\t\t\tsetTimeout(() => ($root.style.backgroundImage = `url(${src})`), 1);\n\t\t\t\t})\n\t\t\t\t.catch((error) =>\n\t\t\t\t\tlogger.warn(\"Error while setting wallpaper from VFS\", error)\n\t\t\t\t);\n\t\t} else if (typeof background.src === \"string\") {\n\t\t\tstyles.backgroundImage = `url(${background.src})`;\n\t\t}\n\t}\n\n\tObject.keys(styles).forEach((k) => ($root.style[k] = styles[k]));\n};\n\n/**\n * Applies a set of styles based on background settings.\n * @param {Core} core MeeseOS Core instance reference\n * @param {Object} background\n */\nexport const applyBackgroundStyles = (core, background) => {\n\tif (background.type === \"static\") {\n\t\tcore.make(\"meeseOS/background-canvas\").removeAll();\n\t\tcreateStaticBackground(core, background);\n\t} else if (background.type === \"dynamic\") {\n\t\tcore.make(\"meeseOS/background-canvas\").start(\n\t\t\tbackground.effect,\n\t\t\tbackground.options\n\t\t);\n\t}\n};\n\n/**\n * Applies a cursor effect based on the specified settings.\n * @param {Object} cursor\n */\nexport const applyCursorEffect = (cursor) => {\n\t// Get the second to last element of the body and remove it if it is a canvas,\n\t// which removes any previous cursor effects\n\tconst body = document.querySelector(\"body\");\n\tconst secondToLastChild = body.children[body.children.length - 2];\n\tif (secondToLastChild && secondToLastChild.tagName === \"CANVAS\") {\n\t\tbody.removeChild(secondToLastChild);\n\t}\n\n\t// Calls the cursor effect function by name\n\tconst effectName = cursor.effect || \"none\";\n\tconst options = cursor.options || {};\n\tcursorEffects[effectName].effect(options);\n};\n\n/**\n * Creates a rectangle with the realestate panels takes up.\n */\nexport const createPanelSubtraction = (panel, panels) => {\n\tconst subtraction = { top: 0, left: 0, right: 0, bottom: 0 };\n\tconst set = (p) =>\n\t\t(subtraction[p.options.position] = p.$element.offsetHeight);\n\n\tif (panels.length > 0) {\n\t\tpanels.forEach(set);\n\t} else {\n\t\t// Backward compability\n\t\tset(panel);\n\t}\n\n\treturn subtraction;\n};\n\nexport const isVisible = (w) =>\n\tw && !w.getState(\"minimized\") && w.getState(\"focused\");\n\n/**\n * Resolves various resources.\n * @todo: Move all of this (and related) stuff to a Theme class\n * @param {Core} core MeeseOS Core instance reference\n */\nexport const resourceResolver = (core) => {\n\tconst media = supportedMedia();\n\n\tconst getThemeName = (type) => {\n\t\tconst defaultTheme = core.config(\"desktop.settings.\" + type);\n\t\treturn core\n\t\t\t.make(\"meeseOS/settings\")\n\t\t\t.get(\"meeseOS/desktop\", type, defaultTheme);\n\t};\n\n\tconst themeResource = (path) => {\n\t\tconst theme = getThemeName(\"theme\");\n\n\t\treturn core.url(`themes/${theme}/${path}`); // FIXME: Use metadata ?\n\t};\n\n\tconst getSoundThemeName = () => getThemeName(\"sounds\");\n\n\tconst soundResource = (path) => {\n\t\tif (!path.match(/\\.([a-z]+)$/)) {\n\t\t\tconst defaultExtension = \"mp3\";\n\t\t\tconst checkExtensions = [\"oga\", \"mp3\"];\n\t\t\tconst found = checkExtensions.find((str) => media.audio[str] === true);\n\t\t\tconst use = found || defaultExtension;\n\n\t\t\tpath += \".\" + use;\n\t\t}\n\n\t\tconst theme = getSoundThemeName();\n\n\t\treturn theme ? core.url(`sounds/${theme}/${path}`) : null; // FIXME: Use metadata ?\n\t};\n\n\tconst soundsEnabled = () => Boolean(getSoundThemeName());\n\n\tconst icon = (name) => {\n\t\t// Removes the standard icon extensions if they are present\n\t\tname = name.replace(/\\.(png|svg|gif)$/, \"\");\n\n\t\tconst { getMetadataFromName } = core.make(\"meeseOS/packages\");\n\t\tconst theme = getThemeName(\"icons\");\n\t\tconst metadata = getMetadataFromName(theme) || {};\n\t\tconst iconDefinitions = metadata.icons || {};\n\t\tconst extension = iconDefinitions[name] || \"png\";\n\n\t\treturn core.url(`icons/${theme}/icons/${name}.${extension}`);\n\t};\n\n\treturn { themeResource, soundResource, soundsEnabled, icon };\n};\n",
    "static": true,
    "longname": "/home/runner/work/meeseOS/meeseOS/frontend/client/src/utils/desktop.js",
    "access": "public",
    "description": null,
    "lineNumber": 1
  },
  {
    "__docId__": 583,
    "kind": "variable",
    "name": "imageDropMimes",
    "memberof": "src/utils/desktop.js",
    "static": true,
    "longname": "src/utils/desktop.js~imageDropMimes",
    "access": "public",
    "export": false,
    "importPath": "@meeseOS/client/src/utils/desktop.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 36,
    "undocument": true,
    "type": {
      "types": [
        "string[]"
      ]
    },
    "ignore": true
  },
  {
    "__docId__": 584,
    "kind": "function",
    "name": "validVfsDrop",
    "memberof": "src/utils/desktop.js",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "src/utils/desktop.js~validVfsDrop",
    "access": "public",
    "export": true,
    "importPath": "@meeseOS/client/src/utils/desktop.js",
    "importStyle": "{validVfsDrop}",
    "description": "Check if droppable data is a VFS type",
    "lineNumber": 49,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{Boolean}"
      }
    ],
    "params": [
      {
        "nullable": null,
        "types": [
          "Object"
        ],
        "spread": false,
        "optional": false,
        "name": "data",
        "description": ""
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "Boolean"
      ],
      "spread": false,
      "description": ""
    }
  },
  {
    "__docId__": 585,
    "kind": "function",
    "name": "isDroppingImage",
    "memberof": "src/utils/desktop.js",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "src/utils/desktop.js~isDroppingImage",
    "access": "public",
    "export": true,
    "importPath": "@meeseOS/client/src/utils/desktop.js",
    "importStyle": "{isDroppingImage}",
    "description": "Check if droppable data contains an image.",
    "lineNumber": 56,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{Boolean}"
      }
    ],
    "params": [
      {
        "nullable": null,
        "types": [
          "Object"
        ],
        "spread": false,
        "optional": false,
        "name": "data",
        "description": ""
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "Boolean"
      ],
      "spread": false,
      "description": ""
    }
  },
  {
    "__docId__": 586,
    "kind": "variable",
    "name": "standardResolutions",
    "memberof": "src/utils/desktop.js",
    "static": true,
    "longname": "src/utils/desktop.js~standardResolutions",
    "access": "public",
    "export": false,
    "importPath": "@meeseOS/client/src/utils/desktop.js",
    "importStyle": null,
    "description": "Array of common screen resolutions to match against and query Unsplash for.",
    "lineNumber": 61,
    "type": {
      "types": [
        "undefined[]"
      ]
    },
    "ignore": true
  },
  {
    "__docId__": 587,
    "kind": "function",
    "name": "getResolutionDistance",
    "memberof": "src/utils/desktop.js",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "src/utils/desktop.js~getResolutionDistance",
    "access": "public",
    "export": false,
    "importPath": "@meeseOS/client/src/utils/desktop.js",
    "importStyle": null,
    "description": "Calculates the size difference between the real size and a standard screen size.",
    "lineNumber": 89,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{Number} The distance between the real resolution and the standard resolution"
      },
      {
        "tagName": "@link",
        "tagValue": "https://stackoverflow.com/a/56306192/6456163"
      }
    ],
    "params": [
      {
        "nullable": null,
        "types": [
          "Object"
        ],
        "spread": false,
        "optional": false,
        "name": "realSize",
        "description": "The real size of the screen"
      },
      {
        "nullable": null,
        "types": [
          "Object"
        ],
        "spread": false,
        "optional": false,
        "name": "standard",
        "description": "The point to check for distance"
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "Number"
      ],
      "spread": false,
      "description": "The distance between the real resolution and the standard resolution"
    },
    "ignore": true
  },
  {
    "__docId__": 588,
    "kind": "function",
    "name": "getRandomWallpaper",
    "memberof": "src/utils/desktop.js",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "src/utils/desktop.js~getRandomWallpaper",
    "access": "public",
    "export": false,
    "importPath": "@meeseOS/client/src/utils/desktop.js",
    "importStyle": null,
    "description": "Uses the screen resolution to find an Unsplash wallpaper that matches the screen resolution.",
    "lineNumber": 100,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{String}"
      },
      {
        "tagName": "@link",
        "tagValue": "https://stackoverflow.com/a/56306192/6456163"
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "String"
      ],
      "spread": false,
      "description": ""
    },
    "params": [],
    "ignore": true
  },
  {
    "__docId__": 589,
    "kind": "function",
    "name": "createStaticBackground",
    "memberof": "src/utils/desktop.js",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "src/utils/desktop.js~createStaticBackground",
    "access": "public",
    "export": false,
    "importPath": "@meeseOS/client/src/utils/desktop.js",
    "importStyle": null,
    "description": "Creates a static background with an image and a color, if applicable.",
    "lineNumber": 122,
    "params": [
      {
        "nullable": null,
        "types": [
          "Core"
        ],
        "spread": false,
        "optional": false,
        "name": "core",
        "description": "MeeseOS Core instance reference"
      },
      {
        "nullable": null,
        "types": [
          "Object"
        ],
        "spread": false,
        "optional": false,
        "name": "background",
        "description": ""
      }
    ],
    "return": null,
    "ignore": true
  },
  {
    "__docId__": 590,
    "kind": "function",
    "name": "applyBackgroundStyles",
    "memberof": "src/utils/desktop.js",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "src/utils/desktop.js~applyBackgroundStyles",
    "access": "public",
    "export": true,
    "importPath": "@meeseOS/client/src/utils/desktop.js",
    "importStyle": "{applyBackgroundStyles}",
    "description": "Applies a set of styles based on background settings.",
    "lineNumber": 167,
    "params": [
      {
        "nullable": null,
        "types": [
          "Core"
        ],
        "spread": false,
        "optional": false,
        "name": "core",
        "description": "MeeseOS Core instance reference"
      },
      {
        "nullable": null,
        "types": [
          "Object"
        ],
        "spread": false,
        "optional": false,
        "name": "background",
        "description": ""
      }
    ],
    "return": null
  },
  {
    "__docId__": 591,
    "kind": "function",
    "name": "applyCursorEffect",
    "memberof": "src/utils/desktop.js",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "src/utils/desktop.js~applyCursorEffect",
    "access": "public",
    "export": true,
    "importPath": "@meeseOS/client/src/utils/desktop.js",
    "importStyle": "{applyCursorEffect}",
    "description": "Applies a cursor effect based on the specified settings.",
    "lineNumber": 183,
    "params": [
      {
        "nullable": null,
        "types": [
          "Object"
        ],
        "spread": false,
        "optional": false,
        "name": "cursor",
        "description": ""
      }
    ],
    "return": null
  },
  {
    "__docId__": 592,
    "kind": "function",
    "name": "createPanelSubtraction",
    "memberof": "src/utils/desktop.js",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "src/utils/desktop.js~createPanelSubtraction",
    "access": "public",
    "export": true,
    "importPath": "@meeseOS/client/src/utils/desktop.js",
    "importStyle": "{createPanelSubtraction}",
    "description": "Creates a rectangle with the realestate panels takes up.",
    "lineNumber": 201,
    "params": [
      {
        "name": "panel",
        "types": [
          "*"
        ]
      },
      {
        "name": "panels",
        "types": [
          "*"
        ]
      }
    ],
    "return": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 593,
    "kind": "function",
    "name": "isVisible",
    "memberof": "src/utils/desktop.js",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "src/utils/desktop.js~isVisible",
    "access": "public",
    "export": true,
    "importPath": "@meeseOS/client/src/utils/desktop.js",
    "importStyle": "{isVisible}",
    "description": null,
    "lineNumber": 216,
    "undocument": true,
    "params": [
      {
        "name": "w",
        "types": [
          "*"
        ]
      }
    ],
    "return": null,
    "ignore": true
  },
  {
    "__docId__": 594,
    "kind": "function",
    "name": "resourceResolver",
    "memberof": "src/utils/desktop.js",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "src/utils/desktop.js~resourceResolver",
    "access": "public",
    "export": true,
    "importPath": "@meeseOS/client/src/utils/desktop.js",
    "importStyle": "{resourceResolver}",
    "description": "Resolves various resources.\n@todo: Move all of this (and related) stuff to a Theme class",
    "lineNumber": 224,
    "params": [
      {
        "nullable": null,
        "types": [
          "Core"
        ],
        "spread": false,
        "optional": false,
        "name": "core",
        "description": "MeeseOS Core instance reference"
      }
    ],
    "return": {
      "types": [
        "{\"themeResource\": *, \"soundResource\": *, \"soundsEnabled\": *, \"icon\": *}"
      ]
    }
  },
  {
    "__docId__": 595,
    "kind": "file",
    "name": "src/utils/dnd.js",
    "content": "/**\n * OS.js - JavaScript Cloud/Web Desktop Platform\n *\n * Copyright (c) 2011-Present, Anders Evenrud <andersevenrud@gmail.com>\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *\n * 1. Redistributions of source code must retain the above copyright notice, this\n *    list of conditions and the following disclaimer\n * 2. Redistributions in binary form must reproduce the above copyright notice,\n *    this list of conditions and the following disclaimer in the documentation\n *    and/or other materials provided with the distribution\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\n * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR\n * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n *\n * @author  Anders Evenrud <andersevenrud@gmail.com>\n * @license Simplified BSD License\n */\n\nimport logger from \"../logger\";\n\n/**\n * @callback DraggableEvent\n * @param {MouseEvent} ev\n */\n\n/**\n * @callback DroppableEvent\n * @param {MouseEvent} ev\n */\n\n/**\n * @callback DroppedEvent\n * @param {MouseEvent} ev\n * @param {Object} data\n * @param {File[]} [files=[]]\n */\n\n/**\n * @typedef {Object} DroppableOptions\n * @property {String} [type=application/json] Content Type\n * @property {String} [effect=move] DnD effect (cursor)\n * @property {DroppableEvent} [ondragenter] Callback to event (ev) => {}\n * @property {DroppableEvent} [ondragover] Callback to event (ev) => {}\n * @property {DroppableEvent} [ondragleave] Callback to event (ev) => {}\n * @property {DroppedEvent} [ondrop] Callback to event (ev, data, files) => {}\n * @property {Boolean} [strict=false] Drop element must match exactly\n */\n\n/**\n * @typedef {Object} DroppableInstance\n * @property {Function} destroy\n */\n\n/**\n * @typedef {Object} DraggableOptions\n * @property {String} [type=application/json] Content Type\n * @property {String} [effect=move] DnD effect (cursor)\n * @property {DraggableEvent} [ondragstart] Callback to event (ev) => {}\n * @property {DraggableEvent} [ondragend] Callback to event (ev) => {}\n * @property {DraggableEvent} [setDragImage] Set custom drag image (browser dependent)\n */\n\n/**\n * @typedef {Object} DraggableInstance\n * @property {Function} destroy\n */\n\nconst retval = (fn, ...args) => {\n\ttry {\n\t\tconst result = fn(...args);\n\t\tif (typeof result === \"boolean\") {\n\t\t\treturn result;\n\t\t}\n\t} catch (e) {\n\t\tlogger.warn(\"droppable value parsing error\", e);\n\t}\n\n\treturn true;\n};\n\nconst getDataTransfer = (ev, type) => {\n\tlet files = [];\n\tlet data;\n\n\tif (ev.dataTransfer) {\n\t\tfiles = ev.dataTransfer.files ? Array.from(ev.dataTransfer.files) : [];\n\n\t\ttry {\n\t\t\tconst transfer = ev.dataTransfer.getData(type);\n\n\t\t\ttry {\n\t\t\t\tif (type === \"application/json\") {\n\t\t\t\t\tdata = typeof transfer === \"undefined\"\n\t\t\t\t\t\t? transfer\n\t\t\t\t\t\t: JSON.parse(transfer);\n\t\t\t\t} else {\n\t\t\t\t\tdata = transfer;\n\t\t\t\t}\n\t\t\t} catch (e) {\n\t\t\t\tdata = transfer;\n\t\t\t\tlogger.warn(\"droppable dataTransfer parsing error\", e);\n\t\t\t}\n\t\t} catch (e) {\n\t\t\tlogger.warn(\"droppable dataTransfer parsing error\", e);\n\t\t}\n\t}\n\n\treturn { files, data };\n};\n\nconst setDataTransfer = (type, effect, data, setDragImage) => {\n\tconst hasDragImage = typeof setDragImage === \"function\";\n\tconst transferData = type === \"application/json\"\n\t\t? JSON.stringify(data)\n\t\t: data;\n\n\treturn (ev, el, options) => {\n\t\tif (ev.dataTransfer) {\n\t\t\tif (ev.dataTransfer.setDragImage && hasDragImage) {\n\t\t\t\ttry {\n\t\t\t\t\tsetDragImage(ev, el, options);\n\t\t\t\t} catch (e) {\n\t\t\t\t\tlogger.warn(\"draggable dragstart setDragImage error\", e);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\ttry {\n\t\t\t\tev.dataTransfer.effectAllowed = effect;\n\t\t\t\tev.dataTransfer.setData(type, transferData);\n\t\t\t} catch (e) {\n\t\t\t\tlogger.warn(\"draggable dragstart dataTransfer error\", e);\n\t\t\t}\n\t\t}\n\t};\n};\n\n/**\n * Creates a \"draggable\" element\n * @param {Element} el The DOM element to apply to\n * @param {DraggableOptions} [options={}] Options\n * @returns {DraggableInstance}\n */\nexport const draggable = (el, options = {}) => {\n\tconst { type, effect, data, ondragstart, ondragend, setDragImage } = {\n\t\ttype: \"application/json\",\n\t\teffect: \"move\",\n\t\tondragstart: () => true,\n\t\tondragend: () => true,\n\t\tsetDragImage: null,\n\t\t...options,\n\t};\n\n\tconst setter = setDataTransfer(type, effect, data, setDragImage);\n\n\tconst dragstart = (ev) => {\n\t\tel.setAttribute(\"aria-grabbed\", \"true\");\n\t\tsetter(ev, el, options);\n\t\treturn ondragstart(ev);\n\t};\n\n\tconst dragend = (ev) => {\n\t\tel.setAttribute(\"aria-grabbed\", \"false\");\n\n\t\treturn ondragend(ev);\n\t};\n\n\tconst destroy = () => {\n\t\tel.removeAttribute(\"draggable\");\n\t\tel.removeAttribute(\"aria-grabbed\");\n\t\tel.removeEventListener(\"dragstart\", dragstart);\n\t\tel.removeEventListener(\"dragend\", dragend);\n\t\tel.classList.remove(\"meeseOS__draggable\");\n\t};\n\n\tel.setAttribute(\"draggable\", \"true\");\n\tel.setAttribute(\"aria-grabbed\", \"false\");\n\tel.addEventListener(\"dragstart\", dragstart);\n\tel.addEventListener(\"dragend\", dragend);\n\tel.classList.add(\"meeseOS__draggable\");\n\n\treturn { destroy };\n};\n\n/**\n * Creates a \"droppable\" element\n * @param {Element} el The DOM element to apply to\n * @param {DroppableOptions} [options={}] Options\n * @returns {DroppableInstance}\n */\nexport const droppable = (el, options = {}) => {\n\tconst { strict, type, effect, ondragenter, ondragover, ondragleave, ondrop } =\n\t\t{\n\t\t\ttype: \"application/json\",\n\t\t\teffect: \"move\",\n\t\t\tondragenter: () => true,\n\t\t\tondragover: () => true,\n\t\t\tondragleave: () => true,\n\t\t\tondrop: () => true,\n\t\t\tstrict: false,\n\t\t\t...options,\n\t\t};\n\n\tconst dragenter = (ev) => ondragenter(ev);\n\n\tconst dragleave = (ev) => {\n\t\tel.classList.remove(\"meeseOS__drop\");\n\n\t\treturn retval(ondragleave, ev);\n\t};\n\n\tconst dragover = (ev) => {\n\t\tev.preventDefault();\n\n\t\tconst inside = el.contains(ev.target);\n\n\t\tif (!inside) {\n\t\t\tel.classList.remove(\"meeseOS__drop\");\n\t\t\treturn false;\n\t\t}\n\n\t\tev.stopPropagation();\n\t\tev.dataTransfer.dropEffect = effect;\n\t\tel.classList.add(\"meeseOS__drop\");\n\n\t\treturn retval(ondragover, ev);\n\t};\n\n\tconst drop = (ev) => {\n\t\tif (strict && ev.target !== el) {\n\t\t\treturn false;\n\t\t}\n\n\t\tconst { files, data } = getDataTransfer(ev, type);\n\n\t\tev.stopPropagation();\n\t\tev.preventDefault();\n\t\tel.classList.remove(\"meeseOS__drop\");\n\n\t\treturn retval(ondrop, ev, data, files);\n\t};\n\n\tconst destroy = () => {\n\t\tel.removeAttribute(\"aria-dropeffect\", effect);\n\t\tel.removeEventListener(\"dragenter\", dragenter);\n\t\tel.removeEventListener(\"dragover\", dragover);\n\t\tel.removeEventListener(\"dragleave\", dragleave);\n\t\tel.removeEventListener(\"drop\", drop);\n\t\tel.classList.remove(\"meeseOS__droppable\");\n\t};\n\n\tel.setAttribute(\"aria-dropeffect\", effect);\n\tel.addEventListener(\"dragenter\", dragenter);\n\tel.addEventListener(\"dragover\", dragover);\n\tel.addEventListener(\"dragleave\", dragleave);\n\tel.addEventListener(\"drop\", drop);\n\tel.classList.add(\"meeseOS__droppable\");\n\n\treturn { destroy };\n};\n",
    "static": true,
    "longname": "/home/runner/work/meeseOS/meeseOS/frontend/client/src/utils/dnd.js",
    "access": "public",
    "description": null,
    "lineNumber": 1
  },
  {
    "__docId__": 596,
    "kind": "typedef",
    "name": "DroppableOptions",
    "memberof": "src/utils/dnd.js",
    "static": true,
    "longname": "src/utils/dnd.js~DroppableOptions",
    "access": "public",
    "description": "",
    "properties": [
      {
        "nullable": null,
        "types": [
          "String"
        ],
        "spread": false,
        "optional": true,
        "defaultValue": "application/json",
        "defaultRaw": "application/json",
        "name": "type",
        "description": "Content Type"
      },
      {
        "nullable": null,
        "types": [
          "String"
        ],
        "spread": false,
        "optional": true,
        "defaultValue": "move",
        "defaultRaw": "move",
        "name": "effect",
        "description": "DnD effect (cursor)"
      },
      {
        "nullable": null,
        "types": [
          "DroppableEvent"
        ],
        "spread": false,
        "optional": true,
        "name": "ondragenter",
        "description": "Callback to event (ev) => {}"
      },
      {
        "nullable": null,
        "types": [
          "DroppableEvent"
        ],
        "spread": false,
        "optional": true,
        "name": "ondragover",
        "description": "Callback to event (ev) => {}"
      },
      {
        "nullable": null,
        "types": [
          "DroppableEvent"
        ],
        "spread": false,
        "optional": true,
        "name": "ondragleave",
        "description": "Callback to event (ev) => {}"
      },
      {
        "nullable": null,
        "types": [
          "DroppedEvent"
        ],
        "spread": false,
        "optional": true,
        "name": "ondrop",
        "description": "Callback to event (ev, data, files) => {}"
      },
      {
        "nullable": null,
        "types": [
          "Boolean"
        ],
        "spread": false,
        "optional": true,
        "defaultValue": "false",
        "defaultRaw": false,
        "name": "strict",
        "description": "Drop element must match exactly"
      }
    ],
    "type": {
      "types": [
        "Object"
      ],
      "optional": false,
      "name": "DroppableOptions"
    }
  },
  {
    "__docId__": 597,
    "kind": "typedef",
    "name": "DroppableInstance",
    "memberof": "src/utils/dnd.js",
    "static": true,
    "longname": "src/utils/dnd.js~DroppableInstance",
    "access": "public",
    "description": "",
    "properties": [
      {
        "nullable": null,
        "types": [
          "Function"
        ],
        "spread": false,
        "optional": false,
        "name": "destroy",
        "description": ""
      }
    ],
    "type": {
      "types": [
        "Object"
      ],
      "optional": false,
      "name": "DroppableInstance"
    }
  },
  {
    "__docId__": 598,
    "kind": "typedef",
    "name": "DraggableOptions",
    "memberof": "src/utils/dnd.js",
    "static": true,
    "longname": "src/utils/dnd.js~DraggableOptions",
    "access": "public",
    "description": "",
    "properties": [
      {
        "nullable": null,
        "types": [
          "String"
        ],
        "spread": false,
        "optional": true,
        "defaultValue": "application/json",
        "defaultRaw": "application/json",
        "name": "type",
        "description": "Content Type"
      },
      {
        "nullable": null,
        "types": [
          "String"
        ],
        "spread": false,
        "optional": true,
        "defaultValue": "move",
        "defaultRaw": "move",
        "name": "effect",
        "description": "DnD effect (cursor)"
      },
      {
        "nullable": null,
        "types": [
          "DraggableEvent"
        ],
        "spread": false,
        "optional": true,
        "name": "ondragstart",
        "description": "Callback to event (ev) => {}"
      },
      {
        "nullable": null,
        "types": [
          "DraggableEvent"
        ],
        "spread": false,
        "optional": true,
        "name": "ondragend",
        "description": "Callback to event (ev) => {}"
      },
      {
        "nullable": null,
        "types": [
          "DraggableEvent"
        ],
        "spread": false,
        "optional": true,
        "name": "setDragImage",
        "description": "Set custom drag image (browser dependent)"
      }
    ],
    "type": {
      "types": [
        "Object"
      ],
      "optional": false,
      "name": "DraggableOptions"
    }
  },
  {
    "__docId__": 599,
    "kind": "typedef",
    "name": "DraggableInstance",
    "memberof": "src/utils/dnd.js",
    "static": true,
    "longname": "src/utils/dnd.js~DraggableInstance",
    "access": "public",
    "description": "",
    "lineNumber": 80,
    "properties": [
      {
        "nullable": null,
        "types": [
          "Function"
        ],
        "spread": false,
        "optional": false,
        "name": "destroy",
        "description": ""
      }
    ],
    "type": {
      "types": [
        "Object"
      ],
      "optional": false,
      "name": "DraggableInstance"
    }
  },
  {
    "__docId__": 600,
    "kind": "function",
    "name": "getDataTransfer",
    "memberof": "src/utils/dnd.js",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "src/utils/dnd.js~getDataTransfer",
    "access": "public",
    "export": false,
    "importPath": "@meeseOS/client/src/utils/dnd.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 93,
    "undocument": true,
    "params": [
      {
        "name": "ev",
        "types": [
          "*"
        ]
      },
      {
        "name": "type",
        "types": [
          "*"
        ]
      }
    ],
    "return": {
      "types": [
        "{\"files\": *, \"data\": *}"
      ]
    },
    "ignore": true
  },
  {
    "__docId__": 601,
    "kind": "function",
    "name": "setDataTransfer",
    "memberof": "src/utils/dnd.js",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "src/utils/dnd.js~setDataTransfer",
    "access": "public",
    "export": false,
    "importPath": "@meeseOS/client/src/utils/dnd.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 123,
    "undocument": true,
    "params": [
      {
        "name": "type",
        "types": [
          "*"
        ]
      },
      {
        "name": "effect",
        "types": [
          "*"
        ]
      },
      {
        "name": "data",
        "types": [
          "*"
        ]
      },
      {
        "name": "setDragImage",
        "types": [
          "*"
        ]
      }
    ],
    "return": {
      "types": [
        "*"
      ]
    },
    "ignore": true
  },
  {
    "__docId__": 602,
    "kind": "function",
    "name": "draggable",
    "memberof": "src/utils/dnd.js",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "src/utils/dnd.js~draggable",
    "access": "public",
    "export": true,
    "importPath": "@meeseOS/client/src/utils/dnd.js",
    "importStyle": "{draggable}",
    "description": "Creates a \"draggable\" element",
    "lineNumber": 155,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{DraggableInstance}"
      }
    ],
    "params": [
      {
        "nullable": null,
        "types": [
          "Element"
        ],
        "spread": false,
        "optional": false,
        "name": "el",
        "description": "The DOM element to apply to"
      },
      {
        "nullable": null,
        "types": [
          "DraggableOptions"
        ],
        "spread": false,
        "optional": true,
        "defaultValue": "{}",
        "defaultRaw": {},
        "name": "options",
        "description": "Options"
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "DraggableInstance"
      ],
      "spread": false,
      "description": ""
    }
  },
  {
    "__docId__": 603,
    "kind": "function",
    "name": "droppable",
    "memberof": "src/utils/dnd.js",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "src/utils/dnd.js~droppable",
    "access": "public",
    "export": true,
    "importPath": "@meeseOS/client/src/utils/dnd.js",
    "importStyle": "{droppable}",
    "description": "Creates a \"droppable\" element",
    "lineNumber": 202,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{DroppableInstance}"
      }
    ],
    "params": [
      {
        "nullable": null,
        "types": [
          "Element"
        ],
        "spread": false,
        "optional": false,
        "name": "el",
        "description": "The DOM element to apply to"
      },
      {
        "nullable": null,
        "types": [
          "DroppableOptions"
        ],
        "spread": false,
        "optional": true,
        "defaultValue": "{}",
        "defaultRaw": {},
        "name": "options",
        "description": "Options"
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "DroppableInstance"
      ],
      "spread": false,
      "description": ""
    }
  },
  {
    "__docId__": 604,
    "kind": "file",
    "name": "src/utils/dom-animator.js",
    "content": "/**\n * DomAnimator.js\n *\n * MIT licensed\n * Copyright (C) 2015 Tim Holman, http://tholman.com\n */\n\n// eslint-disable-next-line spaced-comment\n/*********************************************\n * DomAnimator\n *********************************************/\n\nexport const DomAnimator = function() {\n\t\"use strict\";\n\n\tlet currentFrame = 0;\n\tlet frames = [];\n\tlet nodes = [];\n\n\t// Chrome console shows new lines, others don't...\n\t// so multiple comments are used on others, to look good.\n\tlet multiNode = !window.chrome;\n\n\tlet interval = null;\n\tlet defaultTime = 500; // ms\n\tlet attached = false;\n\tlet whiteSpaceString = \"\\u00A0\";\n\n\t// Soft object augmentation\n\tfunction extend(target, source) {\n\t\tfor (let key in source) {\n\t\t\tif (!(key in target)) {\n\t\t\t\ttarget[key] = source[key];\n\t\t\t}\n\t\t}\n\t\treturn target;\n\t}\n\n\t// Frame passed through as a list []\n\tfunction parseMultilineFrame(frame) {\n\t\treturn multiNode ? swapWhitespace(frame) : padString(frame.join(\"\\n\"));\n\t}\n\n\t// Frame passed through as a string.\n\tfunction parseSingleLineFrame(frame) {\n\t\treturn multiNode ? swapWhitespace(frame.split(\"\\n\")) : padString(frame);\n\t}\n\n\tfunction swapWhitespace(array) {\n\t\tlet i = 0;\n\n\t\tfor (i; i < array.length; i++) {\n\t\t\tarray[i] = array[i].replace(/ /g, whiteSpaceString);\n\t\t}\n\t\treturn array;\n\t}\n\n\tfunction animate(time) {\n\t\t// No time set, just use default!\n\t\tif (!time) time = defaultTime;\n\n\t\t// No frames\n\t\tif (frames.length === 0) {\n\t\t\treturn console.log(\n\t\t\t\t\"I need frames to animate. You can add them with .addFrame( string )\"\n\t\t\t);\n\t\t}\n\n\t\tif (attached === false) {\n\t\t\tattachToDocument();\n\t\t}\n\n\t\tinterval = setInterval(() => {\n\t\t\trenderFrame();\n\t\t}, time);\n\t}\n\n\tfunction renderFrame() {\n\t\tlet frameData = frames[currentFrame];\n\n\t\tif (multiNode) {\n\t\t\tfor (let i = 0; i < nodes.length; i++) {\n\t\t\t\tnodes[i].nodeValue = frameData[i];\n\t\t\t}\n\t\t} else {\n\t\t\tnodes[0].nodeValue = frameData;\n\t\t}\n\n\t\tcurrentFrame = currentFrame + 1;\n\t\tif (currentFrame === frames.length) {\n\t\t\tcurrentFrame = 0;\n\t\t}\n\t}\n\n\tfunction attachToDocument() {\n\t\tlet head = document.head;\n\t\tlet parent = head.parentNode;\n\n\t\t// This assumes you have the same amount of frames in each section.\n\t\tif (multiNode) {\n\t\t\tlet totalNodes = frames[0].length;\n\t\t\tfor (let i = 0; i < totalNodes; i++) {\n\t\t\t\tlet node = document.createComment(\"\");\n\t\t\t\tnodes.push(node);\n\t\t\t\tparent.insertBefore(node, head);\n\t\t\t}\n\t\t} else {\n\t\t\tlet node = document.createComment(\"\");\n\t\t\tnodes.push(node);\n\t\t\tparent.insertBefore(node, head);\n\t\t}\n\t}\n\n\tfunction stop() {\n\t\tclearInterval(interval);\n\t}\n\n\tfunction addFrame(frameData) {\n\t\tif (!frameData) frameData = \"no frame data\";\n\n\t\tlet frameType = typeof frameData;\n\n\t\t// Multi line data.\n\t\tif (frameType === \"object\") {\n\t\t\tframes.push(parseMultilineFrame(frameData));\n\n\t\t\t// String data\n\t\t} else if (frameType === \"string\") {\n\t\t\tframes.push(parseSingleLineFrame(frameData));\n\t\t}\n\t}\n\n\tfunction padString(string) {\n\t\treturn \"\\n\" + string + \"\\n\";\n\t}\n\n\tfunction main() {}\n\n\treturn extend(main, {\n\t\taddFrame: addFrame,\n\t\tanimate: animate,\n\t\tstop: stop,\n\t});\n};\n",
    "static": true,
    "longname": "/home/runner/work/meeseOS/meeseOS/frontend/client/src/utils/dom-animator.js",
    "access": "public",
    "description": null,
    "lineNumber": 1
  },
  {
    "__docId__": 605,
    "kind": "function",
    "name": "DomAnimator",
    "memberof": "src/utils/dom-animator.js",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "src/utils/dom-animator.js~DomAnimator",
    "access": "public",
    "export": true,
    "importPath": "@meeseOS/client/src/utils/dom-animator.js",
    "importStyle": "{DomAnimator}",
    "description": "******************************************\nDomAnimator\n*******************************************",
    "lineNumber": 13,
    "params": [],
    "return": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 606,
    "kind": "file",
    "name": "src/utils/dom.js",
    "content": "/**\n * OS.js - JavaScript Cloud/Web Desktop Platform\n *\n * Copyright (c) 2011-Present, Anders Evenrud <andersevenrud@gmail.com>\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *\n * 1. Redistributions of source code must retain the above copyright notice, this\n *    list of conditions and the following disclaimer\n * 2. Redistributions in binary form must reproduce the above copyright notice,\n *    this list of conditions and the following disclaimer in the documentation\n *    and/or other materials provided with the distribution\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\n * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR\n * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n *\n * @author  Anders Evenrud <andersevenrud@gmail.com>\n * @license Simplified BSD License\n */\n\nimport logger from \"../logger\";\n\nconst supportsNativeNotification = \"Notification\" in window;\n\n/**\n * Creates a new CSS DOM element\n * @param {Element} root Root node\n * @param {String} src Source\n * @returns {Promise<ScriptElement>}\n */\nexport const style = (root, src) =>\n\tnew Promise((resolve, reject) => {\n\t\tconst el = document.createElement(\"link\");\n\t\tel.setAttribute(\"rel\", \"stylesheet\");\n\t\tel.setAttribute(\"type\", \"text/css\");\n\t\tel.onload = () => resolve(el);\n\t\tel.onerror = (err) => reject(err);\n\t\tel.setAttribute(\"href\", src);\n\n\t\troot.appendChild(el);\n\n\t\treturn el;\n\t});\n\n/**\n * Creates a new Script DOM element\n * @param {Element} root Root node\n * @param {String} src Source\n * @returns {Promise<StyleElement>}\n */\nexport const script = (root, src) =>\n\tnew Promise((resolve, reject) => {\n\t\tconst el = document.createElement(\"script\");\n\t\tel.onreadystatechange = function() {\n\t\t\tif (this.readyState === \"complete\" || this.readyState === \"loaded\") {\n\t\t\t\tresolve(el);\n\t\t\t}\n\t\t};\n\t\tel.onerror = (err) => reject(err);\n\t\tel.onload = () => resolve(el);\n\t\tel.src = src;\n\n\t\troot.appendChild(el);\n\n\t\treturn el;\n\t});\n\n/**\n * Escape text so it is \"safe\" for HTML usage\n * @param {String} text Input text\n * @returns {String}\n */\nexport const escapeHtml = (text) => {\n\tconst div = document.createElement(\"div\");\n\tdiv.innerHTML = text;\n\treturn div.textContent;\n};\n\n/**\n * Serialize an object to CSS\n * @param {Object} obj Object\n * @returns {String} CSS text\n */\nexport const createCssText = (obj) =>\n\tObject.keys(obj)\n\t\t.map((k) => [k, k.replace(/([a-z])([A-Z])/g, \"$1-$2\").toLowerCase()])\n\t\t.map((k) => `${k[1]}: ${obj[k[0]]}`)\n\t\t.join(\";\");\n\n/**\n * Inserts a tab in the given event target\n * @param {Event} ev DOM Event\n */\nexport const handleTabOnTextarea = (ev) => {\n\tconst input = ev.target;\n\tlet { selectionStart, selectionEnd, value } = input;\n\n\tinput.value =\n\t\tvalue.substring(0, selectionStart) +\n\t\t\"\\t\" +\n\t\tvalue.substring(selectionEnd, value.length);\n\n\tselectionStart++;\n\n\tinput.selectionStart = selectionStart;\n\tinput.selectionEnd = selectionStart;\n};\n\n/*\n * Get active element if belonging to root\n * @param {Element} root DOM Element\n * @returns {Element|null}\n */\nexport const getActiveElement = (root) => {\n\tif (root) {\n\t\tconst ae = document.activeElement;\n\n\t\treturn root.contains(ae) ? ae : null;\n\t}\n\n\treturn null;\n};\n\n/**\n * Checks if passive events is supported\n * @link https://github.com/WICG/EventListenerOptions/blob/gh-pages/explainer.md\n * @returns {Boolean}\n */\nexport const supportsPassive = (function() {\n\tlet supportsPassive = false;\n\ttry {\n\t\tconst opts = Object.defineProperty({}, \"passive\", {\n\t\t\tget: () => (supportsPassive = true),\n\t\t});\n\n\t\twindow.addEventListener(\"testPassive\", null, opts);\n\t\twindow.removeEventListener(\"testPassive\", null, opts);\n\t} catch (e) {\n\t\t// noop\n\t}\n\n\treturn () => supportsPassive;\n})();\n\n/**\n * Plays a sound\n * @param {String} src Sound source\n * @param {Object} [options] Options\n * @returns {Promise<HTMLAudioElement>}\n */\nexport const playSound = (src, options = {}) => {\n\tconst opts = {\n\t\tvolume: 1.0,\n\t\t...options,\n\t};\n\n\tconst audio = new Audio();\n\taudio.volume = opts.volume;\n\taudio.src = src;\n\n\ttry {\n\t\tconst p = audio.play();\n\t\tif (p instanceof Promise) {\n\t\t\treturn p\n\t\t\t\t.then(() => audio)\n\t\t\t\t.catch((err) => logger.warn(\"Failed to play sound\", src, err));\n\t\t}\n\t} catch (e) {\n\t\tlogger.warn(\"Failed to play sound\", src, e);\n\t}\n\n\treturn Promise.resolve(audio);\n};\n\n/**\n * Gets supported media types\n * @returns {Object}\n */\nexport const supportedMedia = () => {\n\tconst videoFormats = {\n\t\tmp4: \"video/mp4\",\n\t\togv: \"video/ogg\",\n\t};\n\n\tconst audioFormats = {\n\t\tmp3: \"audio/mpeg\",\n\t\tmp4: \"audio/mp4\",\n\t\toga: \"audio/ogg\",\n\t};\n\n\tconst reduce = (list, elem) =>\n\t\tObject.keys(list).reduce((result, format) => {\n\t\t\treturn {\n\t\t\t\t[format]: elem.canPlayType(list[format]) === \"probably\",\n\t\t\t\t...result,\n\t\t\t};\n\t\t}, {});\n\n\treturn {\n\t\taudio: reduce(audioFormats, document.createElement(\"audio\")),\n\t\tvideo: reduce(videoFormats, document.createElement(\"video\")),\n\t};\n};\n\n/**\n * Gets if CSS transitions is supported\n * @returns {Boolean}\n */\nexport const supportsTransition = (function() {\n\tconst el = document.createElement(\"div\");\n\tconst tests = [\n\t\t\"WebkitTransition\",\n\t\t\"MozTransition\",\n\t\t\"OTransition\",\n\t\t\"transition\",\n\t];\n\tconst supported = tests.some((name) => typeof el.style[name] !== \"undefined\");\n\n\treturn () => supported;\n})();\n\n/**\n * Creates a native notification\n * @param {Object} options Notification options\n * @param {Function} [onclick] Callback on click\n * @returns {Promise<window.Notification>}\n */\nexport const createNativeNotification = (options, onclick) => {\n\tconst Notif = window.Notification;\n\n\tconst create = () => {\n\t\tconst notification = new Notif(options.title, {\n\t\t\tbody: options.message,\n\t\t\ticon: options.icon,\n\t\t});\n\n\t\tnotification.onclick = onclick;\n\n\t\treturn notification;\n\t};\n\n\tif (supportsNativeNotification) {\n\t\tif (Notif.permission === \"granted\") {\n\t\t\treturn Promise.resolve(create());\n\t\t} else if (Notif.permission !== \"denied\") {\n\t\t\treturn new Promise((resolve, reject) => {\n\t\t\t\tNotif.requestPermission((permission) => {\n\t\t\t\t\treturn permission === \"granted\" ? resolve(true) : reject(permission);\n\t\t\t\t});\n\t\t\t}).then(create);\n\t\t}\n\t}\n\n\treturn Promise.reject(\"Unsupported\");\n};\n",
    "static": true,
    "longname": "/home/runner/work/meeseOS/meeseOS/frontend/client/src/utils/dom.js",
    "access": "public",
    "description": null,
    "lineNumber": 1
  },
  {
    "__docId__": 607,
    "kind": "variable",
    "name": "supportsNativeNotification",
    "memberof": "src/utils/dom.js",
    "static": true,
    "longname": "src/utils/dom.js~supportsNativeNotification",
    "access": "public",
    "export": false,
    "importPath": "@meeseOS/client/src/utils/dom.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 33,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    },
    "ignore": true
  },
  {
    "__docId__": 608,
    "kind": "function",
    "name": "style",
    "memberof": "src/utils/dom.js",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "src/utils/dom.js~style",
    "access": "public",
    "export": true,
    "importPath": "@meeseOS/client/src/utils/dom.js",
    "importStyle": "{style}",
    "description": "Creates a new CSS DOM element",
    "lineNumber": 41,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{Promise<ScriptElement>}"
      }
    ],
    "params": [
      {
        "nullable": null,
        "types": [
          "Element"
        ],
        "spread": false,
        "optional": false,
        "name": "root",
        "description": "Root node"
      },
      {
        "nullable": null,
        "types": [
          "String"
        ],
        "spread": false,
        "optional": false,
        "name": "src",
        "description": "Source"
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "Promise<ScriptElement>"
      ],
      "spread": false,
      "description": ""
    }
  },
  {
    "__docId__": 609,
    "kind": "function",
    "name": "script",
    "memberof": "src/utils/dom.js",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "src/utils/dom.js~script",
    "access": "public",
    "export": true,
    "importPath": "@meeseOS/client/src/utils/dom.js",
    "importStyle": "{script}",
    "description": "Creates a new Script DOM element",
    "lineNumber": 61,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{Promise<StyleElement>}"
      }
    ],
    "params": [
      {
        "nullable": null,
        "types": [
          "Element"
        ],
        "spread": false,
        "optional": false,
        "name": "root",
        "description": "Root node"
      },
      {
        "nullable": null,
        "types": [
          "String"
        ],
        "spread": false,
        "optional": false,
        "name": "src",
        "description": "Source"
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "Promise<StyleElement>"
      ],
      "spread": false,
      "description": ""
    }
  },
  {
    "__docId__": 610,
    "kind": "function",
    "name": "escapeHtml",
    "memberof": "src/utils/dom.js",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "src/utils/dom.js~escapeHtml",
    "access": "public",
    "export": true,
    "importPath": "@meeseOS/client/src/utils/dom.js",
    "importStyle": "{escapeHtml}",
    "description": "Escape text so it is \"safe\" for HTML usage",
    "lineNumber": 83,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{String}"
      }
    ],
    "params": [
      {
        "nullable": null,
        "types": [
          "String"
        ],
        "spread": false,
        "optional": false,
        "name": "text",
        "description": "Input text"
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "String"
      ],
      "spread": false,
      "description": ""
    }
  },
  {
    "__docId__": 611,
    "kind": "function",
    "name": "createCssText",
    "memberof": "src/utils/dom.js",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "src/utils/dom.js~createCssText",
    "access": "public",
    "export": true,
    "importPath": "@meeseOS/client/src/utils/dom.js",
    "importStyle": "{createCssText}",
    "description": "Serialize an object to CSS",
    "lineNumber": 94,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{String} CSS text"
      }
    ],
    "params": [
      {
        "nullable": null,
        "types": [
          "Object"
        ],
        "spread": false,
        "optional": false,
        "name": "obj",
        "description": "Object"
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "String"
      ],
      "spread": false,
      "description": "CSS text"
    }
  },
  {
    "__docId__": 612,
    "kind": "function",
    "name": "handleTabOnTextarea",
    "memberof": "src/utils/dom.js",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "src/utils/dom.js~handleTabOnTextarea",
    "access": "public",
    "export": true,
    "importPath": "@meeseOS/client/src/utils/dom.js",
    "importStyle": "{handleTabOnTextarea}",
    "description": "Inserts a tab in the given event target",
    "lineNumber": 104,
    "params": [
      {
        "nullable": null,
        "types": [
          "Event"
        ],
        "spread": false,
        "optional": false,
        "name": "ev",
        "description": "DOM Event"
      }
    ],
    "return": null
  },
  {
    "__docId__": 613,
    "kind": "function",
    "name": "getActiveElement",
    "memberof": "src/utils/dom.js",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "src/utils/dom.js~getActiveElement",
    "access": "public",
    "export": true,
    "importPath": "@meeseOS/client/src/utils/dom.js",
    "importStyle": "{getActiveElement}",
    "description": null,
    "lineNumber": 124,
    "undocument": true,
    "params": [
      {
        "name": "root",
        "types": [
          "*"
        ]
      }
    ],
    "return": {
      "types": [
        "*"
      ]
    },
    "ignore": true
  },
  {
    "__docId__": 614,
    "kind": "variable",
    "name": "supportsPassive",
    "memberof": "src/utils/dom.js",
    "static": true,
    "longname": "src/utils/dom.js~supportsPassive",
    "access": "public",
    "export": true,
    "importPath": "@meeseOS/client/src/utils/dom.js",
    "importStyle": "{supportsPassive}",
    "description": "Checks if passive events is supported",
    "lineNumber": 139,
    "unknown": [
      {
        "tagName": "@link",
        "tagValue": "https://github.com/WICG/EventListenerOptions/blob/gh-pages/explainer.md"
      },
      {
        "tagName": "@returns",
        "tagValue": "{Boolean}"
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "Boolean"
      ],
      "spread": false,
      "description": ""
    },
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 615,
    "kind": "function",
    "name": "playSound",
    "memberof": "src/utils/dom.js",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "src/utils/dom.js~playSound",
    "access": "public",
    "export": true,
    "importPath": "@meeseOS/client/src/utils/dom.js",
    "importStyle": "{playSound}",
    "description": "Plays a sound",
    "lineNumber": 161,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{Promise<HTMLAudioElement>}"
      }
    ],
    "params": [
      {
        "nullable": null,
        "types": [
          "String"
        ],
        "spread": false,
        "optional": false,
        "name": "src",
        "description": "Sound source"
      },
      {
        "nullable": null,
        "types": [
          "Object"
        ],
        "spread": false,
        "optional": true,
        "name": "options",
        "description": "Options"
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "Promise<HTMLAudioElement>"
      ],
      "spread": false,
      "description": ""
    }
  },
  {
    "__docId__": 616,
    "kind": "function",
    "name": "supportedMedia",
    "memberof": "src/utils/dom.js",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "src/utils/dom.js~supportedMedia",
    "access": "public",
    "export": true,
    "importPath": "@meeseOS/client/src/utils/dom.js",
    "importStyle": "{supportedMedia}",
    "description": "Gets supported media types",
    "lineNumber": 189,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{Object}"
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "Object"
      ],
      "spread": false,
      "description": ""
    },
    "params": []
  },
  {
    "__docId__": 617,
    "kind": "variable",
    "name": "supportsTransition",
    "memberof": "src/utils/dom.js",
    "static": true,
    "longname": "src/utils/dom.js~supportsTransition",
    "access": "public",
    "export": true,
    "importPath": "@meeseOS/client/src/utils/dom.js",
    "importStyle": "{supportsTransition}",
    "description": "Gets if CSS transitions is supported",
    "lineNumber": 219,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{Boolean}"
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "Boolean"
      ],
      "spread": false,
      "description": ""
    },
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 618,
    "kind": "function",
    "name": "createNativeNotification",
    "memberof": "src/utils/dom.js",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "src/utils/dom.js~createNativeNotification",
    "access": "public",
    "export": true,
    "importPath": "@meeseOS/client/src/utils/dom.js",
    "importStyle": "{createNativeNotification}",
    "description": "Creates a native notification",
    "lineNumber": 238,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{Promise<window.Notification>}"
      }
    ],
    "params": [
      {
        "nullable": null,
        "types": [
          "Object"
        ],
        "spread": false,
        "optional": false,
        "name": "options",
        "description": "Notification options"
      },
      {
        "nullable": null,
        "types": [
          "Function"
        ],
        "spread": false,
        "optional": true,
        "name": "onclick",
        "description": "Callback on click"
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "Promise<window.Notification>"
      ],
      "spread": false,
      "description": ""
    }
  },
  {
    "__docId__": 619,
    "kind": "file",
    "name": "src/utils/fetch.js",
    "content": "/**\n * OS.js - JavaScript Cloud/Web Desktop Platform\n *\n * Copyright (c) 2011-Present, Anders Evenrud <andersevenrud@gmail.com>\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *\n * 1. Redistributions of source code must retain the above copyright notice, this\n *    list of conditions and the following disclaimer\n * 2. Redistributions in binary form must reproduce the above copyright notice,\n *    this list of conditions and the following disclaimer in the documentation\n *    and/or other materials provided with the distribution\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\n * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR\n * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n *\n * @author  Anders Evenrud <andersevenrud@gmail.com>\n * @license Simplified BSD License\n */\n\n/**\n * Creates URL request path.\n * @param {Object} data\n * @returns {String}\n */\nconst encodeQueryData = (data) =>\n\tObject.keys(data)\n\t\t.filter((key) => typeof data[key] !== \"object\")\n\t\t.map((key) => encodeURIComponent(key) + \"=\" + encodeURIComponent(data[key]))\n\t\t.join(\"&\");\n\nconst bodyTypes = [\n\twindow.ArrayBuffer,\n\twindow.ArrayBufferView,\n\twindow.Blob,\n\twindow.File,\n\twindow.URLSearchParams,\n\twindow.FormData,\n].filter((type) => Boolean(type));\n\n/**\n * Creates fetch() options.\n *\n * @param {String} url\n * @param {Object} options\n * @param {String} type\n * @returns {Array}\n */\nconst createFetchOptions = (url, options, type) => {\n\tconst fetchOptions = {\n\t\tcredentials: \"same-origin\",\n\t\tmethod: \"get\",\n\t\theaders: {},\n\t\t...options,\n\t};\n\n\tif (type === \"json\") {\n\t\tfetchOptions.headers = {\n\t\t\t...fetchOptions.headers,\n\t\t\tAccept: \"application/json, text/plain, */*\",\n\t\t\t\"Content-Type\": \"application/json\",\n\t\t};\n\t}\n\n\tif (fetchOptions.body && fetchOptions.method.toLowerCase() === \"get\") {\n\t\turl += \"?\" + encodeQueryData(fetchOptions.body);\n\t\tdelete fetchOptions.body;\n\t}\n\n\tconst hasBody = typeof fetchOptions.body !== \"undefined\";\n\tconst stringBody = typeof fetchOptions.body === \"string\";\n\n\tif (type === \"json\" && hasBody && !stringBody) {\n\t\tif (!(fetchOptions.body instanceof FormData)) {\n\t\t\tconst found = bodyTypes.find((type) => fetchOptions.body instanceof type);\n\t\t\tif (!found) {\n\t\t\t\tfetchOptions.body = JSON.stringify(fetchOptions.body);\n\t\t\t}\n\t\t}\n\t}\n\n\treturn [url, fetchOptions];\n};\n\n/**\n * This is a fetch polyfill for XMLHttpRequest.\n * Mainly used to get upload progress indicator.\n * @param {String} target The target URL\n * @param {Object} fetchOptions The request options\n * @returns {Promise}\n */\nconst fetchXhr = (target, fetchOptions) =>\n\tnew Promise((resolve, reject) => {\n\t\tconst req = new XMLHttpRequest();\n\n\t\tconst onError = (msg) => (ev) => {\n\t\t\tconsole.warn(msg, ev);\n\t\t\treject(new Error(msg));\n\t\t};\n\n\t\tconst onLoad = () => {\n\t\t\tresolve({\n\t\t\t\tstatus: req.status,\n\t\t\t\tstatusText: req.statusText,\n\t\t\t\tok: req.status >= 200 && req.status <= 299,\n\t\t\t\theaders: {\n\t\t\t\t\tget: (k) => req.getResponseHeader(k),\n\t\t\t\t},\n\t\t\t\ttext: () => Promise.resolve(JSON.responseText),\n\t\t\t\tjson: () => Promise.resolve(JSON.parse(req.responseText)),\n\t\t\t\tarrayBuffer: () => Promise.resolve(req.response),\n\t\t\t});\n\t\t};\n\n\t\tif (typeof fetchOptions.onProgress === \"function\") {\n\t\t\tconst rel = fetchOptions.method.toUpperCase() === \"GET\"\n\t\t\t\t? req\n\t\t\t\t: req.upload;\n\t\t\trel.addEventListener(\"progress\", (ev) => {\n\t\t\t\tif (ev.lengthComputable) {\n\t\t\t\t\tconst percentComplete = Math.round((ev.loaded / ev.total) * 100);\n\t\t\t\t\tfetchOptions.onProgress(ev, percentComplete);\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t\treq.addEventListener(\"load\", onLoad);\n\t\treq.addEventListener(\n\t\t\t\"error\",\n\t\t\tonError(\"An error occured while performing XHR request\")\n\t\t);\n\t\treq.addEventListener(\"abort\", onError(\"XHR request was aborted\"));\n\t\treq.open(fetchOptions.method, target);\n\t\tObject.entries(fetchOptions.headers).forEach(([key, val]) =>\n\t\t\treq.setRequestHeader(key, val)\n\t\t);\n\t\treq.responseType = fetchOptions.responseType || \"\";\n\t\treq.send(fetchOptions.body);\n\t});\n\n/**\n * Make an HTTP request.\n *\n * @param {String} url The endpoint\n * @param {Options} [options] fetch options\n * @param {String} [type] Request / Response type\n * @returns {Promise<*>}\n */\nexport const fetch = (url, options = {}, type = null) => {\n\tconst [target, fetchOptions] = createFetchOptions(url, options, type);\n\n\tconst createErrorRejection = (response, error) =>\n\t\tPromise.reject(\n\t\t\tnew Error(error || `${response.status} (${response.statusText})`)\n\t\t);\n\n\tconst op = options.xhr\n\t\t? fetchXhr(target, fetchOptions)\n\t\t: window.fetch(target, fetchOptions);\n\n\treturn op.then(async (response) => {\n\t\tif (!response.ok) {\n\t\t\tconst contentType = response.headers.get(\"content-type\");\n\t\t\tconst method =\n\t\t\t\tcontentType && contentType.indexOf(\"application/json\") !== -1\n\t\t\t\t\t? \"json\"\n\t\t\t\t\t: \"text\";\n\n\t\t\treturn response[method]().then((data) =>\n\t\t\t\tcreateErrorRejection(response, data.error)\n\t\t\t);\n\t\t}\n\n\t\t// Prevents an error from being thrown when resizing the terminal\n\t\ttry {\n\t\t\tif (type === \"json\") response = await response.json();\n\t\t\treturn response;\n\t\t} catch (e) {\n\t\t\treturn response;\n\t\t}\n\t});\n};\n",
    "static": true,
    "longname": "/home/runner/work/meeseOS/meeseOS/frontend/client/src/utils/fetch.js",
    "access": "public",
    "description": null,
    "lineNumber": 1
  },
  {
    "__docId__": 620,
    "kind": "function",
    "name": "encodeQueryData",
    "memberof": "src/utils/fetch.js",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "src/utils/fetch.js~encodeQueryData",
    "access": "public",
    "export": false,
    "importPath": "@meeseOS/client/src/utils/fetch.js",
    "importStyle": null,
    "description": "Creates URL request path.",
    "lineNumber": 36,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{String}"
      }
    ],
    "params": [
      {
        "nullable": null,
        "types": [
          "Object"
        ],
        "spread": false,
        "optional": false,
        "name": "data",
        "description": ""
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "String"
      ],
      "spread": false,
      "description": ""
    },
    "ignore": true
  },
  {
    "__docId__": 621,
    "kind": "variable",
    "name": "bodyTypes",
    "memberof": "src/utils/fetch.js",
    "static": true,
    "longname": "src/utils/fetch.js~bodyTypes",
    "access": "public",
    "export": false,
    "importPath": "@meeseOS/client/src/utils/fetch.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 42,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    },
    "ignore": true
  },
  {
    "__docId__": 622,
    "kind": "function",
    "name": "createFetchOptions",
    "memberof": "src/utils/fetch.js",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "src/utils/fetch.js~createFetchOptions",
    "access": "public",
    "export": false,
    "importPath": "@meeseOS/client/src/utils/fetch.js",
    "importStyle": null,
    "description": "Creates fetch() options.",
    "lineNumber": 59,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{Array}"
      }
    ],
    "params": [
      {
        "nullable": null,
        "types": [
          "String"
        ],
        "spread": false,
        "optional": false,
        "name": "url",
        "description": ""
      },
      {
        "nullable": null,
        "types": [
          "Object"
        ],
        "spread": false,
        "optional": false,
        "name": "options",
        "description": ""
      },
      {
        "nullable": null,
        "types": [
          "String"
        ],
        "spread": false,
        "optional": false,
        "name": "type",
        "description": ""
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "Array"
      ],
      "spread": false,
      "description": ""
    },
    "ignore": true
  },
  {
    "__docId__": 623,
    "kind": "function",
    "name": "fetchXhr",
    "memberof": "src/utils/fetch.js",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "src/utils/fetch.js~fetchXhr",
    "access": "public",
    "export": false,
    "importPath": "@meeseOS/client/src/utils/fetch.js",
    "importStyle": null,
    "description": "This is a fetch polyfill for XMLHttpRequest.\nMainly used to get upload progress indicator.",
    "lineNumber": 102,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{Promise}"
      }
    ],
    "params": [
      {
        "nullable": null,
        "types": [
          "String"
        ],
        "spread": false,
        "optional": false,
        "name": "target",
        "description": "The target URL"
      },
      {
        "nullable": null,
        "types": [
          "Object"
        ],
        "spread": false,
        "optional": false,
        "name": "fetchOptions",
        "description": "The request options"
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "Promise"
      ],
      "spread": false,
      "description": ""
    },
    "ignore": true
  },
  {
    "__docId__": 624,
    "kind": "function",
    "name": "fetch",
    "memberof": "src/utils/fetch.js",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "src/utils/fetch.js~fetch",
    "access": "public",
    "export": true,
    "importPath": "@meeseOS/client/src/utils/fetch.js",
    "importStyle": "{fetch}",
    "description": "Make an HTTP request.",
    "lineNumber": 159,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{Promise<*>}"
      }
    ],
    "params": [
      {
        "nullable": null,
        "types": [
          "String"
        ],
        "spread": false,
        "optional": false,
        "name": "url",
        "description": "The endpoint"
      },
      {
        "nullable": null,
        "types": [
          "Options"
        ],
        "spread": false,
        "optional": true,
        "name": "options",
        "description": "fetch options"
      },
      {
        "nullable": null,
        "types": [
          "String"
        ],
        "spread": false,
        "optional": true,
        "name": "type",
        "description": "Request / Response type"
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "Promise<*>"
      ],
      "spread": false,
      "description": ""
    }
  },
  {
    "__docId__": 625,
    "kind": "file",
    "name": "src/utils/input.js",
    "content": "/**\n * OS.js - JavaScript Cloud/Web Desktop Platform\n *\n * Copyright (c) 2011-Present, Anders Evenrud <andersevenrud@gmail.com>\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *\n * 1. Redistributions of source code must retain the above copyright notice, this\n *    list of conditions and the following disclaimer\n * 2. Redistributions in binary form must reproduce the above copyright notice,\n *    this list of conditions and the following disclaimer in the documentation\n *    and/or other materials provided with the distribution\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\n * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR\n * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n *\n * @author  Anders Evenrud <andersevenrud@gmail.com>\n * @license Simplified BSD License\n */\n\nconst modifierNames = [\"ctrl\", \"shift\", \"alt\", \"meta\"];\n\n/**\n * @typedef {Object} NormalizedEventPosition\n * @property {Number} clientX\n * @property {Number} clientY\n * @property {Boolean} touch\n * @property {Element} target\n */\n\n/**\n * Checks if keycombo matches\n * @param {String} combo Key combo\n * @param {Event} ev Event\n * @returns {Boolean}\n */\nexport const matchKeyCombo = (combo, ev) => {\n\tconst checkKeys = String(combo).toLowerCase().split(\"+\");\n\tconst keyName = String(ev.key).toLowerCase();\n\tconst validKeypress = checkKeys.every((k) =>\n\t\tmodifierNames.indexOf(k) !== -1 ? ev[k + \"Key\"] : keyName === k\n\t);\n\n\treturn validKeypress;\n};\n\n/**\n * Normalizes event input (position)\n * @param {Event} ev Event\n * @returns {NormalizedEventPosition}\n */\nexport const getEvent = (ev) => {\n\tlet { clientX, clientY, target } = ev;\n\tconst touch = ev.touches || ev.changedTouches || [];\n\n\tif (touch.length) {\n\t\tclientX = touch[0].clientX;\n\t\tclientY = touch[0].clientY;\n\t}\n\n\treturn { clientX, clientY, touch: touch.length > 0, target };\n};\n\n/**\n * Creates a double-tap event handler\n * @param {Number} [timeout=250] Timeout\n * @returns {Function} Handler with => (ev, cb)\n */\nexport const doubleTap = (timeout = 250) => {\n\tlet tapped = false;\n\tlet timer;\n\n\treturn (ev, cb) => {\n\t\ttimer = clearTimeout(timer);\n\t\ttimer = setTimeout(() => (tapped = false), timeout);\n\n\t\tif (tapped) {\n\t\t\tev.preventDefault();\n\t\t\treturn cb(ev);\n\t\t}\n\n\t\ttapped = true;\n\n\t\treturn false;\n\t};\n};\n",
    "static": true,
    "longname": "/home/runner/work/meeseOS/meeseOS/frontend/client/src/utils/input.js",
    "access": "public",
    "description": null,
    "lineNumber": 1
  },
  {
    "__docId__": 626,
    "kind": "variable",
    "name": "modifierNames",
    "memberof": "src/utils/input.js",
    "static": true,
    "longname": "src/utils/input.js~modifierNames",
    "access": "public",
    "export": false,
    "importPath": "@meeseOS/client/src/utils/input.js",
    "importStyle": null,
    "description": "OS.js - JavaScript Cloud/Web Desktop Platform\n\nCopyright (c) 2011-Present, Anders Evenrud <andersevenrud@gmail.com>\nAll rights reserved.\n\nRedistribution and use in source and binary forms, with or without\nmodification, are permitted provided that the following conditions are met:\n\n1. Redistributions of source code must retain the above copyright notice, this\n   list of conditions and the following disclaimer\n2. Redistributions in binary form must reproduce the above copyright notice,\n   this list of conditions and the following disclaimer in the documentation\n   and/or other materials provided with the distribution\n\nTHIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\nANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\nWARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\nDISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR\nANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n(INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\nLOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\nON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n(INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\nSOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.",
    "lineNumber": 31,
    "unknown": [
      {
        "tagName": "@author",
        "tagValue": " Anders Evenrud <andersevenrud@gmail.com>"
      },
      {
        "tagName": "@license",
        "tagValue": "Simplified BSD License"
      }
    ],
    "type": {
      "types": [
        "string[]"
      ]
    },
    "ignore": true
  },
  {
    "__docId__": 627,
    "kind": "typedef",
    "name": "NormalizedEventPosition",
    "memberof": "src/utils/input.js",
    "static": true,
    "longname": "src/utils/input.js~NormalizedEventPosition",
    "access": "public",
    "description": "",
    "properties": [
      {
        "nullable": null,
        "types": [
          "Number"
        ],
        "spread": false,
        "optional": false,
        "name": "clientX",
        "description": ""
      },
      {
        "nullable": null,
        "types": [
          "Number"
        ],
        "spread": false,
        "optional": false,
        "name": "clientY",
        "description": ""
      },
      {
        "nullable": null,
        "types": [
          "Boolean"
        ],
        "spread": false,
        "optional": false,
        "name": "touch",
        "description": ""
      },
      {
        "nullable": null,
        "types": [
          "Element"
        ],
        "spread": false,
        "optional": false,
        "name": "target",
        "description": ""
      }
    ],
    "type": {
      "types": [
        "Object"
      ],
      "optional": false,
      "name": "NormalizedEventPosition"
    }
  },
  {
    "__docId__": 628,
    "kind": "function",
    "name": "matchKeyCombo",
    "memberof": "src/utils/input.js",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "src/utils/input.js~matchKeyCombo",
    "access": "public",
    "export": true,
    "importPath": "@meeseOS/client/src/utils/input.js",
    "importStyle": "{matchKeyCombo}",
    "description": "Checks if keycombo matches",
    "lineNumber": 47,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{Boolean}"
      }
    ],
    "params": [
      {
        "nullable": null,
        "types": [
          "String"
        ],
        "spread": false,
        "optional": false,
        "name": "combo",
        "description": "Key combo"
      },
      {
        "nullable": null,
        "types": [
          "Event"
        ],
        "spread": false,
        "optional": false,
        "name": "ev",
        "description": "Event"
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "Boolean"
      ],
      "spread": false,
      "description": ""
    }
  },
  {
    "__docId__": 629,
    "kind": "function",
    "name": "getEvent",
    "memberof": "src/utils/input.js",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "src/utils/input.js~getEvent",
    "access": "public",
    "export": true,
    "importPath": "@meeseOS/client/src/utils/input.js",
    "importStyle": "{getEvent}",
    "description": "Normalizes event input (position)",
    "lineNumber": 62,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{NormalizedEventPosition}"
      }
    ],
    "params": [
      {
        "nullable": null,
        "types": [
          "Event"
        ],
        "spread": false,
        "optional": false,
        "name": "ev",
        "description": "Event"
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "NormalizedEventPosition"
      ],
      "spread": false,
      "description": ""
    }
  },
  {
    "__docId__": 630,
    "kind": "function",
    "name": "doubleTap",
    "memberof": "src/utils/input.js",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "src/utils/input.js~doubleTap",
    "access": "public",
    "export": true,
    "importPath": "@meeseOS/client/src/utils/input.js",
    "importStyle": "{doubleTap}",
    "description": "Creates a double-tap event handler",
    "lineNumber": 79,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{Function} Handler with => (ev, cb)"
      }
    ],
    "params": [
      {
        "nullable": null,
        "types": [
          "Number"
        ],
        "spread": false,
        "optional": true,
        "defaultValue": "250",
        "defaultRaw": 250,
        "name": "timeout",
        "description": "Timeout"
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "Function"
      ],
      "spread": false,
      "description": "Handler with => (ev, cb)"
    }
  },
  {
    "__docId__": 631,
    "kind": "file",
    "name": "src/utils/packages.js",
    "content": "/**\n * OS.js - JavaScript Cloud/Web Desktop Platform\n *\n * Copyright (c) 2011-Present, Anders Evenrud <andersevenrud@gmail.com>\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *\n * 1. Redistributions of source code must retain the above copyright notice, this\n *    list of conditions and the following disclaimer\n * 2. Redistributions in binary form must reproduce the above copyright notice,\n *    this list of conditions and the following disclaimer in the documentation\n *    and/or other materials provided with the distribution\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\n * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR\n * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n *\n * @author  Anders Evenrud <andersevenrud@gmail.com>\n * @license Simplified BSD License\n */\n\nexport const createPackageAvailabilityCheck = (core) => {\n\tconst user = core.getUser();\n\tconst permissions = core.config(\"packages.permissions\", {});\n\n\tconst checkMetadataGroups = (iter) => {\n\t\tconst m = iter.strictGroups === false ? \"some\" : \"every\";\n\n\t\treturn iter.groups instanceof Array\n\t\t\t? iter.groups[m]((g) => user.groups.indexOf(g) !== -1)\n\t\t\t: true;\n\t};\n\n\tconst checkConfigGroups = (iter) => {\n\t\tconst perm = permissions[iter.name];\n\t\tif (perm && perm.groups instanceof Array) {\n\t\t\tconst m = perm.strictGroups === false ? \"some\" : \"every\";\n\t\t\treturn perm.groups[m]((g) => user.groups.indexOf(g) !== -1);\n\t\t}\n\n\t\treturn true;\n\t};\n\n\tconst checkBlacklist = (iter) =>\n\t\tuser.blacklist instanceof Array\n\t\t\t? user.blacklist.indexOf(iter.name) === -1\n\t\t\t: true;\n\n\tconst checks = [checkMetadataGroups, checkConfigGroups, checkBlacklist];\n\n\treturn (metadata) => checks.every((fn) => fn(metadata));\n};\n\nexport const createManifestFromArray = (list) =>\n\tlist.map((iter) => ({\n\t\ttype: \"application\",\n\t\t...iter,\n\t\tfiles: (iter.files || []).map((file) =>\n\t\t\ttypeof file === \"string\"\n\t\t\t\t? { filename: file, type: \"preload\" }\n\t\t\t\t: { type: \"preload\", ...file }\n\t\t),\n\t}));\n\nexport const filterMetadataFilesByType = (files, type) =>\n\t(files || []).filter((file) => file.type === type);\n\nexport const metadataFilesToFilenames = (files) =>\n\t(files || []).map((file) => file.filename);\n",
    "static": true,
    "longname": "/home/runner/work/meeseOS/meeseOS/frontend/client/src/utils/packages.js",
    "access": "public",
    "description": null,
    "lineNumber": 1
  },
  {
    "__docId__": 632,
    "kind": "function",
    "name": "createPackageAvailabilityCheck",
    "memberof": "src/utils/packages.js",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "src/utils/packages.js~createPackageAvailabilityCheck",
    "access": "public",
    "export": true,
    "importPath": "@meeseOS/client/src/utils/packages.js",
    "importStyle": "{createPackageAvailabilityCheck}",
    "description": "OS.js - JavaScript Cloud/Web Desktop Platform\n\nCopyright (c) 2011-Present, Anders Evenrud <andersevenrud@gmail.com>\nAll rights reserved.\n\nRedistribution and use in source and binary forms, with or without\nmodification, are permitted provided that the following conditions are met:\n\n1. Redistributions of source code must retain the above copyright notice, this\n   list of conditions and the following disclaimer\n2. Redistributions in binary form must reproduce the above copyright notice,\n   this list of conditions and the following disclaimer in the documentation\n   and/or other materials provided with the distribution\n\nTHIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\nANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\nWARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\nDISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR\nANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n(INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\nLOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\nON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n(INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\nSOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.",
    "lineNumber": 31,
    "unknown": [
      {
        "tagName": "@author",
        "tagValue": " Anders Evenrud <andersevenrud@gmail.com>"
      },
      {
        "tagName": "@license",
        "tagValue": "Simplified BSD License"
      }
    ],
    "params": [
      {
        "name": "core",
        "types": [
          "*"
        ]
      }
    ],
    "return": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 633,
    "kind": "function",
    "name": "createManifestFromArray",
    "memberof": "src/utils/packages.js",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "src/utils/packages.js~createManifestFromArray",
    "access": "public",
    "export": true,
    "importPath": "@meeseOS/client/src/utils/packages.js",
    "importStyle": "{createManifestFromArray}",
    "description": null,
    "lineNumber": 63,
    "undocument": true,
    "params": [
      {
        "name": "list",
        "types": [
          "*"
        ]
      }
    ],
    "return": null,
    "ignore": true
  },
  {
    "__docId__": 634,
    "kind": "function",
    "name": "filterMetadataFilesByType",
    "memberof": "src/utils/packages.js",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "src/utils/packages.js~filterMetadataFilesByType",
    "access": "public",
    "export": true,
    "importPath": "@meeseOS/client/src/utils/packages.js",
    "importStyle": "{filterMetadataFilesByType}",
    "description": null,
    "lineNumber": 74,
    "undocument": true,
    "params": [
      {
        "name": "files",
        "types": [
          "*"
        ]
      },
      {
        "name": "type",
        "types": [
          "*"
        ]
      }
    ],
    "return": null,
    "ignore": true
  },
  {
    "__docId__": 635,
    "kind": "function",
    "name": "metadataFilesToFilenames",
    "memberof": "src/utils/packages.js",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "src/utils/packages.js~metadataFilesToFilenames",
    "access": "public",
    "export": true,
    "importPath": "@meeseOS/client/src/utils/packages.js",
    "importStyle": "{metadataFilesToFilenames}",
    "description": null,
    "lineNumber": 77,
    "undocument": true,
    "params": [
      {
        "name": "files",
        "types": [
          "*"
        ]
      }
    ],
    "return": null,
    "ignore": true
  },
  {
    "__docId__": 636,
    "kind": "file",
    "name": "src/utils/preloader.js",
    "content": "/**\n * OS.js - JavaScript Cloud/Web Desktop Platform\n *\n * Copyright (c) 2011-Present, Anders Evenrud <andersevenrud@gmail.com>\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *\n * 1. Redistributions of source code must retain the above copyright notice, this\n *    list of conditions and the following disclaimer\n * 2. Redistributions in binary form must reproduce the above copyright notice,\n *    this list of conditions and the following disclaimer in the documentation\n *    and/or other materials provided with the distribution\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\n * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR\n * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n *\n * @author  Anders Evenrud <andersevenrud@gmail.com>\n * @license Simplified BSD License\n */\n\nimport { script, style } from \"./dom\";\nimport logger from \"../logger\";\n\n/**\n * @typedef {HTMLScriptElement|HTMLLinkElement} PreloaderEntryElement\n */\n\n/**\n * @typedef {Object} PreloaderEntry\n * @property {Boolean} success\n * @property {PreloaderEntryElement} [el]\n * @property {String} [entry]\n * @property {String} [error]\n */\n\n/**\n * @typedef {Object} PreloaderResult\n * @property {String[]} errors\n * @property {{String: PreloaderEntryElement}} elements\n */\n\n/**\n * The Preloader loads styles and scripts\n */\nexport default class Preloader {\n\tconstructor(root) {\n\t\t/**\n\t\t * A list of cached preloads\n\t\t * @type {String[]}\n\t\t */\n\t\tthis.loaded = [];\n\n\t\t/**\n\t\t * @type {Element}\n\t\t */\n\t\tthis.$root = root;\n\t}\n\n\tdestroy() {\n\t\tthis.loaded = [];\n\t}\n\n\t/**\n\t * Loads all resources required for a package\n\t * @param {String[]} list A list of resources\n\t * @param {Boolean} [force=false] Force loading even though previously cached\n\t * @returns {Promise<PreloaderResult>} A list of failed resources\n\t */\n\tload(list, force = false) {\n\t\tconst cached = (entry) =>\n\t\t\tforce ? false : this.loaded.find((src) => src === entry);\n\n\t\tconst promises = list\n\t\t\t.filter((entry) => !cached(entry))\n\t\t\t.map((entry) => {\n\t\t\t\tlogger.debug(\"Packages::preload()\", entry);\n\n\t\t\t\tconst p = entry.match(/\\.js$/)\n\t\t\t\t\t? script(this.$root, entry)\n\t\t\t\t\t: style(this.$root, entry);\n\n\t\t\t\treturn p\n\t\t\t\t\t.then((el) => ({ success: true, entry, el }))\n\t\t\t\t\t.catch((error) => ({ success: false, entry, error }));\n\t\t\t});\n\n\t\treturn Promise.all(promises).then((results) => this._load(results, cached));\n\t}\n\n\t/**\n\t * Checks the loaded list\n\t * @private\n\t * @param {Object[]} results Preload results\n\t * @param {String[]} cached Already cached preloads\n\t * @returns {PreloaderResult}\n\t */\n\t_load(results, cached) {\n\t\tconst successes = results.filter((res) => res.success);\n\t\tsuccesses.forEach((entry) => {\n\t\t\tif (!cached(entry)) {\n\t\t\t\tthis.loaded.push(entry);\n\t\t\t}\n\t\t});\n\n\t\tconst failed = results.filter((res) => !res.success);\n\t\tfailed.forEach((failed) =>\n\t\t\tlogger.warn(\"Failed loading\", failed.entry, failed.error)\n\t\t);\n\n\t\treturn {\n\t\t\terrors: failed.map((failed) => failed.entry),\n\t\t\telements: successes.reduce((result, iter) => {\n\t\t\t\treturn { ...result, [iter.entry]: iter.el };\n\t\t\t}, {}),\n\t\t};\n\t}\n}\n",
    "static": true,
    "longname": "/home/runner/work/meeseOS/meeseOS/frontend/client/src/utils/preloader.js",
    "access": "public",
    "description": null,
    "lineNumber": 1
  },
  {
    "__docId__": 637,
    "kind": "typedef",
    "name": "PreloaderEntryElement",
    "memberof": "src/utils/preloader.js",
    "static": true,
    "longname": "src/utils/preloader.js~PreloaderEntryElement",
    "access": "public",
    "description": "",
    "type": {
      "types": [
        "HTMLScriptElement",
        "HTMLLinkElement"
      ],
      "optional": false,
      "name": "PreloaderEntryElement"
    }
  },
  {
    "__docId__": 638,
    "kind": "typedef",
    "name": "PreloaderEntry",
    "memberof": "src/utils/preloader.js",
    "static": true,
    "longname": "src/utils/preloader.js~PreloaderEntry",
    "access": "public",
    "description": "",
    "properties": [
      {
        "nullable": null,
        "types": [
          "Boolean"
        ],
        "spread": false,
        "optional": false,
        "name": "success",
        "description": ""
      },
      {
        "nullable": null,
        "types": [
          "PreloaderEntryElement"
        ],
        "spread": false,
        "optional": true,
        "name": "el",
        "description": ""
      },
      {
        "nullable": null,
        "types": [
          "String"
        ],
        "spread": false,
        "optional": true,
        "name": "entry",
        "description": ""
      },
      {
        "nullable": null,
        "types": [
          "String"
        ],
        "spread": false,
        "optional": true,
        "name": "error",
        "description": ""
      }
    ],
    "type": {
      "types": [
        "Object"
      ],
      "optional": false,
      "name": "PreloaderEntry"
    }
  },
  {
    "__docId__": 639,
    "kind": "typedef",
    "name": "PreloaderResult",
    "memberof": "src/utils/preloader.js",
    "static": true,
    "longname": "src/utils/preloader.js~PreloaderResult",
    "access": "public",
    "description": "",
    "properties": [
      {
        "nullable": null,
        "types": [
          "String[]"
        ],
        "spread": false,
        "optional": false,
        "name": "errors",
        "description": ""
      },
      {
        "nullable": null,
        "types": [
          "{String: PreloaderEntryElement}"
        ],
        "spread": false,
        "optional": false,
        "name": "elements",
        "description": ""
      }
    ],
    "type": {
      "types": [
        "Object"
      ],
      "optional": false,
      "name": "PreloaderResult"
    }
  },
  {
    "__docId__": 640,
    "kind": "class",
    "name": "Preloader",
    "memberof": "src/utils/preloader.js",
    "static": true,
    "longname": "src/utils/preloader.js~Preloader",
    "access": "public",
    "export": true,
    "importPath": "@meeseOS/client/src/utils/preloader.js",
    "importStyle": "Preloader",
    "description": "The Preloader loads styles and scripts",
    "lineNumber": 55,
    "interface": false
  },
  {
    "__docId__": 641,
    "kind": "constructor",
    "name": "constructor",
    "memberof": "src/utils/preloader.js~Preloader",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/utils/preloader.js~Preloader#constructor",
    "access": "public",
    "description": null,
    "lineNumber": 56,
    "undocument": true,
    "ignore": true
  },
  {
    "__docId__": 642,
    "kind": "member",
    "name": "loaded",
    "memberof": "src/utils/preloader.js~Preloader",
    "static": false,
    "longname": "src/utils/preloader.js~Preloader#loaded",
    "access": "public",
    "description": "A list of cached preloads",
    "lineNumber": 61,
    "type": {
      "nullable": null,
      "types": [
        "String[]"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 643,
    "kind": "member",
    "name": "$root",
    "memberof": "src/utils/preloader.js~Preloader",
    "static": false,
    "longname": "src/utils/preloader.js~Preloader#$root",
    "access": "public",
    "description": "",
    "lineNumber": 66,
    "type": {
      "nullable": null,
      "types": [
        "Element"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 644,
    "kind": "method",
    "name": "destroy",
    "memberof": "src/utils/preloader.js~Preloader",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/utils/preloader.js~Preloader#destroy",
    "access": "public",
    "description": null,
    "lineNumber": 69,
    "undocument": true,
    "params": [],
    "return": null,
    "ignore": true
  },
  {
    "__docId__": 646,
    "kind": "method",
    "name": "load",
    "memberof": "src/utils/preloader.js~Preloader",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/utils/preloader.js~Preloader#load",
    "access": "public",
    "description": "Loads all resources required for a package",
    "lineNumber": 79,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{Promise<PreloaderResult>} A list of failed resources"
      }
    ],
    "params": [
      {
        "nullable": null,
        "types": [
          "String[]"
        ],
        "spread": false,
        "optional": false,
        "name": "list",
        "description": "A list of resources"
      },
      {
        "nullable": null,
        "types": [
          "Boolean"
        ],
        "spread": false,
        "optional": true,
        "defaultValue": "false",
        "defaultRaw": false,
        "name": "force",
        "description": "Force loading even though previously cached"
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "Promise<PreloaderResult>"
      ],
      "spread": false,
      "description": "A list of failed resources"
    }
  },
  {
    "__docId__": 647,
    "kind": "method",
    "name": "_load",
    "memberof": "src/utils/preloader.js~Preloader",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/utils/preloader.js~Preloader#_load",
    "access": "private",
    "description": "Checks the loaded list",
    "lineNumber": 107,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{PreloaderResult}"
      }
    ],
    "params": [
      {
        "nullable": null,
        "types": [
          "Object[]"
        ],
        "spread": false,
        "optional": false,
        "name": "results",
        "description": "Preload results"
      },
      {
        "nullable": null,
        "types": [
          "String[]"
        ],
        "spread": false,
        "optional": false,
        "name": "cached",
        "description": "Already cached preloads"
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "PreloaderResult"
      ],
      "spread": false,
      "description": ""
    }
  },
  {
    "__docId__": 648,
    "kind": "file",
    "name": "src/utils/url.js",
    "content": "/**\n * OS.js - JavaScript Cloud/Web Desktop Platform\n *\n * Copyright (c) 2011-Present, Anders Evenrud <andersevenrud@gmail.com>\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *\n * 1. Redistributions of source code must retain the above copyright notice, this\n *    list of conditions and the following disclaimer\n * 2. Redistributions in binary form must reproduce the above copyright notice,\n *    this list of conditions and the following disclaimer in the documentation\n *    and/or other materials provided with the distribution\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\n * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR\n * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n *\n * @author  Anders Evenrud <andersevenrud@gmail.com>\n * @license Simplified BSD License\n */\n\n/**\n * @typedef {Object} URLResolverOptions\n * @property {String} [type] URL type (ws/http)\n * @property {String} [boolean] Add prefix to URL\n */\n\n/**\n * Resolves a URL.\n * @param {CoreConfig} configuration\n * @returns {Function(): String}\n */\nexport const urlResolver = (configuration) => {\n\tconst { http, ws } = configuration;\n\n\t/**\n\t * @param {String} [endpoint=\"/\"] Endpoint to resolve\n\t * @param {URLResolverOptions} [options={}] URL resolver options\n\t * @param {PackageMetadata} [metadata={}] Metadata for package resolving\n\t */\n\treturn (endpoint = \"/\", options = {}, metadata = {}) => {\n\t\tif (typeof endpoint !== \"string\") {\n\t\t\treturn http.public;\n\t\t} else if (endpoint.match(/^(http|ws|ftp)s?:/i)) {\n\t\t\treturn endpoint;\n\t\t}\n\n\t\tconst { type, prefix } = {\n\t\t\ttype: null,\n\t\t\tprefix: options.type === \"websocket\",\n\t\t\t...options,\n\t\t};\n\n\t\tconst str = type === \"websocket\" ? ws.uri : http.uri;\n\n\t\tlet url = endpoint.replace(/^\\/+/, \"\");\n\t\tif (metadata.type) {\n\t\t\tconst path = endpoint.replace(/^\\/?/, \"/\");\n\t\t\tconst type =\n\t\t\t\tmetadata.type === \"theme\"\n\t\t\t\t\t? \"themes\"\n\t\t\t\t\t: metadata.type === \"icons\"\n\t\t\t\t\t\t? \"icons\"\n\t\t\t\t\t\t: metadata.type === \"wallpapers\"\n\t\t\t\t\t\t\t? \"wallpapers\"\n\t\t\t\t\t\t\t: \"apps\";\n\n\t\t\turl = `${type}/${metadata.name}${path}`;\n\t\t}\n\n\t\treturn prefix\n\t\t\t? str.replace(/\\/$/, \"\") + url.replace(/^\\/?/, \"/\")\n\t\t\t: http.public.replace(/^\\/?/, \"/\") + url;\n\t};\n};\n",
    "static": true,
    "longname": "/home/runner/work/meeseOS/meeseOS/frontend/client/src/utils/url.js",
    "access": "public",
    "description": null,
    "lineNumber": 1
  },
  {
    "__docId__": 649,
    "kind": "typedef",
    "name": "URLResolverOptions",
    "memberof": "src/utils/url.js",
    "static": true,
    "longname": "src/utils/url.js~URLResolverOptions",
    "access": "public",
    "description": "",
    "properties": [
      {
        "nullable": null,
        "types": [
          "String"
        ],
        "spread": false,
        "optional": true,
        "name": "type",
        "description": "URL type (ws/http)"
      },
      {
        "nullable": null,
        "types": [
          "String"
        ],
        "spread": false,
        "optional": true,
        "name": "boolean",
        "description": "Add prefix to URL"
      }
    ],
    "type": {
      "types": [
        "Object"
      ],
      "optional": false,
      "name": "URLResolverOptions"
    }
  },
  {
    "__docId__": 650,
    "kind": "function",
    "name": "urlResolver",
    "memberof": "src/utils/url.js",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "src/utils/url.js~urlResolver",
    "access": "public",
    "export": true,
    "importPath": "@meeseOS/client/src/utils/url.js",
    "importStyle": "{urlResolver}",
    "description": "Resolves a URL.",
    "lineNumber": 42,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{Function(): String}"
      }
    ],
    "params": [
      {
        "nullable": null,
        "types": [
          "CoreConfig"
        ],
        "spread": false,
        "optional": false,
        "name": "configuration",
        "description": ""
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "Function(): String"
      ],
      "spread": false,
      "description": ""
    }
  },
  {
    "__docId__": 651,
    "kind": "file",
    "name": "src/utils/vfs.js",
    "content": "/**\n * OS.js - JavaScript Cloud/Web Desktop Platform\n *\n * Copyright (c) 2011-Present, Anders Evenrud <andersevenrud@gmail.com>\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *\n * 1. Redistributions of source code must retain the above copyright notice, this\n *    list of conditions and the following disclaimer\n * 2. Redistributions in binary form must reproduce the above copyright notice,\n *    this list of conditions and the following disclaimer in the documentation\n *    and/or other materials provided with the distribution\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\n * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR\n * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n *\n * @author  Anders Evenrud <andersevenrud@gmail.com>\n * @license Simplified BSD License\n */\n\n/**\n * Get parent directory.\n * @param {String} path Directory\n * @returns {String} Parent directory\n */\nexport const parentDirectory = (path) =>\n\tpath\n\t\t.replace(/\\/$/, \"\")\n\t\t.split(\"/\")\n\t\t.filter((item, index, arr) => index < arr.length - 1)\n\t\t.join(\"/\")\n\t\t.replace(/(\\/+)?$/, \"/\");\n\n/**\n * Joins paths.\n * @param {String[]} args paths\n * @returns {String}\n */\nexport const pathJoin = (...args) =>\n\targs\n\t\t.map((str, index) => {\n\t\t\tif (index > 0) {\n\t\t\t\tstr = str.replace(/^\\/?/, \"\");\n\t\t\t}\n\t\t\treturn str.replace(/\\/?$/, \"\");\n\t\t})\n\t\t.join(\"/\");\n\n/**\n * Sort by locale string.\n */\nconst sortString = (k, d) => (a, b) =>\n\td === \"asc\"\n\t\t? String(a[k]).localeCompare(b[k])\n\t\t: String(b[k]).localeCompare(a[k]);\n\n/**\n * Sort by date.\n */\nconst sortDate = (k, d) => (a, b) =>\n\td === \"asc\"\n\t\t? new Date(a[k]) > new Date(b[k])\n\t\t: new Date(b[k]) > new Date(a[k]);\n\n/**\n * Sort by educated guess.\n */\nconst sortDefault = (k, d) => (a, b) =>\n\ta[k] < b[k] ? -1 : a[k] > b[k] ? (d === \"asc\" ? 1 : 0) : d === \"asc\" ? 0 : 1;\n\n/**\n * Sorts an array of files.\n */\nconst sortFn = (t) => {\n\tif (t === \"string\") {\n\t\treturn sortString;\n\t} else if (t === \"date\") {\n\t\treturn sortDate;\n\t}\n\n\treturn sortDefault;\n};\n\n/**\n * Map of sorters from readdir attributes.\n */\nconst sortMap = {\n\tsize: sortFn(\"number\"),\n\tmtime: sortFn(\"date\"),\n\tctime: sortFn(\"date\"),\n\tatime: sortFn(\"date\"),\n};\n\n/**\n * Creates \"special\" directory entries.\n * @param {String} path The path to the readdir root\n * @returns {Object[]}\n */\nconst createSpecials = (path) => {\n\tconst specials = [];\n\n\tconst stripped = path.replace(/\\/+/g, \"/\").replace(/^(\\w+):/, \"\") || \"/\";\n\n\tif (stripped !== \"/\") {\n\t\tspecials.push({\n\t\t\tisDirectory: true,\n\t\t\tisFile: false,\n\t\t\tmime: null,\n\t\t\tsize: 0,\n\t\t\tstat: {},\n\t\t\tfilename: \"..\",\n\t\t\tpath: parentDirectory(path) || \"/\",\n\t\t});\n\t}\n\n\treturn specials;\n};\n\n/**\n * Creates a FileReader (promisified)\n *\n * @param {String} method The method to call\n * @param {ArrayBuffer} ab The ArrayBuffer\n * @param {String} mime The MIME type\n * @returns {Promise}\n */\nconst createFileReader = (method, ab, mime) =>\n\tnew Promise((resolve, reject) => {\n\t\tconst b = new Blob([ab], { type: mime });\n\t\tconst r = new FileReader();\n\t\tr.onerror = (e) => reject(e);\n\t\tr.onloadend = () => resolve(r.result);\n\t\tr[method](b);\n\t});\n\n/**\n * Converts a number (bytes) into human-readable string.\n * @param {Number} bytes Input\n * @param {Boolean} [si=false] Use SI units\n * @returns {String} The human-readable file size\n */\nexport const humanFileSize = (bytes, si = false) => {\n\tif (isNaN(bytes) || typeof bytes !== \"number\") {\n\t\tbytes = 0;\n\t}\n\n\tconst thresh = si ? 1000 : 1024;\n\tconst units = si\n\t\t? [\"kB\", \"MB\", \"GB\", \"TB\", \"PB\", \"EB\", \"ZB\", \"YB\"]\n\t\t: [\"KiB\", \"MiB\", \"GiB\", \"TiB\", \"PiB\", \"EiB\", \"ZiB\", \"YiB\"];\n\n\tif (bytes < thresh) {\n\t\treturn bytes + \" B\";\n\t}\n\n\tlet unitIndex = -1;\n\tdo {\n\t\tbytes /= thresh;\n\t\t++unitIndex;\n\t} while (bytes >= thresh);\n\n\treturn `${bytes.toFixed(1)} ${units[unitIndex]}`;\n};\n\n/**\n * Transforms a readdir result.\n *\n * @param {Object} root The path to the readdir root\n * @param Object[] files An array of readdir results\n * @param {Object} options Options\n * @param {Boolean} [options.showHiddenFiles=false] Show hidden files\n * @param {Function} [options.filter] A filter\n * @param {String} [options.sortBy='filename'] Sort by this attribute\n * @param {String} [options.sortDir='asc'] Sort in this direction\n * @returns {Object[]}\n */\nexport const transformReaddir = ({ path }, files, options = {}) => {\n\toptions = {\n\t\tshowHiddenFiles: false,\n\t\tsortBy: \"filename\",\n\t\tsortDir: \"asc\",\n\t\t...options,\n\t};\n\n\tlet { sortDir, sortBy, filter } = options;\n\tif (typeof filter !== \"function\") {\n\t\tfilter = () => true;\n\t}\n\n\tif ([\"asc\", \"desc\"].indexOf(sortDir) === -1) {\n\t\tsortDir = \"asc\";\n\t}\n\n\tconst filterHidden = options.showHiddenFiles\n\t\t? () => true\n\t\t: (file) => file.filename.substr(0, 1) !== \".\";\n\n\tconst sorter = sortMap[sortBy] ? sortMap[sortBy] : sortFn(\"string\");\n\n\tconst modify = (file) => ({\n\t\t...file,\n\t\thumanSize: humanFileSize(file.size),\n\t});\n\n\t// FIXME: Optimize this to one chain!\n\n\tconst sortedSpecial = createSpecials(path)\n\t\t.sort(sorter(sortBy, sortDir))\n\t\t.map(modify);\n\n\tconst sortedDirectories = files\n\t\t.filter((file) => file.isDirectory)\n\t\t.sort(sorter(sortBy, sortDir))\n\t\t.filter(filterHidden)\n\t\t.filter(filter)\n\t\t.map(modify);\n\n\tconst sortedFiles = files\n\t\t.filter((file) => !file.isDirectory)\n\t\t.sort(sorter(sortBy, sortDir))\n\t\t.filter(filterHidden)\n\t\t.filter(filter)\n\t\t.map(modify);\n\n\treturn [...sortedSpecial, ...sortedDirectories, ...sortedFiles];\n};\n\n/**\n * Transform an ArrayBuffer into a specified type.\n *\n * @param {ArrayBuffer} ab The ArrayBuffer\n * @param {String} mime The MIME type\n * @param {String} type Transform to this type\n * @returns {DOMString|String|Blob|ArrayBuffer}\n */\nexport const transformArrayBuffer = (ab, mime, type) => {\n\tif (type === \"string\") {\n\t\treturn createFileReader(\"readAsText\", ab, mime);\n\t} else if (type === \"uri\") {\n\t\treturn createFileReader(\"readAsDataURL\", ab, mime);\n\t} else if (type === \"blob\") {\n\t\treturn Promise.resolve(new Blob([ab], { type: mime }));\n\t}\n\n\treturn Promise.resolve(ab);\n};\n\n/**\n * Gets an icon from file stat.\n * @param {Object} file The file stat object\n * @returns {String|Object}\n */\nexport const getFileIcon = (map) => {\n\tconst find = (file) => {\n\t\tconst found = Object.keys(map).find((re) => {\n\t\t\tconst regexp = new RegExp(re);\n\t\t\treturn regexp.test(file.mime);\n\t\t});\n\n\t\treturn found ? map[found] : { name: \"application-x-executable\" };\n\t};\n\n\treturn (file) => (file.isDirectory ? { name: \"folder\" } : find(file));\n};\n\n/**\n * Creates a file iter for scandir.\n * @param {Object} stat file stat\n * @returns {Object}\n */\nexport const createFileIter = (stat) => ({\n\tisDirectory: false,\n\tisFile: true,\n\tmime: \"application/octet-stream\",\n\ticon: null,\n\tsize: -1,\n\tpath: null,\n\tfilename: null,\n\tlabel: null,\n\tstat: {},\n\tid: null,\n\tparent_id: null,\n\t...stat,\n});\n\n/**\n * Get basename of a file.\n * @param {String} path The path\n * @returns {String}\n */\nexport const basename = (path) => path.split(\"/\").reverse()[0];\n\n/**\n * Get path of a file.\n * @param {String} path The path\n * @returns {String}\n */\nexport const pathname = (path) => {\n\tconst split = path.split(\"/\");\n\tif (split.length === 2) {\n\t\tsplit[1] = \"\";\n\t} else {\n\t\tsplit.splice(split.length - 1, 1);\n\t}\n\n\treturn split.join(\"/\");\n};\n\n/**\n * Gets prefix from a VFS path.\n * @param {String} str Input\n * @returns {String}\n */\nexport const parseMountpointPrefix = (str) => {\n\tconst re = /^([\\w-_]+):+(.*)/;\n\n\tconst match = String(str).replace(/\\+/g, \"/\").match(re);\n\n\tconst [prefix] = Array.from(match || []).slice(1);\n\n\treturn prefix;\n};\n\n/**\n * Filters a mountpoint by user groups.\n * @returns {Boolean}\n */\nexport const filterMountByGroups =\n\t(userGroups) =>\n\t\t(mountGroups, strict = true) =>\n\t\t\tmountGroups instanceof Array\n\t\t\t\t? mountGroups[strict ? \"every\" : \"some\"](\n\t\t\t\t\t(g) => userGroups.indexOf(g) !== -1\n\t\t\t  )\n\t\t\t\t: true;\n\n/**\n * Creates a list of VFS events to simulate server-side\n * file watching.\n * @returns {Object[]}\n */\nexport const createWatchEvents = (method, args) => {\n\tconst events = [];\n\tconst options = args[args.length - 1] || {};\n\tconst movement = [\"move\", \"rename\", \"copy\"].indexOf(method) !== -1;\n\tconst path = (i) => (typeof i === \"string\" ? i : i.path);\n\tconst invalid =\n\t\t[\n\t\t\t\"readdir\",\n\t\t\t\"download\",\n\t\t\t\"url\",\n\t\t\t\"exists\",\n\t\t\t\"readfile\",\n\t\t\t\"search\",\n\t\t\t\"stat\",\n\t\t].indexOf(method) !== -1;\n\n\tif (!invalid) {\n\t\tconst obj = {\n\t\t\tmethod,\n\t\t\tsource: path(args[0]),\n\t\t\tpid: options.pid,\n\t\t};\n\n\t\tlet target = args[0];\n\t\tif (Array.isArray(args[0])) target = target[0];\n\n\t\tevents.push([\n\t\t\t\"meeseOS/vfs:directoryChanged\",\n\t\t\t{\n\t\t\t\t...obj,\n\t\t\t\tpath: pathname(path(target)),\n\t\t\t},\n\t\t]);\n\n\t\tif (movement) {\n\t\t\tevents.push([\n\t\t\t\t\"meeseOS/vfs:directoryChanged\",\n\t\t\t\t{\n\t\t\t\t\t...obj,\n\t\t\t\t\tpath: pathname(path(args[1])),\n\t\t\t\t},\n\t\t\t]);\n\t\t}\n\t}\n\n\treturn events;\n};\n",
    "static": true,
    "longname": "/home/runner/work/meeseOS/meeseOS/frontend/client/src/utils/vfs.js",
    "access": "public",
    "description": null,
    "lineNumber": 1
  },
  {
    "__docId__": 652,
    "kind": "function",
    "name": "parentDirectory",
    "memberof": "src/utils/vfs.js",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "src/utils/vfs.js~parentDirectory",
    "access": "public",
    "export": true,
    "importPath": "@meeseOS/client/src/utils/vfs.js",
    "importStyle": "{parentDirectory}",
    "description": "Get parent directory.",
    "lineNumber": 36,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{String} Parent directory"
      }
    ],
    "params": [
      {
        "nullable": null,
        "types": [
          "String"
        ],
        "spread": false,
        "optional": false,
        "name": "path",
        "description": "Directory"
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "String"
      ],
      "spread": false,
      "description": "Parent directory"
    }
  },
  {
    "__docId__": 653,
    "kind": "function",
    "name": "pathJoin",
    "memberof": "src/utils/vfs.js",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "src/utils/vfs.js~pathJoin",
    "access": "public",
    "export": true,
    "importPath": "@meeseOS/client/src/utils/vfs.js",
    "importStyle": "{pathJoin}",
    "description": "Joins paths.",
    "lineNumber": 49,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{String}"
      }
    ],
    "params": [
      {
        "nullable": null,
        "types": [
          "String[]"
        ],
        "spread": false,
        "optional": false,
        "name": "args",
        "description": "paths"
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "String"
      ],
      "spread": false,
      "description": ""
    }
  },
  {
    "__docId__": 654,
    "kind": "function",
    "name": "sortString",
    "memberof": "src/utils/vfs.js",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "src/utils/vfs.js~sortString",
    "access": "public",
    "export": false,
    "importPath": "@meeseOS/client/src/utils/vfs.js",
    "importStyle": null,
    "description": "Sort by locale string.",
    "lineNumber": 62,
    "params": [
      {
        "name": "k",
        "types": [
          "*"
        ]
      },
      {
        "name": "d",
        "types": [
          "*"
        ]
      }
    ],
    "return": null,
    "ignore": true
  },
  {
    "__docId__": 655,
    "kind": "function",
    "name": "sortDate",
    "memberof": "src/utils/vfs.js",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "src/utils/vfs.js~sortDate",
    "access": "public",
    "export": false,
    "importPath": "@meeseOS/client/src/utils/vfs.js",
    "importStyle": null,
    "description": "Sort by date.",
    "lineNumber": 70,
    "params": [
      {
        "name": "k",
        "types": [
          "*"
        ]
      },
      {
        "name": "d",
        "types": [
          "*"
        ]
      }
    ],
    "return": null,
    "ignore": true
  },
  {
    "__docId__": 656,
    "kind": "function",
    "name": "sortDefault",
    "memberof": "src/utils/vfs.js",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "src/utils/vfs.js~sortDefault",
    "access": "public",
    "export": false,
    "importPath": "@meeseOS/client/src/utils/vfs.js",
    "importStyle": null,
    "description": "Sort by educated guess.",
    "lineNumber": 78,
    "params": [
      {
        "name": "k",
        "types": [
          "*"
        ]
      },
      {
        "name": "d",
        "types": [
          "*"
        ]
      }
    ],
    "return": null,
    "ignore": true
  },
  {
    "__docId__": 657,
    "kind": "function",
    "name": "sortFn",
    "memberof": "src/utils/vfs.js",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "src/utils/vfs.js~sortFn",
    "access": "public",
    "export": false,
    "importPath": "@meeseOS/client/src/utils/vfs.js",
    "importStyle": null,
    "description": "Sorts an array of files.",
    "lineNumber": 84,
    "params": [
      {
        "name": "t",
        "types": [
          "*"
        ]
      }
    ],
    "return": {
      "types": [
        "*"
      ]
    },
    "ignore": true
  },
  {
    "__docId__": 658,
    "kind": "variable",
    "name": "sortMap",
    "memberof": "src/utils/vfs.js",
    "static": true,
    "longname": "src/utils/vfs.js~sortMap",
    "access": "public",
    "export": false,
    "importPath": "@meeseOS/client/src/utils/vfs.js",
    "importStyle": null,
    "description": "Map of sorters from readdir attributes.",
    "lineNumber": 97,
    "type": {
      "types": [
        "{\"size\": *, \"mtime\": *, \"ctime\": *, \"atime\": *}"
      ]
    },
    "ignore": true
  },
  {
    "__docId__": 659,
    "kind": "function",
    "name": "createSpecials",
    "memberof": "src/utils/vfs.js",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "src/utils/vfs.js~createSpecials",
    "access": "public",
    "export": false,
    "importPath": "@meeseOS/client/src/utils/vfs.js",
    "importStyle": null,
    "description": "Creates \"special\" directory entries.",
    "lineNumber": 109,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{Object[]}"
      }
    ],
    "params": [
      {
        "nullable": null,
        "types": [
          "String"
        ],
        "spread": false,
        "optional": false,
        "name": "path",
        "description": "The path to the readdir root"
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "Object[]"
      ],
      "spread": false,
      "description": ""
    },
    "ignore": true
  },
  {
    "__docId__": 660,
    "kind": "function",
    "name": "createFileReader",
    "memberof": "src/utils/vfs.js",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "src/utils/vfs.js~createFileReader",
    "access": "public",
    "export": false,
    "importPath": "@meeseOS/client/src/utils/vfs.js",
    "importStyle": null,
    "description": "Creates a FileReader (promisified)",
    "lineNumber": 137,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{Promise}"
      }
    ],
    "params": [
      {
        "nullable": null,
        "types": [
          "String"
        ],
        "spread": false,
        "optional": false,
        "name": "method",
        "description": "The method to call"
      },
      {
        "nullable": null,
        "types": [
          "ArrayBuffer"
        ],
        "spread": false,
        "optional": false,
        "name": "ab",
        "description": "The ArrayBuffer"
      },
      {
        "nullable": null,
        "types": [
          "String"
        ],
        "spread": false,
        "optional": false,
        "name": "mime",
        "description": "The MIME type"
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "Promise"
      ],
      "spread": false,
      "description": ""
    },
    "ignore": true
  },
  {
    "__docId__": 661,
    "kind": "function",
    "name": "humanFileSize",
    "memberof": "src/utils/vfs.js",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "src/utils/vfs.js~humanFileSize",
    "access": "public",
    "export": true,
    "importPath": "@meeseOS/client/src/utils/vfs.js",
    "importStyle": "{humanFileSize}",
    "description": "Converts a number (bytes) into human-readable string.",
    "lineNumber": 152,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{String} The human-readable file size"
      }
    ],
    "params": [
      {
        "nullable": null,
        "types": [
          "Number"
        ],
        "spread": false,
        "optional": false,
        "name": "bytes",
        "description": "Input"
      },
      {
        "nullable": null,
        "types": [
          "Boolean"
        ],
        "spread": false,
        "optional": true,
        "defaultValue": "false",
        "defaultRaw": false,
        "name": "si",
        "description": "Use SI units"
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "String"
      ],
      "spread": false,
      "description": "The human-readable file size"
    }
  },
  {
    "__docId__": 662,
    "kind": "function",
    "name": "transformReaddir",
    "memberof": "src/utils/vfs.js",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "src/utils/vfs.js~transformReaddir",
    "access": "public",
    "export": true,
    "importPath": "@meeseOS/client/src/utils/vfs.js",
    "importStyle": "{transformReaddir}",
    "description": "Transforms a readdir result.",
    "lineNumber": 187,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{Object[]}"
      }
    ],
    "params": [
      {
        "nullable": null,
        "types": [
          "Object"
        ],
        "spread": false,
        "optional": false,
        "name": "root",
        "description": "The path to the readdir root"
      },
      {
        "nullable": null,
        "types": [
          "*"
        ],
        "spread": false,
        "optional": false,
        "name": "Object[]",
        "description": "files An array of readdir results"
      },
      {
        "nullable": null,
        "types": [
          "Object"
        ],
        "spread": false,
        "optional": false,
        "name": "options",
        "description": "Options"
      },
      {
        "nullable": null,
        "types": [
          "Boolean"
        ],
        "spread": false,
        "optional": true,
        "defaultValue": "false",
        "defaultRaw": false,
        "name": "options.showHiddenFiles",
        "description": "Show hidden files"
      },
      {
        "nullable": null,
        "types": [
          "Function"
        ],
        "spread": false,
        "optional": true,
        "name": "options.filter",
        "description": "A filter"
      },
      {
        "nullable": null,
        "types": [
          "String"
        ],
        "spread": false,
        "optional": true,
        "defaultValue": "'filename'",
        "defaultRaw": "'filename'",
        "name": "options.sortBy",
        "description": "Sort by this attribute"
      },
      {
        "nullable": null,
        "types": [
          "String"
        ],
        "spread": false,
        "optional": true,
        "defaultValue": "'asc'",
        "defaultRaw": "'asc'",
        "name": "options.sortDir",
        "description": "Sort in this direction"
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "Object[]"
      ],
      "spread": false,
      "description": ""
    }
  },
  {
    "__docId__": 663,
    "kind": "function",
    "name": "transformArrayBuffer",
    "memberof": "src/utils/vfs.js",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "src/utils/vfs.js~transformArrayBuffer",
    "access": "public",
    "export": true,
    "importPath": "@meeseOS/client/src/utils/vfs.js",
    "importStyle": "{transformArrayBuffer}",
    "description": "Transform an ArrayBuffer into a specified type.",
    "lineNumber": 246,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{DOMString|String|Blob|ArrayBuffer}"
      }
    ],
    "params": [
      {
        "nullable": null,
        "types": [
          "ArrayBuffer"
        ],
        "spread": false,
        "optional": false,
        "name": "ab",
        "description": "The ArrayBuffer"
      },
      {
        "nullable": null,
        "types": [
          "String"
        ],
        "spread": false,
        "optional": false,
        "name": "mime",
        "description": "The MIME type"
      },
      {
        "nullable": null,
        "types": [
          "String"
        ],
        "spread": false,
        "optional": false,
        "name": "type",
        "description": "Transform to this type"
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "DOMString",
        "String",
        "Blob",
        "ArrayBuffer"
      ],
      "spread": false,
      "description": ""
    }
  },
  {
    "__docId__": 664,
    "kind": "function",
    "name": "getFileIcon",
    "memberof": "src/utils/vfs.js",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "src/utils/vfs.js~getFileIcon",
    "access": "public",
    "export": true,
    "importPath": "@meeseOS/client/src/utils/vfs.js",
    "importStyle": "{getFileIcon}",
    "description": "Gets an icon from file stat.",
    "lineNumber": 263,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{String|Object}"
      }
    ],
    "params": [
      {
        "nullable": null,
        "types": [
          "Object"
        ],
        "spread": false,
        "optional": false,
        "name": "file",
        "description": "The file stat object"
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "String",
        "Object"
      ],
      "spread": false,
      "description": ""
    }
  },
  {
    "__docId__": 665,
    "kind": "function",
    "name": "createFileIter",
    "memberof": "src/utils/vfs.js",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "src/utils/vfs.js~createFileIter",
    "access": "public",
    "export": true,
    "importPath": "@meeseOS/client/src/utils/vfs.js",
    "importStyle": "{createFileIter}",
    "description": "Creates a file iter for scandir.",
    "lineNumber": 281,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{Object}"
      }
    ],
    "params": [
      {
        "nullable": null,
        "types": [
          "Object"
        ],
        "spread": false,
        "optional": false,
        "name": "stat",
        "description": "file stat"
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "Object"
      ],
      "spread": false,
      "description": ""
    }
  },
  {
    "__docId__": 666,
    "kind": "function",
    "name": "basename",
    "memberof": "src/utils/vfs.js",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "src/utils/vfs.js~basename",
    "access": "public",
    "export": true,
    "importPath": "@meeseOS/client/src/utils/vfs.js",
    "importStyle": "{basename}",
    "description": "Get basename of a file.",
    "lineNumber": 301,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{String}"
      }
    ],
    "params": [
      {
        "nullable": null,
        "types": [
          "String"
        ],
        "spread": false,
        "optional": false,
        "name": "path",
        "description": "The path"
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "String"
      ],
      "spread": false,
      "description": ""
    }
  },
  {
    "__docId__": 667,
    "kind": "function",
    "name": "pathname",
    "memberof": "src/utils/vfs.js",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "src/utils/vfs.js~pathname",
    "access": "public",
    "export": true,
    "importPath": "@meeseOS/client/src/utils/vfs.js",
    "importStyle": "{pathname}",
    "description": "Get path of a file.",
    "lineNumber": 308,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{String}"
      }
    ],
    "params": [
      {
        "nullable": null,
        "types": [
          "String"
        ],
        "spread": false,
        "optional": false,
        "name": "path",
        "description": "The path"
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "String"
      ],
      "spread": false,
      "description": ""
    }
  },
  {
    "__docId__": 668,
    "kind": "function",
    "name": "parseMountpointPrefix",
    "memberof": "src/utils/vfs.js",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "src/utils/vfs.js~parseMountpointPrefix",
    "access": "public",
    "export": true,
    "importPath": "@meeseOS/client/src/utils/vfs.js",
    "importStyle": "{parseMountpointPrefix}",
    "description": "Gets prefix from a VFS path.",
    "lineNumber": 324,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{String}"
      }
    ],
    "params": [
      {
        "nullable": null,
        "types": [
          "String"
        ],
        "spread": false,
        "optional": false,
        "name": "str",
        "description": "Input"
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "String"
      ],
      "spread": false,
      "description": ""
    }
  },
  {
    "__docId__": 669,
    "kind": "function",
    "name": "filterMountByGroups",
    "memberof": "src/utils/vfs.js",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "src/utils/vfs.js~filterMountByGroups",
    "access": "public",
    "export": true,
    "importPath": "@meeseOS/client/src/utils/vfs.js",
    "importStyle": "{filterMountByGroups}",
    "description": "Filters a mountpoint by user groups.",
    "lineNumber": 339,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{Boolean}"
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "Boolean"
      ],
      "spread": false,
      "description": ""
    },
    "params": [
      {
        "name": "userGroups",
        "types": [
          "*"
        ]
      }
    ]
  },
  {
    "__docId__": 670,
    "kind": "function",
    "name": "createWatchEvents",
    "memberof": "src/utils/vfs.js",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "src/utils/vfs.js~createWatchEvents",
    "access": "public",
    "export": true,
    "importPath": "@meeseOS/client/src/utils/vfs.js",
    "importStyle": "{createWatchEvents}",
    "description": "Creates a list of VFS events to simulate server-side\nfile watching.",
    "lineNumber": 352,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{Object[]}"
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "Object[]"
      ],
      "spread": false,
      "description": ""
    },
    "params": [
      {
        "name": "method",
        "types": [
          "*"
        ]
      },
      {
        "name": "args",
        "types": [
          "*"
        ]
      }
    ]
  },
  {
    "__docId__": 671,
    "kind": "file",
    "name": "src/utils/windows.js",
    "content": "/**\n * OS.js - JavaScript Cloud/Web Desktop Platform\n *\n * Copyright (c) 2011-Present, Anders Evenrud <andersevenrud@gmail.com>\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *\n * 1. Redistributions of source code must retain the above copyright notice, this\n *    list of conditions and the following disclaimer\n * 2. Redistributions in binary form must reproduce the above copyright notice,\n *    this list of conditions and the following disclaimer in the documentation\n *    and/or other materials provided with the distribution\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\n * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR\n * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n *\n * @author  Anders Evenrud <andersevenrud@gmail.com>\n * @license Simplified BSD License\n */\n\nimport * as mediaQuery from \"css-mediaquery\";\nimport defaultIcon from \"../styles/icon.png\";\nimport logger from \"../logger\";\n\nconst CASCADE_DISTANCE = 10;\nconst MINIMUM_WIDTH = 100;\nconst MINIMUM_HEIGHT = 100;\nconst ONTOP_ZINDEX = 8388635;\nconst BOTTOM_ZINDEX = 10;\n\n/**\n * Creates window attributes from an object\n * @param {Object} attrs\n */\nexport const createAttributes = (attrs) => ({\n\tclassNames: [],\n\tmodal: false,\n\tontop: false,\n\tgravity: false,\n\tmoveable: true,\n\tresizable: true,\n\tfocusable: true,\n\tmaximizable: true,\n\tminimizable: true,\n\tsessionable: true,\n\tcloseable: true,\n\theader: true,\n\tcontrols: true,\n\tvisibility: \"global\",\n\tshadowDOM: false,\n\tclamp: true,\n\tdroppable: true,\n\tmediaQueries: {\n\t\tsmall: \"screen and (max-width: 640px)\",\n\t\tmedium: \"screen and (min-width: 640px) and (max-width: 1024px)\",\n\t\tbig: \"screen and (min-width: 1024px)\",\n\t},\n\tminDimension: {\n\t\twidth: MINIMUM_WIDTH,\n\t\theight: MINIMUM_HEIGHT,\n\t},\n\tmaxDimension: {\n\t\twidth: -1,\n\t\theight: -1,\n\t},\n\t...attrs,\n});\n\n/**\n * Creates window state from an object\n * @param {WindowState} state\n * @param {Object} options\n * @param {WindowAttributes} attrs\n */\nexport const createState = (state, options, attrs) => ({\n\ttitle: options.title || options.id,\n\ticon: options.icon || defaultIcon,\n\tmedia: null,\n\tmoving: false,\n\tresizing: false,\n\tloading: false,\n\tfocused: false,\n\tmaximized: false,\n\tminimized: false,\n\tzIndex: 1,\n\tstyles: {},\n\tposition: {\n\t\tleft: null,\n\t\ttop: null,\n\t\t...options.position,\n\t},\n\tdimension: {\n\t\twidth: Math.max(attrs.minDimension.width, MINIMUM_WIDTH),\n\t\theight: Math.max(attrs.minDimension.height, MINIMUM_HEIGHT),\n\t\t...options.dimension,\n\t},\n\t...state,\n});\n\n/**\n * Creates data attributes for window DOM\n * @param {String} id\n * @param {WindowState} state\n * @param {WindowAttributes} attributes\n * @returns {Object}\n */\nexport const createDOMAttributes = (id, state, attributes) => ({\n\tid: id,\n\tmedia: state.media,\n\tmoving: state.moving,\n\tresizing: state.resizing,\n\tloading: state.loading,\n\tfocused: state.focused,\n\tmaximized: state.maximized,\n\tminimized: state.minimized,\n\tmodal: attributes.modal,\n\tontop: attributes.ontop,\n\tresizable: attributes.resizable,\n\tmoveable: attributes.moveable,\n\tmaximizable: attributes.maximizable,\n\tminimizable: attributes.minimizable,\n});\n\n/**\n * Creates styles for window DOM\n * @param {WindowState} state\n * @param {WindowAttributes} attributes\n * @returns {Object}\n */\nexport const createDOMStyles = (\n\t{ zIndex, styles, position: { top, left }, dimension: { width, height } },\n\t{ ontop }\n) => ({\n\ttop: String(top) + \"px\",\n\tleft: String(left) + \"px\",\n\theight: String(height) + \"px\",\n\twidth: String(width) + \"px\",\n\tzIndex: BOTTOM_ZINDEX + (ontop ? ONTOP_ZINDEX : 0) + zIndex,\n\t...styles,\n});\n\n/**\n * Clamps position to viewport\n * @param {Object} rect\n */\nexport const clampPosition = (rect, { dimension, position }) => {\n\tconst maxLeft = rect.width - dimension.width;\n\tconst maxTop = rect.height - dimension.height + rect.top;\n\n\t// TODO: Make these an argument\n\tconst minLeft = 0;\n\tconst minTop = 0;\n\n\treturn {\n\t\tleft: Math.max(minLeft, Math.min(maxLeft, position.left)),\n\t\ttop: Math.max(minTop, Math.max(rect.top, Math.min(maxTop, position.top))),\n\t};\n};\n\n/**\n * Window rendering callback function\n * @param {Window} win Window reference\n * @param {Function} callback\n */\nexport const renderCallback = (win, callback) => {\n\tif (typeof callback === \"function\") {\n\t\tif (win.attributes.shadowDOM) {\n\t\t\ttry {\n\t\t\t\tconst mode = typeof win.attributes.shadowDOM === \"string\"\n\t\t\t\t\t? win.attributes.shadowDOM\n\t\t\t\t\t: \"open\";\n\n\t\t\t\tconst shadow = win.$content.attachShadow({ mode });\n\n\t\t\t\tcallback(shadow, win);\n\n\t\t\t\treturn;\n\t\t\t} catch (e) {\n\t\t\t\tlogger.warn(\"Shadow DOM not supported?\", e);\n\t\t\t}\n\t\t}\n\n\t\tcallback(win.$content, win);\n\t}\n};\n\n/**\n * Gets new position based on \"gravity\"\n * @param {Window} win Window reference\n * @param {Object} rect\n * @param {String} gravity\n */\nexport const positionFromGravity = (win, rect, gravity) => {\n\tlet { left, top } = win.state.position;\n\n\tif (gravity === \"center\") {\n\t\tleft = rect.width / 2 - win.state.dimension.width / 2;\n\t\ttop = rect.height / 2 - win.state.dimension.height / 2;\n\t} else if (gravity) {\n\t\tconst hasVertical = gravity.match(/top|bottom/);\n\t\tconst hasHorizontal = gravity.match(/left|rigth/);\n\n\t\tif (gravity.match(/top/)) {\n\t\t\ttop = rect.top;\n\t\t} else if (gravity.match(/bottom/)) {\n\t\t\ttop = rect.height - win.state.dimension.height + rect.top;\n\t\t}\n\n\t\tif (gravity.match(/left/)) {\n\t\t\tleft = rect.left;\n\t\t} else if (gravity.match(/right/)) {\n\t\t\tleft = rect.width - win.state.dimension.width;\n\t\t}\n\n\t\tif (!hasVertical && gravity.match(/center/)) {\n\t\t\ttop = rect.height / 2 - win.state.dimension.height / 2;\n\t\t} else if (!hasHorizontal && gravity.match(/center/)) {\n\t\t\tleft = rect.width / 2 - win.state.dimension.width / 2;\n\t\t}\n\t}\n\n\treturn { left, top };\n};\n\n/**\n * Gets new dimension based on container\n * @param {Window} win Window reference\n * @param {Object} rect\n * @param {HTMLElement} container\n */\nexport const dimensionFromElement = (win, rect, container) => {\n\tconst innerBox = (\n\t\tcontainer.parentNode.classList.contains(\"meeseOS-gui\")\n\t\t\t? container.parentNode\n\t\t\t: container\n\t).getBoundingClientRect();\n\n\tconst outerBox = win.$content.getBoundingClientRect();\n\tconst diffY = Math.ceil(outerBox.height - innerBox.height);\n\tconst diffX = Math.ceil(outerBox.width - innerBox.width);\n\tconst topHeight = win.$header.offsetHeight;\n\n\tconst { left, top } = win.state.position;\n\tconst min = win.attributes.minDimension;\n\tconst max = win.attributes.maxDimension;\n\n\tlet width = Math.max(container.offsetWidth + diffX, min.width);\n\tlet height = Math.max(container.offsetHeight + diffY + topHeight, min.height);\n\n\tif (max.width > 0) {\n\t\twidth = Math.min(width, max.width);\n\t}\n\n\tif (max.height > 0) {\n\t\theight = Math.min(height, max.height);\n\t}\n\n\twidth = Math.max(width, container.offsetWidth);\n\theight = Math.max(height, container.offsetHeight);\n\n\tif (rect) {\n\t\twidth = Math.min(width, rect.width - left);\n\t\theight = Math.min(height, rect.height - top);\n\t}\n\n\treturn { width, height };\n};\n\n/**\n * Transforms vector values (ex. float to integer)\n * @param {Object} rect\n */\nexport const transformVectors = (rect, { width, height }, { top, left }) => {\n\tconst transform = (val, attr) => {\n\t\tif (!isNaN(val)) {\n\t\t\treturn val > 1 && Number.isInteger(val)\n\t\t\t\t? val\n\t\t\t\t: Math.round(rect[attr] * parseFloat(val));\n\t\t}\n\n\t\treturn val;\n\t};\n\n\treturn {\n\t\tdimension: {\n\t\t\twidth: transform(width, \"width\"),\n\t\t\theight: transform(height, \"height\"),\n\t\t},\n\t\tposition: {\n\t\t\ttop: transform(top, \"height\"),\n\t\t\tleft: transform(left, \"width\"),\n\t\t},\n\t};\n};\n\n/**\n * Creates a clamper for resize/move\n * @param {Window} win Window reference\n */\nconst clamper = (win) => {\n\tconst { maxDimension, minDimension } = win.attributes;\n\tconst { position, dimension } = win.state;\n\n\tconst maxPosition = {\n\t\tleft: position.left + dimension.width - minDimension.width,\n\t\ttop: position.top + dimension.height - minDimension.height,\n\t};\n\n\tconst clamp = (min, max, current) => {\n\t\tconst value = min === -1 ? current : Math.max(min, current);\n\t\treturn max === -1 ? value : Math.min(max, value);\n\t};\n\n\treturn (width, height, top, left) => ({\n\t\twidth: clamp(minDimension.width, maxDimension.width, width),\n\t\theight: clamp(minDimension.height, maxDimension.height, height),\n\t\ttop: clamp(-1, maxPosition.top, top),\n\t\tleft: clamp(-1, maxPosition.left, left),\n\t});\n};\n\n/**\n * Creates a resize handler\n * @param {Window} win Window reference\n */\nexport const resizer = (win, handle) => {\n\tconst clamp = clamper(win);\n\tconst { position, dimension } = win.state;\n\tconst directions = handle.getAttribute(\"data-direction\").split(\"\");\n\tconst going = (dir) => directions.indexOf(dir) !== -1;\n\tconst xDir = going(\"e\") ? 1 : going(\"w\") ? -1 : 0;\n\tconst yDir = going(\"s\") ? 1 : going(\"n\") ? -1 : 0;\n\n\treturn (diffX, diffY) => {\n\t\tconst width = dimension.width + diffX * xDir;\n\t\tconst height = dimension.height + diffY * yDir;\n\t\tconst top = yDir === -1 ? position.top + diffY : position.top;\n\t\tconst left = xDir === -1 ? position.left + diffX : position.left;\n\n\t\treturn clamp(width, height, top, left);\n\t};\n};\n\n/**\n * Creates a movement handler\n * @param {Window} win Window reference\n */\nexport const mover = (win, rect) => {\n\tconst { position } = win.state;\n\n\treturn (diffX, diffY) => {\n\t\tconst top = Math.max(position.top + diffY, rect.top);\n\t\tconst left = position.left + diffX;\n\n\t\treturn { top, left };\n\t};\n};\n\n/**\n * Calculates a new initial position for window\n * @param {Window} win Window reference\n * @param {Object} rect\n */\nexport const getCascadePosition = (win, rect, pos) => {\n\tconst startX = CASCADE_DISTANCE + rect.left;\n\tconst startY = CASCADE_DISTANCE + rect.top;\n\tconst distance = CASCADE_DISTANCE;\n\tconst wrap = CASCADE_DISTANCE * 2;\n\n\tconst newX = startX + (win.wid % wrap) * distance;\n\tconst newY = startY + (win.wid % wrap) * distance;\n\tconst position = (key, value) =>\n\t\ttypeof pos[key] === \"number\" && Number.isInteger(pos[key])\n\t\t\t? Math.max(rect[key], pos[key])\n\t\t\t: value;\n\n\treturn { top: position(\"top\", newY), left: position(\"left\", newX) };\n};\n\nconst getScreenOrientation = (screen) =>\n\tscreen && screen.orientation\n\t\t? screen.orientation.type\n\t\t: window.matchMedia(\"(orientation: portrait)\")\n\t\t\t? \"portrait\"\n\t\t\t: \"landscape\";\n\n/**\n * Gets a media query name from a map\n * @param {Window} win Window reference\n * @returns {String}\n */\nexport const getMediaQueryName = (win) =>\n\tObject.keys(win.attributes.mediaQueries)\n\t\t.filter((name) =>\n\t\t\tmediaQuery.match(win.attributes.mediaQueries[name], {\n\t\t\t\ttype: \"screen\",\n\t\t\t\torientation: getScreenOrientation(window.screen),\n\t\t\t\twidth: win.$element.offsetWidth || win.state.dimension.width,\n\t\t\t\theight: win.$element.offsetHeight || win.state.dimension.height,\n\t\t\t})\n\t\t)\n\t\t.pop();\n\n/**\n * Loads [certain] window options from configuration\n */\nexport const loadOptionsFromConfig = (config, appName, windowId) => {\n\tconst matchStringOrRegex = (str, matcher) =>\n\t\tmatcher instanceof RegExp ? Boolean(str.match(matcher)) : str === matcher;\n\n\tconst found = config.find(({ application, window }) => {\n\t\tif (!application && !window) {\n\t\t\treturn false;\n\t\t} else if (application && !matchStringOrRegex(appName, application)) {\n\t\t\treturn false;\n\t\t} else if (window && !matchStringOrRegex(windowId || \"\", window)) {\n\t\t\treturn false;\n\t\t}\n\n\t\treturn true;\n\t});\n\n\tconst foundOptions = found && found.options ? found.options : {};\n\tconst allowedProperties = [\"position\", \"dimension\", \"attributes\"];\n\n\treturn allowedProperties.reduce(\n\t\t(obj, key) =>\n\t\t\tfoundOptions[key] ? { ...obj, [key]: foundOptions[key] } : obj,\n\t\t{}\n\t);\n};\n",
    "static": true,
    "longname": "/home/runner/work/meeseOS/meeseOS/frontend/client/src/utils/windows.js",
    "access": "public",
    "description": null,
    "lineNumber": 1
  },
  {
    "__docId__": 672,
    "kind": "variable",
    "name": "CASCADE_DISTANCE",
    "memberof": "src/utils/windows.js",
    "static": true,
    "longname": "src/utils/windows.js~CASCADE_DISTANCE",
    "access": "public",
    "export": false,
    "importPath": "@meeseOS/client/src/utils/windows.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 35,
    "undocument": true,
    "type": {
      "types": [
        "number"
      ]
    },
    "ignore": true
  },
  {
    "__docId__": 673,
    "kind": "variable",
    "name": "MINIMUM_WIDTH",
    "memberof": "src/utils/windows.js",
    "static": true,
    "longname": "src/utils/windows.js~MINIMUM_WIDTH",
    "access": "public",
    "export": false,
    "importPath": "@meeseOS/client/src/utils/windows.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 36,
    "undocument": true,
    "type": {
      "types": [
        "number"
      ]
    },
    "ignore": true
  },
  {
    "__docId__": 674,
    "kind": "variable",
    "name": "MINIMUM_HEIGHT",
    "memberof": "src/utils/windows.js",
    "static": true,
    "longname": "src/utils/windows.js~MINIMUM_HEIGHT",
    "access": "public",
    "export": false,
    "importPath": "@meeseOS/client/src/utils/windows.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 37,
    "undocument": true,
    "type": {
      "types": [
        "number"
      ]
    },
    "ignore": true
  },
  {
    "__docId__": 675,
    "kind": "variable",
    "name": "ONTOP_ZINDEX",
    "memberof": "src/utils/windows.js",
    "static": true,
    "longname": "src/utils/windows.js~ONTOP_ZINDEX",
    "access": "public",
    "export": false,
    "importPath": "@meeseOS/client/src/utils/windows.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 38,
    "undocument": true,
    "type": {
      "types": [
        "number"
      ]
    },
    "ignore": true
  },
  {
    "__docId__": 676,
    "kind": "variable",
    "name": "BOTTOM_ZINDEX",
    "memberof": "src/utils/windows.js",
    "static": true,
    "longname": "src/utils/windows.js~BOTTOM_ZINDEX",
    "access": "public",
    "export": false,
    "importPath": "@meeseOS/client/src/utils/windows.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 39,
    "undocument": true,
    "type": {
      "types": [
        "number"
      ]
    },
    "ignore": true
  },
  {
    "__docId__": 677,
    "kind": "function",
    "name": "createAttributes",
    "memberof": "src/utils/windows.js",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "src/utils/windows.js~createAttributes",
    "access": "public",
    "export": true,
    "importPath": "@meeseOS/client/src/utils/windows.js",
    "importStyle": "{createAttributes}",
    "description": "Creates window attributes from an object",
    "lineNumber": 45,
    "params": [
      {
        "nullable": null,
        "types": [
          "Object"
        ],
        "spread": false,
        "optional": false,
        "name": "attrs",
        "description": ""
      }
    ],
    "return": null
  },
  {
    "__docId__": 678,
    "kind": "function",
    "name": "createState",
    "memberof": "src/utils/windows.js",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "src/utils/windows.js~createState",
    "access": "public",
    "export": true,
    "importPath": "@meeseOS/client/src/utils/windows.js",
    "importStyle": "{createState}",
    "description": "Creates window state from an object",
    "lineNumber": 85,
    "params": [
      {
        "nullable": null,
        "types": [
          "WindowState"
        ],
        "spread": false,
        "optional": false,
        "name": "state",
        "description": ""
      },
      {
        "nullable": null,
        "types": [
          "Object"
        ],
        "spread": false,
        "optional": false,
        "name": "options",
        "description": ""
      },
      {
        "nullable": null,
        "types": [
          "WindowAttributes"
        ],
        "spread": false,
        "optional": false,
        "name": "attrs",
        "description": ""
      }
    ],
    "return": null
  },
  {
    "__docId__": 679,
    "kind": "function",
    "name": "createDOMAttributes",
    "memberof": "src/utils/windows.js",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "src/utils/windows.js~createDOMAttributes",
    "access": "public",
    "export": true,
    "importPath": "@meeseOS/client/src/utils/windows.js",
    "importStyle": "{createDOMAttributes}",
    "description": "Creates data attributes for window DOM",
    "lineNumber": 117,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{Object}"
      }
    ],
    "params": [
      {
        "nullable": null,
        "types": [
          "String"
        ],
        "spread": false,
        "optional": false,
        "name": "id",
        "description": ""
      },
      {
        "nullable": null,
        "types": [
          "WindowState"
        ],
        "spread": false,
        "optional": false,
        "name": "state",
        "description": ""
      },
      {
        "nullable": null,
        "types": [
          "WindowAttributes"
        ],
        "spread": false,
        "optional": false,
        "name": "attributes",
        "description": ""
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "Object"
      ],
      "spread": false,
      "description": ""
    }
  },
  {
    "__docId__": 680,
    "kind": "function",
    "name": "createDOMStyles",
    "memberof": "src/utils/windows.js",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "src/utils/windows.js~createDOMStyles",
    "access": "public",
    "export": true,
    "importPath": "@meeseOS/client/src/utils/windows.js",
    "importStyle": "{createDOMStyles}",
    "description": "Creates styles for window DOM",
    "lineNumber": 140,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{Object}"
      }
    ],
    "params": [
      {
        "nullable": null,
        "types": [
          "WindowState"
        ],
        "spread": false,
        "optional": false,
        "name": "state",
        "description": ""
      },
      {
        "nullable": null,
        "types": [
          "WindowAttributes"
        ],
        "spread": false,
        "optional": false,
        "name": "attributes",
        "description": ""
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "Object"
      ],
      "spread": false,
      "description": ""
    }
  },
  {
    "__docId__": 681,
    "kind": "function",
    "name": "clampPosition",
    "memberof": "src/utils/windows.js",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "src/utils/windows.js~clampPosition",
    "access": "public",
    "export": true,
    "importPath": "@meeseOS/client/src/utils/windows.js",
    "importStyle": "{clampPosition}",
    "description": "Clamps position to viewport",
    "lineNumber": 156,
    "params": [
      {
        "nullable": null,
        "types": [
          "Object"
        ],
        "spread": false,
        "optional": false,
        "name": "rect",
        "description": ""
      }
    ],
    "return": {
      "types": [
        "{\"left\": *, \"top\": *}"
      ]
    }
  },
  {
    "__docId__": 682,
    "kind": "function",
    "name": "renderCallback",
    "memberof": "src/utils/windows.js",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "src/utils/windows.js~renderCallback",
    "access": "public",
    "export": true,
    "importPath": "@meeseOS/client/src/utils/windows.js",
    "importStyle": "{renderCallback}",
    "description": "Window rendering callback function",
    "lineNumber": 175,
    "params": [
      {
        "nullable": null,
        "types": [
          "Window"
        ],
        "spread": false,
        "optional": false,
        "name": "win",
        "description": "Window reference"
      },
      {
        "nullable": null,
        "types": [
          "Function"
        ],
        "spread": false,
        "optional": false,
        "name": "callback",
        "description": ""
      }
    ],
    "return": null
  },
  {
    "__docId__": 683,
    "kind": "function",
    "name": "positionFromGravity",
    "memberof": "src/utils/windows.js",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "src/utils/windows.js~positionFromGravity",
    "access": "public",
    "export": true,
    "importPath": "@meeseOS/client/src/utils/windows.js",
    "importStyle": "{positionFromGravity}",
    "description": "Gets new position based on \"gravity\"",
    "lineNumber": 203,
    "params": [
      {
        "nullable": null,
        "types": [
          "Window"
        ],
        "spread": false,
        "optional": false,
        "name": "win",
        "description": "Window reference"
      },
      {
        "nullable": null,
        "types": [
          "Object"
        ],
        "spread": false,
        "optional": false,
        "name": "rect",
        "description": ""
      },
      {
        "nullable": null,
        "types": [
          "String"
        ],
        "spread": false,
        "optional": false,
        "name": "gravity",
        "description": ""
      }
    ],
    "return": {
      "types": [
        "{\"left\": *, \"top\": *}"
      ]
    }
  },
  {
    "__docId__": 684,
    "kind": "function",
    "name": "dimensionFromElement",
    "memberof": "src/utils/windows.js",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "src/utils/windows.js~dimensionFromElement",
    "access": "public",
    "export": true,
    "importPath": "@meeseOS/client/src/utils/windows.js",
    "importStyle": "{dimensionFromElement}",
    "description": "Gets new dimension based on container",
    "lineNumber": 241,
    "params": [
      {
        "nullable": null,
        "types": [
          "Window"
        ],
        "spread": false,
        "optional": false,
        "name": "win",
        "description": "Window reference"
      },
      {
        "nullable": null,
        "types": [
          "Object"
        ],
        "spread": false,
        "optional": false,
        "name": "rect",
        "description": ""
      },
      {
        "nullable": null,
        "types": [
          "HTMLElement"
        ],
        "spread": false,
        "optional": false,
        "name": "container",
        "description": ""
      }
    ],
    "return": {
      "types": [
        "{\"width\": *, \"height\": *}"
      ]
    }
  },
  {
    "__docId__": 685,
    "kind": "function",
    "name": "transformVectors",
    "memberof": "src/utils/windows.js",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "src/utils/windows.js~transformVectors",
    "access": "public",
    "export": true,
    "importPath": "@meeseOS/client/src/utils/windows.js",
    "importStyle": "{transformVectors}",
    "description": "Transforms vector values (ex. float to integer)",
    "lineNumber": 283,
    "params": [
      {
        "nullable": null,
        "types": [
          "Object"
        ],
        "spread": false,
        "optional": false,
        "name": "rect",
        "description": ""
      }
    ],
    "return": {
      "types": [
        "{\"dimension\": *, \"position\": *}"
      ]
    }
  },
  {
    "__docId__": 686,
    "kind": "function",
    "name": "clamper",
    "memberof": "src/utils/windows.js",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "src/utils/windows.js~clamper",
    "access": "public",
    "export": false,
    "importPath": "@meeseOS/client/src/utils/windows.js",
    "importStyle": null,
    "description": "Creates a clamper for resize/move",
    "lineNumber": 310,
    "params": [
      {
        "nullable": null,
        "types": [
          "Window"
        ],
        "spread": false,
        "optional": false,
        "name": "win",
        "description": "Window reference"
      }
    ],
    "return": {
      "types": [
        "*"
      ]
    },
    "ignore": true
  },
  {
    "__docId__": 687,
    "kind": "function",
    "name": "resizer",
    "memberof": "src/utils/windows.js",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "src/utils/windows.js~resizer",
    "access": "public",
    "export": true,
    "importPath": "@meeseOS/client/src/utils/windows.js",
    "importStyle": "{resizer}",
    "description": "Creates a resize handler",
    "lineNumber": 336,
    "params": [
      {
        "nullable": null,
        "types": [
          "Window"
        ],
        "spread": false,
        "optional": false,
        "name": "win",
        "description": "Window reference"
      }
    ],
    "return": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 688,
    "kind": "function",
    "name": "mover",
    "memberof": "src/utils/windows.js",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "src/utils/windows.js~mover",
    "access": "public",
    "export": true,
    "importPath": "@meeseOS/client/src/utils/windows.js",
    "importStyle": "{mover}",
    "description": "Creates a movement handler",
    "lineNumber": 358,
    "params": [
      {
        "nullable": null,
        "types": [
          "Window"
        ],
        "spread": false,
        "optional": false,
        "name": "win",
        "description": "Window reference"
      }
    ],
    "return": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 689,
    "kind": "function",
    "name": "getCascadePosition",
    "memberof": "src/utils/windows.js",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "src/utils/windows.js~getCascadePosition",
    "access": "public",
    "export": true,
    "importPath": "@meeseOS/client/src/utils/windows.js",
    "importStyle": "{getCascadePosition}",
    "description": "Calculates a new initial position for window",
    "lineNumber": 374,
    "params": [
      {
        "nullable": null,
        "types": [
          "Window"
        ],
        "spread": false,
        "optional": false,
        "name": "win",
        "description": "Window reference"
      },
      {
        "nullable": null,
        "types": [
          "Object"
        ],
        "spread": false,
        "optional": false,
        "name": "rect",
        "description": ""
      }
    ],
    "return": {
      "types": [
        "{\"top\": *, \"left\": *}"
      ]
    }
  },
  {
    "__docId__": 690,
    "kind": "function",
    "name": "getScreenOrientation",
    "memberof": "src/utils/windows.js",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "src/utils/windows.js~getScreenOrientation",
    "access": "public",
    "export": false,
    "importPath": "@meeseOS/client/src/utils/windows.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 390,
    "undocument": true,
    "params": [
      {
        "name": "screen",
        "types": [
          "*"
        ]
      }
    ],
    "return": null,
    "ignore": true
  },
  {
    "__docId__": 691,
    "kind": "function",
    "name": "getMediaQueryName",
    "memberof": "src/utils/windows.js",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "src/utils/windows.js~getMediaQueryName",
    "access": "public",
    "export": true,
    "importPath": "@meeseOS/client/src/utils/windows.js",
    "importStyle": "{getMediaQueryName}",
    "description": "Gets a media query name from a map",
    "lineNumber": 402,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{String}"
      }
    ],
    "params": [
      {
        "nullable": null,
        "types": [
          "Window"
        ],
        "spread": false,
        "optional": false,
        "name": "win",
        "description": "Window reference"
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "String"
      ],
      "spread": false,
      "description": ""
    }
  },
  {
    "__docId__": 692,
    "kind": "function",
    "name": "loadOptionsFromConfig",
    "memberof": "src/utils/windows.js",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "src/utils/windows.js~loadOptionsFromConfig",
    "access": "public",
    "export": true,
    "importPath": "@meeseOS/client/src/utils/windows.js",
    "importStyle": "{loadOptionsFromConfig}",
    "description": "Loads [certain] window options from configuration",
    "lineNumber": 417,
    "params": [
      {
        "name": "config",
        "types": [
          "*"
        ]
      },
      {
        "name": "appName",
        "types": [
          "*"
        ]
      },
      {
        "name": "windowId",
        "types": [
          "*"
        ]
      }
    ],
    "return": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 693,
    "kind": "file",
    "name": "src/vfs.js",
    "content": "/**\n * OS.js - JavaScript Cloud/Web Desktop Platform\n *\n * Copyright (c) 2011-Present, Anders Evenrud <andersevenrud@gmail.com>\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *\n * 1. Redistributions of source code must retain the above copyright notice, this\n *    list of conditions and the following disclaimer\n * 2. Redistributions in binary form must reproduce the above copyright notice,\n *    this list of conditions and the following disclaimer in the documentation\n *    and/or other materials provided with the distribution\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\n * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR\n * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n *\n * @author  Anders Evenrud <andersevenrud@gmail.com>\n * @license Simplified BSD License\n */\n\nimport {\n\tcreateFileIter,\n\ttransformArrayBuffer,\n\ttransformReaddir,\n} from \"./utils/vfs\";\n\n/**\n * VFS Method Options\n *\n * TODO: typedef\n * @typedef {Object} VFSMethodOptions\n */\n\n/**\n * VFS Download Options\n *\n * @typedef {Object} VFSDownloadOptions\n * @property {Boolean} [readfile] Set to false to force backend fetch\n */\n\n/**\n * VFS Archive Options\n *\n * @typedef {Object} VFSArchiveOptions\n * @property {String} [action] The action to perform on the archive\n */\n\n/**\n * VFS File Object\n *\n * @typedef {Object} VFSFile\n * @property {String} path\n * @property {String} [filename]\n * @property {Boolean} [isDirectory]\n * @property {Boolean} [isFile]\n * @property {String} [mime]\n * @property {Object} [stat]\n */\n\n// Cache the capability of each mount point\nlet capabilityCache = {};\n\n/**\n * Makes sure our input paths are object(s)\n * @param {String|Object} path\n * @returns {Object}\n */\nconst pathToObject = (path) => ({\n\tid: null,\n\t...(typeof path === \"string\" ? { path } : path),\n});\n\n/**\n * Handles directory listing result(s)\n * @param {String|Object} path\n * @param {Object} options\n * @returns {Promise<any[]>}\n */\nconst handleDirectoryList = (path, options) =>\n\t(result) =>\n\t\tPromise.resolve(result.map((stat) => createFileIter(stat))).then((result) =>\n\t\t\ttransformReaddir(pathToObject(path), result, {\n\t\t\t\tshowHiddenFiles: options.showHiddenFiles !== false,\n\t\t\t\tfilter: options.filter,\n\t\t\t})\n\t\t);\n\n/**\n * Get VFS capabilities.\n * @param {String|VFSFile} path The path of a file\n * @param {VFSMethodOptions} [options] Options\n * @return {Promise<Object[]>} An object of capabilities\n */\nexport const capabilities = (adapter, mount) =>\n\t(path, options = {}) => {\n\t\tconst cached = capabilityCache[mount.name];\n\t\tif (cached) {\n\t\t\treturn Promise.resolve(cached);\n\t\t}\n\n\t\treturn adapter\n\t\t\t.capabilities(pathToObject(path), options, mount)\n\t\t\t.then(res => {\n\t\t\t\tcapabilityCache[mount.name] = res;\n\t\t\t\treturn res;\n\t\t\t});\n\t};\n\n/**\n * Read a directory.\n * @param {String|VFSFile} path The path to read\n * @param {VFSMethodOptions} [options={}] Options\n * @returns {Promise<Object[]>} A list of files\n */\nexport const readdir = (adapter, mount) =>\n\t(path, options = {}) =>\n\t\tadapter\n\t\t\t.readdir(pathToObject(path), options, mount)\n\t\t\t.then(handleDirectoryList(path, options));\n\n/**\n * Reads a file.\n *\n * Available types are 'arraybuffer', 'blob', 'uri', and 'string'.\n *\n * @param {String|VFSFile} path The path to read\n * @param {String} [type=string] Return this content type\n * @param {VFSMethodOptions} [options={}] Options\n * @returns {Promise<ArrayBuffer>}\n */\nexport const readfile = (adapter, mount) =>\n\t(path, type = \"string\", options = {}) =>\n\t\tadapter\n\t\t\t.readfile(pathToObject(path), type, options, mount)\n\t\t\t.then((response) =>\n\t\t\t\ttransformArrayBuffer(response.body, response.mime, type)\n\t\t\t);\n\n/**\n * Writes a file.\n *\n * @param {String|VFSFile} path The path to write\n * @param {ArrayBuffer|Blob|String} data The data\n * @param {VFSMethodOptions} [options={}] Options\n * @returns {Promise<Number>} File size\n */\nexport const writefile = (adapter, mount) =>\n\t(path, data, options = {}) => {\n\t\tconst binary = data instanceof ArrayBuffer || data instanceof Blob\n\t\t\t? data\n\t\t\t: new Blob([data], { type: \"application/octet-stream\" });\n\n\t\treturn adapter.writefile(pathToObject(path), binary, options, mount);\n\t};\n\n/**\n * Copies a file or directory (move)\n *\n * @param {String|VFSFile} from The source (from)\n * @param {String|VFSFile} to The destination (to)\n * @param {VFSMethodOptions} [options={}] Options\n * @returns {Promise<Boolean>}\n */\nexport const copy = (adapter, mount) =>\n\t(from, to, options = {}) =>\n\t\tadapter.copy(pathToObject(from), pathToObject(to), options, mount);\n\n/**\n * Renames a file or directory (move)\n *\n * @param {String|VFSFile} from The source (from)\n * @param {String|VFSFile} to The destination (to)\n * @param {VFSMethodOptions} [options={}] Options\n * @returns {Promise<Boolean>}\n */\nexport const rename = (adapter, mount) =>\n\t(from, to, options = {}) =>\n\t\tadapter.rename(pathToObject(from), pathToObject(to), options, mount);\n\n/**\n * Alias of 'rename'\n *\n * @param {String|VFSFile} from The source (from)\n * @param {String|VFSFile} to The destination (to)\n * @param {VFSMethodOptions} [options] Options\n * @returns {Promise<Boolean>}\n */\nexport const move = rename;\n\n/**\n * Creates a directory.\n * @param {String|VFSFile} path The path to new directory\n * @param {VFSMethodOptions} [options={}] Options\n * @returns {Promise<Boolean>}\n */\nexport const mkdir = (adapter, mount) =>\n\t(path, options = {}) =>\n\t\tadapter.mkdir(pathToObject(path), options, mount);\n\n/**\n * Removes a file or directory.\n * @param {String|VFSFile} path The path to remove\n * @param {VFSMethodOptions} [options={}] Options\n * @returns {Promise<Boolean>}\n */\nexport const unlink = (adapter, mount) =>\n\t(path, options = {}) =>\n\t\tadapter.unlink(pathToObject(path), options, mount);\n\n/**\n * Checks if path exists.\n * @param {String|VFSFile} path The path to check\n * @param {VFSMethodOptions} [options={}] Options\n * @returns {Promise<Boolean>}\n */\nexport const exists = (adapter, mount) =>\n\t(path, options = {}) =>\n\t\tadapter.exists(pathToObject(path), options, mount);\n\n/**\n * Gets the stats of the file or directory.\n * @param {String|VFSFile} path The path to check\n * @param {VFSMethodOptions} [options={}] Options\n * @returns {Promise<Object>}\n */\nexport const stat = (adapter, mount) =>\n\t(path, options = {}) =>\n\t\tadapter\n\t\t\t.stat(pathToObject(path), options, mount)\n\t\t\t.then((stat) => createFileIter(stat));\n\n/**\n * Gets an URL to a resource defined by file.\n * @param {String|VFSFile} path The file\n * @param {VFSMethodOptions} [options={}] Options\n * @returns {Promise<String>}\n */\nexport const url = (adapter, mount) =>\n\t(path, options = {}) =>\n\t\tadapter.url(pathToObject(path), options, mount);\n\n/**\n * Initiates a native browser download of the file.\n * @param {String|VFSFile} path The file\n * @param {VFSDownloadOptions} [options={}] Options\n * @returns {Promise<any>}\n */\nexport const download = (adapter, mount) =>\n\t(path, options = {}) =>\n\t\ttypeof adapter.download === \"function\" && options.readfile !== true\n\t\t\t? adapter.download(pathToObject(path), options, mount)\n\t\t\t: readfile(adapter)(path, \"blob\").then((body) => {\n\t\t\t\tconst filename = pathToObject(path).path.split(\"/\").splice(-1)[0];\n\t\t\t\tconst url = window.URL.createObjectURL(body);\n\n\t\t\t\tconst a = document.createElement(\"a\");\n\t\t\t\ta.style.display = \"none\";\n\t\t\t\ta.href = url;\n\t\t\t\ta.download = filename;\n\t\t\t\tdocument.body.appendChild(a);\n\n\t\t\t\ta.click();\n\n\t\t\t\tsetTimeout(() => {\n\t\t\t\t\twindow.URL.revokeObjectURL(url);\n\t\t\t\t\ta.remove();\n\t\t\t\t}, 1);\n\t\t\t});\n\n/**\n * Searches for files and folders.\n *\n * @param {String|VFSFile} root The root\n * @param {String} pattern Search pattern\n * @param {VFSMethodOptions} [options={}] Options\n * @returns {Promise<Object[]>} A list of files\n */\nexport const search = (adapter, mount) =>\n\t(root, pattern, options = {}) => {\n\t\tif (mount.attributes && mount.attributes.searchable === false) {\n\t\t\treturn Promise.resolve([]);\n\t\t}\n\n\t\treturn adapter\n\t\t\t.search(pathToObject(root), pattern, options, mount)\n\t\t\t.then(handleDirectoryList(root, options));\n\t};\n\n/**\n * Touches a file.\n * @param {String|VFSFile} path File path\n * @param {VFSMethodOptions} [options={}] Options\n * @returns {Promise<Boolean>}\n */\nexport const touch = (adapter, mount) =>\n\t(path, options = {}) =>\n\t\tadapter.touch(pathToObject(path), options, mount);\n\n/**\n * Compresses or decompresses a selection of files.\n * @param {String[]|VFSFile[]} selection The selection to compress or decompress\n * @param {VFSArchiveOptions} [options={}] Options\n * @returns {Promise<Boolean>}\n */\nexport const archive = (adapter, mount) =>\n\t(selection, options = {}) => {\n\t\tconst paths = selection.map((path) => pathToObject(path));\n\t\treturn adapter.archive(paths, options, mount);\n\t};\n",
    "static": true,
    "longname": "/home/runner/work/meeseOS/meeseOS/frontend/client/src/vfs.js",
    "access": "public",
    "description": null,
    "lineNumber": 1
  },
  {
    "__docId__": 694,
    "kind": "typedef",
    "name": "VFSMethodOptions",
    "memberof": "src/vfs.js",
    "static": true,
    "longname": "src/vfs.js~VFSMethodOptions",
    "access": "public",
    "description": "VFS Method Options\n\nTODO: typedef",
    "type": {
      "types": [
        "Object"
      ],
      "optional": false,
      "name": "VFSMethodOptions"
    }
  },
  {
    "__docId__": 695,
    "kind": "typedef",
    "name": "VFSDownloadOptions",
    "memberof": "src/vfs.js",
    "static": true,
    "longname": "src/vfs.js~VFSDownloadOptions",
    "access": "public",
    "description": "VFS Download Options",
    "properties": [
      {
        "nullable": null,
        "types": [
          "Boolean"
        ],
        "spread": false,
        "optional": true,
        "name": "readfile",
        "description": "Set to false to force backend fetch"
      }
    ],
    "type": {
      "types": [
        "Object"
      ],
      "optional": false,
      "name": "VFSDownloadOptions"
    }
  },
  {
    "__docId__": 696,
    "kind": "typedef",
    "name": "VFSArchiveOptions",
    "memberof": "src/vfs.js",
    "static": true,
    "longname": "src/vfs.js~VFSArchiveOptions",
    "access": "public",
    "description": "VFS Archive Options",
    "properties": [
      {
        "nullable": null,
        "types": [
          "String"
        ],
        "spread": false,
        "optional": true,
        "name": "action",
        "description": "The action to perform on the archive"
      }
    ],
    "type": {
      "types": [
        "Object"
      ],
      "optional": false,
      "name": "VFSArchiveOptions"
    }
  },
  {
    "__docId__": 697,
    "kind": "typedef",
    "name": "VFSFile",
    "memberof": "src/vfs.js",
    "static": true,
    "longname": "src/vfs.js~VFSFile",
    "access": "public",
    "description": "VFS File Object",
    "lineNumber": 71,
    "properties": [
      {
        "nullable": null,
        "types": [
          "String"
        ],
        "spread": false,
        "optional": false,
        "name": "path",
        "description": ""
      },
      {
        "nullable": null,
        "types": [
          "String"
        ],
        "spread": false,
        "optional": true,
        "name": "filename",
        "description": ""
      },
      {
        "nullable": null,
        "types": [
          "Boolean"
        ],
        "spread": false,
        "optional": true,
        "name": "isDirectory",
        "description": ""
      },
      {
        "nullable": null,
        "types": [
          "Boolean"
        ],
        "spread": false,
        "optional": true,
        "name": "isFile",
        "description": ""
      },
      {
        "nullable": null,
        "types": [
          "String"
        ],
        "spread": false,
        "optional": true,
        "name": "mime",
        "description": ""
      },
      {
        "nullable": null,
        "types": [
          "Object"
        ],
        "spread": false,
        "optional": true,
        "name": "stat",
        "description": ""
      }
    ],
    "type": {
      "types": [
        "Object"
      ],
      "optional": false,
      "name": "VFSFile"
    }
  },
  {
    "__docId__": 698,
    "kind": "function",
    "name": "pathToObject",
    "memberof": "src/vfs.js",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "src/vfs.js~pathToObject",
    "access": "public",
    "export": false,
    "importPath": "@meeseOS/client/src/vfs.js",
    "importStyle": null,
    "description": "Makes sure our input paths are object(s)",
    "lineNumber": 78,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{Object}"
      }
    ],
    "params": [
      {
        "nullable": null,
        "types": [
          "String",
          "Object"
        ],
        "spread": false,
        "optional": false,
        "name": "path",
        "description": ""
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "Object"
      ],
      "spread": false,
      "description": ""
    },
    "ignore": true
  },
  {
    "__docId__": 699,
    "kind": "function",
    "name": "handleDirectoryList",
    "memberof": "src/vfs.js",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "src/vfs.js~handleDirectoryList",
    "access": "public",
    "export": false,
    "importPath": "@meeseOS/client/src/vfs.js",
    "importStyle": null,
    "description": "Handles directory listing result(s)",
    "lineNumber": 89,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{Promise<any[]>}"
      }
    ],
    "params": [
      {
        "nullable": null,
        "types": [
          "String",
          "Object"
        ],
        "spread": false,
        "optional": false,
        "name": "path",
        "description": ""
      },
      {
        "nullable": null,
        "types": [
          "Object"
        ],
        "spread": false,
        "optional": false,
        "name": "options",
        "description": ""
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "Promise<any[]>"
      ],
      "spread": false,
      "description": ""
    },
    "ignore": true
  },
  {
    "__docId__": 700,
    "kind": "function",
    "name": "capabilities",
    "memberof": "src/vfs.js",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "src/vfs.js~capabilities",
    "access": "public",
    "export": true,
    "importPath": "@meeseOS/client/src/vfs.js",
    "importStyle": "{capabilities}",
    "description": "Get VFS capabilities.",
    "lineNumber": 104,
    "params": [
      {
        "nullable": null,
        "types": [
          "String",
          "VFSFile"
        ],
        "spread": false,
        "optional": false,
        "name": "path",
        "description": "The path of a file"
      },
      {
        "nullable": null,
        "types": [
          "VFSMethodOptions"
        ],
        "spread": false,
        "optional": true,
        "name": "options",
        "description": "Options"
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "Promise<Object[]>"
      ],
      "spread": false,
      "description": "An object of capabilities"
    }
  },
  {
    "__docId__": 701,
    "kind": "function",
    "name": "readdir",
    "memberof": "src/vfs.js",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "src/vfs.js~readdir",
    "access": "public",
    "export": true,
    "importPath": "@meeseOS/client/src/vfs.js",
    "importStyle": "{readdir}",
    "description": "Read a directory.",
    "lineNumber": 125,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{Promise<Object[]>} A list of files"
      }
    ],
    "params": [
      {
        "nullable": null,
        "types": [
          "String",
          "VFSFile"
        ],
        "spread": false,
        "optional": false,
        "name": "path",
        "description": "The path to read"
      },
      {
        "nullable": null,
        "types": [
          "VFSMethodOptions"
        ],
        "spread": false,
        "optional": true,
        "defaultValue": "{}",
        "defaultRaw": {},
        "name": "options",
        "description": "Options"
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "Promise<Object[]>"
      ],
      "spread": false,
      "description": "A list of files"
    }
  },
  {
    "__docId__": 702,
    "kind": "function",
    "name": "readfile",
    "memberof": "src/vfs.js",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "src/vfs.js~readfile",
    "access": "public",
    "export": true,
    "importPath": "@meeseOS/client/src/vfs.js",
    "importStyle": "{readfile}",
    "description": "Reads a file.\n\nAvailable types are 'arraybuffer', 'blob', 'uri', and 'string'.",
    "lineNumber": 141,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{Promise<ArrayBuffer>}"
      }
    ],
    "params": [
      {
        "nullable": null,
        "types": [
          "String",
          "VFSFile"
        ],
        "spread": false,
        "optional": false,
        "name": "path",
        "description": "The path to read"
      },
      {
        "nullable": null,
        "types": [
          "String"
        ],
        "spread": false,
        "optional": true,
        "defaultValue": "string",
        "defaultRaw": "string",
        "name": "type",
        "description": "Return this content type"
      },
      {
        "nullable": null,
        "types": [
          "VFSMethodOptions"
        ],
        "spread": false,
        "optional": true,
        "defaultValue": "{}",
        "defaultRaw": {},
        "name": "options",
        "description": "Options"
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "Promise<ArrayBuffer>"
      ],
      "spread": false,
      "description": ""
    }
  },
  {
    "__docId__": 703,
    "kind": "function",
    "name": "writefile",
    "memberof": "src/vfs.js",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "src/vfs.js~writefile",
    "access": "public",
    "export": true,
    "importPath": "@meeseOS/client/src/vfs.js",
    "importStyle": "{writefile}",
    "description": "Writes a file.",
    "lineNumber": 157,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{Promise<Number>} File size"
      }
    ],
    "params": [
      {
        "nullable": null,
        "types": [
          "String",
          "VFSFile"
        ],
        "spread": false,
        "optional": false,
        "name": "path",
        "description": "The path to write"
      },
      {
        "nullable": null,
        "types": [
          "ArrayBuffer",
          "Blob",
          "String"
        ],
        "spread": false,
        "optional": false,
        "name": "data",
        "description": "The data"
      },
      {
        "nullable": null,
        "types": [
          "VFSMethodOptions"
        ],
        "spread": false,
        "optional": true,
        "defaultValue": "{}",
        "defaultRaw": {},
        "name": "options",
        "description": "Options"
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "Promise<Number>"
      ],
      "spread": false,
      "description": "File size"
    }
  },
  {
    "__docId__": 704,
    "kind": "function",
    "name": "copy",
    "memberof": "src/vfs.js",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "src/vfs.js~copy",
    "access": "public",
    "export": true,
    "importPath": "@meeseOS/client/src/vfs.js",
    "importStyle": "{copy}",
    "description": "Copies a file or directory (move)",
    "lineNumber": 174,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{Promise<Boolean>}"
      }
    ],
    "params": [
      {
        "nullable": null,
        "types": [
          "String",
          "VFSFile"
        ],
        "spread": false,
        "optional": false,
        "name": "from",
        "description": "The source (from)"
      },
      {
        "nullable": null,
        "types": [
          "String",
          "VFSFile"
        ],
        "spread": false,
        "optional": false,
        "name": "to",
        "description": "The destination (to)"
      },
      {
        "nullable": null,
        "types": [
          "VFSMethodOptions"
        ],
        "spread": false,
        "optional": true,
        "defaultValue": "{}",
        "defaultRaw": {},
        "name": "options",
        "description": "Options"
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "Promise<Boolean>"
      ],
      "spread": false,
      "description": ""
    }
  },
  {
    "__docId__": 705,
    "kind": "function",
    "name": "rename",
    "memberof": "src/vfs.js",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "src/vfs.js~rename",
    "access": "public",
    "export": true,
    "importPath": "@meeseOS/client/src/vfs.js",
    "importStyle": "{rename}",
    "description": "Renames a file or directory (move)",
    "lineNumber": 186,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{Promise<Boolean>}"
      }
    ],
    "params": [
      {
        "nullable": null,
        "types": [
          "String",
          "VFSFile"
        ],
        "spread": false,
        "optional": false,
        "name": "from",
        "description": "The source (from)"
      },
      {
        "nullable": null,
        "types": [
          "String",
          "VFSFile"
        ],
        "spread": false,
        "optional": false,
        "name": "to",
        "description": "The destination (to)"
      },
      {
        "nullable": null,
        "types": [
          "VFSMethodOptions"
        ],
        "spread": false,
        "optional": true,
        "defaultValue": "{}",
        "defaultRaw": {},
        "name": "options",
        "description": "Options"
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "Promise<Boolean>"
      ],
      "spread": false,
      "description": ""
    }
  },
  {
    "__docId__": 706,
    "kind": "variable",
    "name": "move",
    "memberof": "src/vfs.js",
    "static": true,
    "longname": "src/vfs.js~move",
    "access": "public",
    "export": true,
    "importPath": "@meeseOS/client/src/vfs.js",
    "importStyle": "{move}",
    "description": "Alias of 'rename'",
    "lineNumber": 198,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{Promise<Boolean>}"
      }
    ],
    "params": [
      {
        "nullable": null,
        "types": [
          "String",
          "VFSFile"
        ],
        "spread": false,
        "optional": false,
        "name": "from",
        "description": "The source (from)"
      },
      {
        "nullable": null,
        "types": [
          "String",
          "VFSFile"
        ],
        "spread": false,
        "optional": false,
        "name": "to",
        "description": "The destination (to)"
      },
      {
        "nullable": null,
        "types": [
          "VFSMethodOptions"
        ],
        "spread": false,
        "optional": true,
        "name": "options",
        "description": "Options"
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "Promise<Boolean>"
      ],
      "spread": false,
      "description": ""
    },
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 707,
    "kind": "function",
    "name": "mkdir",
    "memberof": "src/vfs.js",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "src/vfs.js~mkdir",
    "access": "public",
    "export": true,
    "importPath": "@meeseOS/client/src/vfs.js",
    "importStyle": "{mkdir}",
    "description": "Creates a directory.",
    "lineNumber": 206,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{Promise<Boolean>}"
      }
    ],
    "params": [
      {
        "nullable": null,
        "types": [
          "String",
          "VFSFile"
        ],
        "spread": false,
        "optional": false,
        "name": "path",
        "description": "The path to new directory"
      },
      {
        "nullable": null,
        "types": [
          "VFSMethodOptions"
        ],
        "spread": false,
        "optional": true,
        "defaultValue": "{}",
        "defaultRaw": {},
        "name": "options",
        "description": "Options"
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "Promise<Boolean>"
      ],
      "spread": false,
      "description": ""
    }
  },
  {
    "__docId__": 708,
    "kind": "function",
    "name": "unlink",
    "memberof": "src/vfs.js",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "src/vfs.js~unlink",
    "access": "public",
    "export": true,
    "importPath": "@meeseOS/client/src/vfs.js",
    "importStyle": "{unlink}",
    "description": "Removes a file or directory.",
    "lineNumber": 216,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{Promise<Boolean>}"
      }
    ],
    "params": [
      {
        "nullable": null,
        "types": [
          "String",
          "VFSFile"
        ],
        "spread": false,
        "optional": false,
        "name": "path",
        "description": "The path to remove"
      },
      {
        "nullable": null,
        "types": [
          "VFSMethodOptions"
        ],
        "spread": false,
        "optional": true,
        "defaultValue": "{}",
        "defaultRaw": {},
        "name": "options",
        "description": "Options"
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "Promise<Boolean>"
      ],
      "spread": false,
      "description": ""
    }
  },
  {
    "__docId__": 709,
    "kind": "function",
    "name": "exists",
    "memberof": "src/vfs.js",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "src/vfs.js~exists",
    "access": "public",
    "export": true,
    "importPath": "@meeseOS/client/src/vfs.js",
    "importStyle": "{exists}",
    "description": "Checks if path exists.",
    "lineNumber": 226,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{Promise<Boolean>}"
      }
    ],
    "params": [
      {
        "nullable": null,
        "types": [
          "String",
          "VFSFile"
        ],
        "spread": false,
        "optional": false,
        "name": "path",
        "description": "The path to check"
      },
      {
        "nullable": null,
        "types": [
          "VFSMethodOptions"
        ],
        "spread": false,
        "optional": true,
        "defaultValue": "{}",
        "defaultRaw": {},
        "name": "options",
        "description": "Options"
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "Promise<Boolean>"
      ],
      "spread": false,
      "description": ""
    }
  },
  {
    "__docId__": 710,
    "kind": "function",
    "name": "stat",
    "memberof": "src/vfs.js",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "src/vfs.js~stat",
    "access": "public",
    "export": true,
    "importPath": "@meeseOS/client/src/vfs.js",
    "importStyle": "{stat}",
    "description": "Gets the stats of the file or directory.",
    "lineNumber": 236,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{Promise<Object>}"
      }
    ],
    "params": [
      {
        "nullable": null,
        "types": [
          "String",
          "VFSFile"
        ],
        "spread": false,
        "optional": false,
        "name": "path",
        "description": "The path to check"
      },
      {
        "nullable": null,
        "types": [
          "VFSMethodOptions"
        ],
        "spread": false,
        "optional": true,
        "defaultValue": "{}",
        "defaultRaw": {},
        "name": "options",
        "description": "Options"
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "Promise<Object>"
      ],
      "spread": false,
      "description": ""
    }
  },
  {
    "__docId__": 711,
    "kind": "function",
    "name": "url",
    "memberof": "src/vfs.js",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "src/vfs.js~url",
    "access": "public",
    "export": true,
    "importPath": "@meeseOS/client/src/vfs.js",
    "importStyle": "{url}",
    "description": "Gets an URL to a resource defined by file.",
    "lineNumber": 248,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{Promise<String>}"
      }
    ],
    "params": [
      {
        "nullable": null,
        "types": [
          "String",
          "VFSFile"
        ],
        "spread": false,
        "optional": false,
        "name": "path",
        "description": "The file"
      },
      {
        "nullable": null,
        "types": [
          "VFSMethodOptions"
        ],
        "spread": false,
        "optional": true,
        "defaultValue": "{}",
        "defaultRaw": {},
        "name": "options",
        "description": "Options"
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "Promise<String>"
      ],
      "spread": false,
      "description": ""
    }
  },
  {
    "__docId__": 712,
    "kind": "function",
    "name": "download",
    "memberof": "src/vfs.js",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "src/vfs.js~download",
    "access": "public",
    "export": true,
    "importPath": "@meeseOS/client/src/vfs.js",
    "importStyle": "{download}",
    "description": "Initiates a native browser download of the file.",
    "lineNumber": 258,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{Promise<any>}"
      }
    ],
    "params": [
      {
        "nullable": null,
        "types": [
          "String",
          "VFSFile"
        ],
        "spread": false,
        "optional": false,
        "name": "path",
        "description": "The file"
      },
      {
        "nullable": null,
        "types": [
          "VFSDownloadOptions"
        ],
        "spread": false,
        "optional": true,
        "defaultValue": "{}",
        "defaultRaw": {},
        "name": "options",
        "description": "Options"
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "Promise<any>"
      ],
      "spread": false,
      "description": ""
    }
  },
  {
    "__docId__": 713,
    "kind": "function",
    "name": "search",
    "memberof": "src/vfs.js",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "src/vfs.js~search",
    "access": "public",
    "export": true,
    "importPath": "@meeseOS/client/src/vfs.js",
    "importStyle": "{search}",
    "description": "Searches for files and folders.",
    "lineNumber": 288,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{Promise<Object[]>} A list of files"
      }
    ],
    "params": [
      {
        "nullable": null,
        "types": [
          "String",
          "VFSFile"
        ],
        "spread": false,
        "optional": false,
        "name": "root",
        "description": "The root"
      },
      {
        "nullable": null,
        "types": [
          "String"
        ],
        "spread": false,
        "optional": false,
        "name": "pattern",
        "description": "Search pattern"
      },
      {
        "nullable": null,
        "types": [
          "VFSMethodOptions"
        ],
        "spread": false,
        "optional": true,
        "defaultValue": "{}",
        "defaultRaw": {},
        "name": "options",
        "description": "Options"
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "Promise<Object[]>"
      ],
      "spread": false,
      "description": "A list of files"
    }
  },
  {
    "__docId__": 714,
    "kind": "function",
    "name": "touch",
    "memberof": "src/vfs.js",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "src/vfs.js~touch",
    "access": "public",
    "export": true,
    "importPath": "@meeseOS/client/src/vfs.js",
    "importStyle": "{touch}",
    "description": "Touches a file.",
    "lineNumber": 305,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{Promise<Boolean>}"
      }
    ],
    "params": [
      {
        "nullable": null,
        "types": [
          "String",
          "VFSFile"
        ],
        "spread": false,
        "optional": false,
        "name": "path",
        "description": "File path"
      },
      {
        "nullable": null,
        "types": [
          "VFSMethodOptions"
        ],
        "spread": false,
        "optional": true,
        "defaultValue": "{}",
        "defaultRaw": {},
        "name": "options",
        "description": "Options"
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "Promise<Boolean>"
      ],
      "spread": false,
      "description": ""
    }
  },
  {
    "__docId__": 715,
    "kind": "function",
    "name": "archive",
    "memberof": "src/vfs.js",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "src/vfs.js~archive",
    "access": "public",
    "export": true,
    "importPath": "@meeseOS/client/src/vfs.js",
    "importStyle": "{archive}",
    "description": "Compresses or decompresses a selection of files.",
    "lineNumber": 315,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{Promise<Boolean>}"
      }
    ],
    "params": [
      {
        "nullable": null,
        "types": [
          "String[]",
          "VFSFile[]"
        ],
        "spread": false,
        "optional": false,
        "name": "selection",
        "description": "The selection to compress or decompress"
      },
      {
        "nullable": null,
        "types": [
          "VFSArchiveOptions"
        ],
        "spread": false,
        "optional": true,
        "defaultValue": "{}",
        "defaultRaw": {},
        "name": "options",
        "description": "Options"
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "Promise<Boolean>"
      ],
      "spread": false,
      "description": ""
    }
  },
  {
    "__docId__": 716,
    "kind": "file",
    "name": "src/websocket.js",
    "content": "/**\n * OS.js - JavaScript Cloud/Web Desktop Platform\n *\n * Copyright (c) 2011-Present, Anders Evenrud <andersevenrud@gmail.com>\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *\n * 1. Redistributions of source code must retain the above copyright notice, this\n *    list of conditions and the following disclaimer\n * 2. Redistributions in binary form must reproduce the above copyright notice,\n *    this list of conditions and the following disclaimer in the documentation\n *    and/or other materials provided with the distribution\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\n * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR\n * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n *\n * @author  Anders Evenrud <andersevenrud@gmail.com>\n * @license Simplified BSD License\n */\n\nimport { EventEmitter } from \"@meeseOS/event-emitter\";\nimport logger from \"./logger\";\n\nconst eventNames = [\"open\", \"close\", \"message\", \"error\"];\n\n/**\n * Websocket options\n * @typedef {Object} WebsocketOptions\n * @property {Boolean} [reconnect=true] Enable reconnection\n * @property {Number} [interval=1000] Reconnect interval\n * @property {Boolean} [open=true] Immediately open socket after creation\n */\n\n/**\n * Application Socket\n *\n * This is just an abstraction above the standard browser provided `WebSocket` class.\n * Since this class implements the EventHandler, use the `.on('event')` pattern instead of `.onevent`.\n */\nexport default class Websocket extends EventEmitter {\n\t/**\n\t * Create a new Websocket\n\t * @param {String} name Instance name\n\t * @param {String} uri Connection URI\n\t * @param {WebsocketOptions} [options={}] Websocket options\n\t */\n\tconstructor(name, uri, options = {}) {\n\t\tlogger.debug(\"Websocket::constructor()\", name, uri);\n\t\tsuper(\"Websocket@\" + name);\n\n\t\t/**\n\t\t * Socket URI\n\t\t * @type {String}\n\t\t * @readonly\n\t\t */\n\t\tthis.uri = uri;\n\n\t\t/**\n\t\t * If socket is closed\n\t\t * @type {Boolean}\n\t\t */\n\t\tthis.closed = false;\n\n\t\t/**\n\t\t * If socket is connected\n\t\t * @type {Boolean}\n\t\t */\n\t\tthis.connected = false;\n\n\t\t/**\n\t\t * If socket is connecting\n\t\t * @type {Boolean}\n\t\t */\n\t\tthis.connecting = false;\n\n\t\t/**\n\t\t * If socket is reconnecting\n\t\t * @type {Boolean}\n\t\t */\n\t\tthis.reconnecting = false;\n\n\t\t/**\n\t\t * If socket failed to connect\n\t\t * @type {Boolean}\n\t\t */\n\t\tthis.connectfailed = false;\n\n\t\t/**\n\t\t * Options\n\t\t * @type {WebsocketOptions}\n\t\t * @readonly\n\t\t */\n\t\tthis.options = {\n\t\t\treconnect: true,\n\t\t\tinterval: 1000,\n\t\t\topen: true,\n\t\t\t...options,\n\t\t};\n\n\t\t/**\n\t\t * The Websocket\n\t\t * @type {WebSocket}\n\t\t */\n\t\tthis.connection = null;\n\n\t\tthis._attachEvents();\n\n\t\tif (this.options.open) {\n\t\t\tthis.open();\n\t\t}\n\t}\n\n\t/**\n\t * Destroys the current connection\n\t * @returns {void}\n\t * @private\n\t */\n\t_destroyConnection() {\n\t\tif (!this.connection) return;\n\n\t\teventNames.forEach((name) => {\n\t\t\tthis.connection[`on${name}`] = () => {};\n\t\t});\n\n\t\tthis.reconnecting = clearInterval(this.reconnecting);\n\t\tthis.connection = null;\n\t}\n\n\t/**\n\t * Attaches internal events\n\t * @private\n\t */\n\t_attachEvents() {\n\t\tthis.on(\"open\", (ev) => {\n\t\t\tconst reconnected = Boolean(this.reconnecting);\n\n\t\t\tthis.connected = true;\n\t\t\tthis.reconnecting = false;\n\t\t\tthis.connectfailed = false;\n\t\t\tthis.reconnecting = clearInterval(this.reconnecting);\n\n\t\t\tthis.emit(\"connected\", ev, reconnected);\n\t\t});\n\n\t\tthis.on(\"close\", (ev) => {\n\t\t\tif (!this.connected && !this.connectfailed) {\n\t\t\t\tthis.emit(\"failed\", ev);\n\n\t\t\t\tthis.connectfailed = true;\n\t\t\t}\n\n\t\t\tclearInterval(this.reconnecting);\n\n\t\t\tthis._destroyConnection();\n\t\t\tthis.connected = false;\n\n\t\t\tif (this.options.reconnect) {\n\t\t\t\tthis.reconnecting = setInterval(() => {\n\t\t\t\t\tif (!this.closed) {\n\t\t\t\t\t\tthis.open();\n\t\t\t\t\t}\n\t\t\t\t}, this.options.interval);\n\t\t\t}\n\n\t\t\tthis.emit(\"disconnected\", ev, this.closed);\n\t\t});\n\t}\n\n\t/**\n\t * Opens the connection\n\t * @param {Boolean} [reconnect=false] Force reconnection\n\t */\n\topen(reconnect = false) {\n\t\tif (this.connection && !reconnect) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis._destroyConnection();\n\n\t\tthis.reconnecting = clearInterval(this.reconnecting);\n\t\tthis.connection = new WebSocket(this.uri);\n\t\tthis.closed = false;\n\n\t\teventNames.forEach((name) => {\n\t\t\tthis.connection[`on${name}`] = (...args) => this.emit(name, ...args);\n\t\t});\n\t}\n\n\t/**\n\t * Wrapper for sending data\n\t */\n\tsend(...args) {\n\t\t// TODO: Fix problem here after closing terminal window;\n\t\t// `WebSocket is already in CLOSING or CLOSED state.`\n\t\t// TODO: Open an issue for the problem mentioned above\n\t\treturn this.connection.send(...args);\n\t}\n\n\t/**\n\t * Wrapper for closing\n\t */\n\tclose(...args) {\n\t\tthis.closed = true;\n\n\t\treturn this.connection.close(...args);\n\t}\n}\n",
    "static": true,
    "longname": "/home/runner/work/meeseOS/meeseOS/frontend/client/src/websocket.js",
    "access": "public",
    "description": null,
    "lineNumber": 1
  },
  {
    "__docId__": 717,
    "kind": "variable",
    "name": "eventNames",
    "memberof": "src/websocket.js",
    "static": true,
    "longname": "src/websocket.js~eventNames",
    "access": "public",
    "export": false,
    "importPath": "@meeseOS/client/src/websocket.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 34,
    "undocument": true,
    "type": {
      "types": [
        "string[]"
      ]
    },
    "ignore": true
  },
  {
    "__docId__": 718,
    "kind": "typedef",
    "name": "WebsocketOptions",
    "memberof": "src/websocket.js",
    "static": true,
    "longname": "src/websocket.js~WebsocketOptions",
    "access": "public",
    "description": "Websocket options",
    "properties": [
      {
        "nullable": null,
        "types": [
          "Boolean"
        ],
        "spread": false,
        "optional": true,
        "defaultValue": "true",
        "defaultRaw": true,
        "name": "reconnect",
        "description": "Enable reconnection"
      },
      {
        "nullable": null,
        "types": [
          "Number"
        ],
        "spread": false,
        "optional": true,
        "defaultValue": "1000",
        "defaultRaw": 1000,
        "name": "interval",
        "description": "Reconnect interval"
      },
      {
        "nullable": null,
        "types": [
          "Boolean"
        ],
        "spread": false,
        "optional": true,
        "defaultValue": "true",
        "defaultRaw": true,
        "name": "open",
        "description": "Immediately open socket after creation"
      }
    ],
    "type": {
      "types": [
        "Object"
      ],
      "optional": false,
      "name": "WebsocketOptions"
    }
  },
  {
    "__docId__": 719,
    "kind": "class",
    "name": "Websocket",
    "memberof": "src/websocket.js",
    "static": true,
    "longname": "src/websocket.js~Websocket",
    "access": "public",
    "export": true,
    "importPath": "@meeseOS/client/src/websocket.js",
    "importStyle": "Websocket",
    "description": "Application Socket\n\nThis is just an abstraction above the standard browser provided `WebSocket` class.\nSince this class implements the EventHandler, use the `.on('event')` pattern instead of `.onevent`.",
    "lineNumber": 50,
    "interface": false,
    "extends": [
      "@meeseOS/event-emitter~EventEmitter"
    ]
  },
  {
    "__docId__": 720,
    "kind": "constructor",
    "name": "constructor",
    "memberof": "src/websocket.js~Websocket",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/websocket.js~Websocket#constructor",
    "access": "public",
    "description": "Create a new Websocket",
    "lineNumber": 57,
    "params": [
      {
        "nullable": null,
        "types": [
          "String"
        ],
        "spread": false,
        "optional": false,
        "name": "name",
        "description": "Instance name"
      },
      {
        "nullable": null,
        "types": [
          "String"
        ],
        "spread": false,
        "optional": false,
        "name": "uri",
        "description": "Connection URI"
      },
      {
        "nullable": null,
        "types": [
          "WebsocketOptions"
        ],
        "spread": false,
        "optional": true,
        "defaultValue": "{}",
        "defaultRaw": {},
        "name": "options",
        "description": "Websocket options"
      }
    ]
  },
  {
    "__docId__": 721,
    "kind": "member",
    "name": "uri",
    "memberof": "src/websocket.js~Websocket",
    "static": false,
    "longname": "src/websocket.js~Websocket#uri",
    "access": "public",
    "description": "Socket URI",
    "lineNumber": 66,
    "unknown": [
      {
        "tagName": "@readonly",
        "tagValue": ""
      }
    ],
    "type": {
      "nullable": null,
      "types": [
        "String"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 722,
    "kind": "member",
    "name": "closed",
    "memberof": "src/websocket.js~Websocket",
    "static": false,
    "longname": "src/websocket.js~Websocket#closed",
    "access": "public",
    "description": "If socket is closed",
    "lineNumber": 72,
    "type": {
      "nullable": null,
      "types": [
        "Boolean"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 723,
    "kind": "member",
    "name": "connected",
    "memberof": "src/websocket.js~Websocket",
    "static": false,
    "longname": "src/websocket.js~Websocket#connected",
    "access": "public",
    "description": "If socket is connected",
    "lineNumber": 78,
    "type": {
      "nullable": null,
      "types": [
        "Boolean"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 724,
    "kind": "member",
    "name": "connecting",
    "memberof": "src/websocket.js~Websocket",
    "static": false,
    "longname": "src/websocket.js~Websocket#connecting",
    "access": "public",
    "description": "If socket is connecting",
    "lineNumber": 84,
    "type": {
      "nullable": null,
      "types": [
        "Boolean"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 725,
    "kind": "member",
    "name": "reconnecting",
    "memberof": "src/websocket.js~Websocket",
    "static": false,
    "longname": "src/websocket.js~Websocket#reconnecting",
    "access": "public",
    "description": "If socket is reconnecting",
    "lineNumber": 90,
    "type": {
      "nullable": null,
      "types": [
        "Boolean"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 726,
    "kind": "member",
    "name": "connectfailed",
    "memberof": "src/websocket.js~Websocket",
    "static": false,
    "longname": "src/websocket.js~Websocket#connectfailed",
    "access": "public",
    "description": "If socket failed to connect",
    "lineNumber": 96,
    "type": {
      "nullable": null,
      "types": [
        "Boolean"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 727,
    "kind": "member",
    "name": "options",
    "memberof": "src/websocket.js~Websocket",
    "static": false,
    "longname": "src/websocket.js~Websocket#options",
    "access": "public",
    "description": "Options",
    "lineNumber": 103,
    "unknown": [
      {
        "tagName": "@readonly",
        "tagValue": ""
      }
    ],
    "type": {
      "nullable": null,
      "types": [
        "WebsocketOptions"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 728,
    "kind": "member",
    "name": "connection",
    "memberof": "src/websocket.js~Websocket",
    "static": false,
    "longname": "src/websocket.js~Websocket#connection",
    "access": "public",
    "description": "The Websocket",
    "lineNumber": 114,
    "type": {
      "nullable": null,
      "types": [
        "WebSocket"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 729,
    "kind": "method",
    "name": "_destroyConnection",
    "memberof": "src/websocket.js~Websocket",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/websocket.js~Websocket#_destroyConnection",
    "access": "private",
    "description": "Destroys the current connection",
    "lineNumber": 128,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{void}"
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "void"
      ],
      "spread": false,
      "description": ""
    },
    "params": []
  },
  {
    "__docId__": 732,
    "kind": "method",
    "name": "_attachEvents",
    "memberof": "src/websocket.js~Websocket",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/websocket.js~Websocket#_attachEvents",
    "access": "private",
    "description": "Attaches internal events",
    "lineNumber": 143,
    "params": [],
    "return": null
  },
  {
    "__docId__": 740,
    "kind": "method",
    "name": "open",
    "memberof": "src/websocket.js~Websocket",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/websocket.js~Websocket#open",
    "access": "public",
    "description": "Opens the connection",
    "lineNumber": 183,
    "params": [
      {
        "nullable": null,
        "types": [
          "Boolean"
        ],
        "spread": false,
        "optional": true,
        "defaultValue": "false",
        "defaultRaw": false,
        "name": "reconnect",
        "description": "Force reconnection"
      }
    ],
    "return": null
  },
  {
    "__docId__": 744,
    "kind": "method",
    "name": "send",
    "memberof": "src/websocket.js~Websocket",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/websocket.js~Websocket#send",
    "access": "public",
    "description": "Wrapper for sending data",
    "lineNumber": 202,
    "params": [
      {
        "name": "args",
        "types": [
          "...*"
        ],
        "spread": true
      }
    ],
    "return": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 745,
    "kind": "method",
    "name": "close",
    "memberof": "src/websocket.js~Websocket",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/websocket.js~Websocket#close",
    "access": "public",
    "description": "Wrapper for closing",
    "lineNumber": 212,
    "params": [
      {
        "name": "args",
        "types": [
          "...*"
        ],
        "spread": true
      }
    ],
    "return": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 747,
    "kind": "file",
    "name": "src/window-behavior.js",
    "content": "/**\n * OS.js - JavaScript Cloud/Web Desktop Platform\n *\n * Copyright (c) 2011-Present, Anders Evenrud <andersevenrud@gmail.com>\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *\n * 1. Redistributions of source code must retain the above copyright notice, this\n *    list of conditions and the following disclaimer\n * 2. Redistributions in binary form must reproduce the above copyright notice,\n *    this list of conditions and the following disclaimer in the documentation\n *    and/or other materials provided with the distribution\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\n * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR\n * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n *\n * @author  Anders Evenrud <andersevenrud@gmail.com>\n * @license Simplified BSD License\n */\n\nimport {\n\tgetMediaQueryName,\n\tgetCascadePosition,\n\tmover,\n\tresizer,\n} from \"./utils/windows\";\nimport { getEvent, matchKeyCombo } from \"./utils/input\";\nimport { supportsPassive } from \"./utils/dom\";\n\nconst isPassive = supportsPassive();\nconst touchArg = isPassive ? { passive: true } : false;\n\n/*\n * Map of available \"actions\"\n */\nconst actionMap = {\n\tmaximize: (win) => (win.maximize() ? null : win.restore()),\n\tminimize: (win) => win.minimize(),\n\tclose: (win) => win.close(),\n};\n\n/**\n * Default Window Behavior\n *\n * Controls certain events and their interaction with a window\n */\nexport default class WindowBehavior {\n\t/**\n\t * Create window behavior\n\t *\n\t * @param {Core} core MeeseOS Core instance reference\n\t */\n\tconstructor(core) {\n\t\t/**\n\t\t * Core instance reference\n\t\t * @type {Core}\n\t\t * @readonly\n\t\t */\n\t\tthis.core = core;\n\n\t\t/**\n\t\t * Last action\n\t\t * @type {String}\n\t\t */\n\t\tthis.lastAction = null;\n\n\t\t/**\n\t\t * LoFi DOM Element\n\t\t * @type {Element}\n\t\t * @readonly\n\t\t */\n\t\tthis.$lofi = document.createElement(\"div\");\n\t\tthis.$lofi.className = \"meeseOS-window-behavior-lofi\";\n\t}\n\n\t/**\n\t * Initializes window behavior\n\t * @param {Window} win Window reference\n\t */\n\tinit(win) {\n\t\tconst ontouchstart = (ev) => this.mousedown(ev, win);\n\t\tconst onmousedown = (ev) => this.mousedown(ev, win);\n\t\tconst onclick = (ev) => this.click(ev, win);\n\t\tconst ondblclick = (ev) => this.dblclick(ev, win);\n\n\t\tconst onicondblclick = (ev) => {\n\t\t\tev.stopPropagation();\n\t\t\tev.preventDefault();\n\t\t\tthis.iconDblclick(ev, win);\n\t\t};\n\n\t\tconst oniconclick = (ev) => {\n\t\t\tev.stopPropagation();\n\t\t\tev.preventDefault();\n\n\t\t\tthis.iconClick(ev, win);\n\t\t};\n\n\t\tconst ontrasitionend = (ev) => {\n\t\t\tif (win) {\n\t\t\t\twin.emit(\"transitionend\");\n\t\t\t}\n\n\t\t\tthis.core.emit(\"meeseOS/window:transitionend\", ev, win);\n\t\t};\n\n\t\twin.$element.addEventListener(\"touchstart\", ontouchstart, touchArg);\n\t\twin.$element.addEventListener(\"mousedown\", onmousedown);\n\t\twin.$element.addEventListener(\"click\", onclick);\n\t\twin.$element.addEventListener(\"dblclick\", ondblclick);\n\t\twin.$element.addEventListener(\"transitionend\", ontrasitionend);\n\n\t\tif (win.$icon) {\n\t\t\twin.$icon.addEventListener(\"dblclick\", onicondblclick);\n\t\t\twin.$icon.addEventListener(\"click\", oniconclick);\n\t\t}\n\n\t\twin.on(\"resized,rendered\", () => {\n\t\t\twin.setState(\"media\", getMediaQueryName(win));\n\t\t});\n\n\t\twin.on(\"destroy\", () => {\n\t\t\tif (win.$element) {\n\t\t\t\twin.$element.removeEventListener(\"touchstart\", ontouchstart, touchArg);\n\t\t\t\twin.$element.removeEventListener(\"mousedown\", onmousedown);\n\t\t\t\twin.$element.removeEventListener(\"click\", onclick);\n\t\t\t\twin.$element.removeEventListener(\"dblclick\", ondblclick);\n\t\t\t\twin.$element.removeEventListener(\"transitionend\", ontrasitionend);\n\t\t\t}\n\n\t\t\tif (win.$icon) {\n\t\t\t\twin.$icon.removeEventListener(\"dblclick\", onicondblclick);\n\t\t\t\twin.$icon.removeEventListener(\"click\", oniconclick);\n\t\t\t}\n\t\t});\n\n\t\tconst rect = { top: 0, left: 0 };\n\t\tconst { top, left } = getCascadePosition(win, rect, win.state.position);\n\t\twin.state.position.top = top;\n\t\twin.state.position.left = left;\n\t\twin.state.media = getMediaQueryName(win);\n\t}\n\n\t/**\n\t * Handles Mouse Click Event\n\t * @param {Event} ev Browser Event\n\t * @param {Window} win Window reference\n\t */\n\tclick(ev, win) {\n\t\tif (this.lastAction) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst target = ev.target;\n\t\tconst hitButton = target.classList.contains(\"meeseOS-window-button\");\n\n\t\tif (hitButton) {\n\t\t\tconst action = ev.target.getAttribute(\"data-action\");\n\t\t\tactionMap[action](win);\n\t\t}\n\t}\n\n\t/**\n\t * Handles Mouse Double Click Event\n\t * @param {Event} ev Browser Event\n\t * @param {Window} win Window reference\n\t */\n\tdblclick(ev, win) {\n\t\tif (this.lastAction) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst target = ev.target;\n\t\tconst hitTitle = target.classList.contains(\"meeseOS-window-header\");\n\n\t\tif (hitTitle) {\n\t\t\tif (win.state.maximized) {\n\t\t\t\twin.restore();\n\t\t\t} else if (win.state.minimized) {\n\t\t\t\twin.raise();\n\t\t\t} else {\n\t\t\t\twin.maximize();\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t * Handles Mouse Down Event\n\t * @param {Event} ev Browser Event\n\t * @param {Window} win Window reference\n\t */\n\tmousedown(ev, win) {\n\t\tlet attributeSet = false;\n\n\t\tconst { moveable, resizable } = win.attributes;\n\t\tconst { maximized } = win.state;\n\t\tconst { lofi, moveKeybinding } = this.core.config(\"windows\");\n\t\tconst { clientX, clientY, touch, target } = getEvent(ev);\n\n\t\tconst checkMove = matchKeyCombo(moveKeybinding, ev)\n\t\t\t? win.$element.contains(target)\n\t\t\t: target.classList.contains(\"meeseOS-window-header\");\n\n\t\tconst rect = this.core.has(\"meeseOS/desktop\")\n\t\t\t? this.core.make(\"meeseOS/desktop\").getRect()\n\t\t\t: { top: 0, left: 0 };\n\n\t\tconst resize = target.classList.contains(\"meeseOS-window-resize\")\n\t\t\t? resizer(win, target)\n\t\t\t: null;\n\n\t\tconst move = checkMove ? mover(win, { top: 0, left: 0 }) : null;\n\n\t\tlet actionCallback;\n\n\t\tconst mousemove = (ev) => {\n\t\t\tif (!isPassive) {\n\t\t\t\tev.preventDefault();\n\t\t\t}\n\n\t\t\tif (maximized || (!moveable && move) || (!resizable && resize)) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst transformedEvent = getEvent(ev);\n\t\t\tconst posX = resize\n\t\t\t\t? Math.max(rect.left, transformedEvent.clientX)\n\t\t\t\t: transformedEvent.clientX;\n\t\t\tconst posY = resize\n\t\t\t\t? Math.max(rect.top, transformedEvent.clientY)\n\t\t\t\t: transformedEvent.clientY;\n\t\t\tconst diffX = posX - clientX;\n\t\t\tconst diffY = posY - clientY;\n\n\t\t\tif (resize) {\n\t\t\t\tconst { width, height, top, left } = resize(diffX, diffY);\n\n\t\t\t\tactionCallback = () => {\n\t\t\t\t\twin._setState(\"dimension\", { width, height }, false);\n\t\t\t\t\twin._setState(\"position\", { top, left }, false);\n\t\t\t\t};\n\n\t\t\t\tif (lofi) {\n\t\t\t\t\tthis.$lofi.style.top = `${top}px`;\n\t\t\t\t\tthis.$lofi.style.left = `${left}px`;\n\t\t\t\t\tthis.$lofi.style.width = `${width}px`;\n\t\t\t\t\tthis.$lofi.style.height = `${height}px`;\n\t\t\t\t} else {\n\t\t\t\t\tactionCallback();\n\t\t\t\t}\n\n\t\t\t\tthis.lastAction = \"resize\";\n\t\t\t} else if (move) {\n\t\t\t\tconst position = move(diffX, diffY);\n\n\t\t\t\tactionCallback = () => {\n\t\t\t\t\twin._setState(\"position\", position, false);\n\t\t\t\t};\n\n\t\t\t\tif (lofi) {\n\t\t\t\t\tthis.$lofi.style.top = `${position.top}px`;\n\t\t\t\t\tthis.$lofi.style.left = `${position.left}px`;\n\t\t\t\t} else {\n\t\t\t\t\tactionCallback();\n\t\t\t\t}\n\n\t\t\t\tthis.lastAction = \"move\";\n\t\t\t}\n\n\t\t\tif (this.lastAction) {\n\t\t\t\twin._setState(this.lastAction === \"move\" ? \"moving\" : \"resizing\", true);\n\n\t\t\t\tif (!attributeSet) {\n\t\t\t\t\tthis.core.$root.setAttribute(\"data-window-action\", String(true));\n\t\t\t\t\tattributeSet = true;\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\n\t\tconst mouseup = () => {\n\t\t\tif (touch) {\n\t\t\t\tdocument.removeEventListener(\"touchmove\", mousemove, touchArg);\n\t\t\t\tdocument.removeEventListener(\"touchend\", mouseup, touchArg);\n\t\t\t} else {\n\t\t\t\tdocument.removeEventListener(\"mousemove\", mousemove);\n\t\t\t\tdocument.removeEventListener(\"mouseup\", mouseup);\n\t\t\t}\n\n\t\t\tif (lofi) {\n\t\t\t\tthis.$lofi.remove();\n\n\t\t\t\tif (actionCallback) {\n\t\t\t\t\tactionCallback();\n\t\t\t\t}\n\n\t\t\t\tactionCallback = undefined;\n\t\t\t}\n\n\t\t\tif (this.lastAction === \"move\") {\n\t\t\t\twin.emit(\"moved\", { ...win.state.position }, win);\n\t\t\t\twin._setState(\"moving\", false);\n\t\t\t} else if (this.lastAction === \"resize\") {\n\t\t\t\twin.emit(\"resized\", { ...win.state.dimension }, win);\n\t\t\t\twin._setState(\"resizing\", false);\n\t\t\t}\n\n\t\t\tthis.core.$root.setAttribute(\"data-window-action\", String(false));\n\t\t};\n\n\t\tif (!win.focus()) {\n\t\t\twin.setNextZindex();\n\t\t}\n\n\t\tif (move || resize) {\n\t\t\tif (touch) {\n\t\t\t\tdocument.addEventListener(\"touchmove\", mousemove, touchArg);\n\t\t\t\tdocument.addEventListener(\"touchend\", mouseup, touchArg);\n\t\t\t} else {\n\t\t\t\tdocument.addEventListener(\"mousemove\", mousemove);\n\t\t\t\tdocument.addEventListener(\"mouseup\", mouseup);\n\t\t\t}\n\t\t}\n\n\t\tthis.lastAction = null;\n\n\t\tif (this.core.has(\"meeseOS/contextmenu\")) {\n\t\t\tthis.core.make(\"meeseOS/contextmenu\").hide();\n\t\t}\n\n\t\tif (lofi) {\n\t\t\tthis.$lofi.style.zIndex = win.state.zIndex + 1;\n\t\t\tthis.$lofi.style.top = `${win.state.position.top}px`;\n\t\t\tthis.$lofi.style.left = `${win.state.position.left}px`;\n\t\t\tthis.$lofi.style.width = `${win.state.dimension.width}px`;\n\t\t\tthis.$lofi.style.height = `${win.state.dimension.height}px`;\n\n\t\t\tif (!this.$lofi.parentNode) {\n\t\t\t\tdocument.body.appendChild(this.$lofi);\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t * Handles Icon Double Click Event\n\t * @param {Event} ev Browser Event\n\t * @param {Window} win Window reference\n\t */\n\ticonDblclick(ev, win) {\n\t\twin.close();\n\t}\n\n\t/**\n\t * Handles Icon Click Event\n\t * @param {Event} ev Browser Event\n\t * @param {Window} win Window reference\n\t */\n\ticonClick(ev, win) {\n\t\tconst { minimized, maximized } = win.state;\n\t\tconst { minimizable, maximizable, closeable } = win.attributes;\n\n\t\tthis.core.make(\"meeseOS/contextmenu\", {\n\t\t\tposition: ev,\n\t\t\tmenu: [\n\t\t\t\t{\n\t\t\t\t\tlabel: minimized ? \"Raise\" : \"Minimize\",\n\t\t\t\t\tdisabled: !minimizable,\n\t\t\t\t\tonclick: () => (minimized ? win.raise() : win.minimize()),\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tlabel: maximized ? \"Restore\" : \"Maximize\",\n\t\t\t\t\tdisabled: !maximizable,\n\t\t\t\t\tonclick: () => (maximized ? win.restore() : win.maximize()),\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tlabel: \"Close\",\n\t\t\t\t\tdisabled: !closeable,\n\t\t\t\t\tonclick: () => win.close(),\n\t\t\t\t},\n\t\t\t],\n\t\t});\n\t}\n}\n",
    "static": true,
    "longname": "/home/runner/work/meeseOS/meeseOS/frontend/client/src/window-behavior.js",
    "access": "public",
    "description": null,
    "lineNumber": 1
  },
  {
    "__docId__": 748,
    "kind": "variable",
    "name": "isPassive",
    "memberof": "src/window-behavior.js",
    "static": true,
    "longname": "src/window-behavior.js~isPassive",
    "access": "public",
    "export": false,
    "importPath": "@meeseOS/client/src/window-behavior.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 40,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    },
    "ignore": true
  },
  {
    "__docId__": 749,
    "kind": "variable",
    "name": "touchArg",
    "memberof": "src/window-behavior.js",
    "static": true,
    "longname": "src/window-behavior.js~touchArg",
    "access": "public",
    "export": false,
    "importPath": "@meeseOS/client/src/window-behavior.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 41,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    },
    "ignore": true
  },
  {
    "__docId__": 750,
    "kind": "variable",
    "name": "actionMap",
    "memberof": "src/window-behavior.js",
    "static": true,
    "longname": "src/window-behavior.js~actionMap",
    "access": "public",
    "export": false,
    "importPath": "@meeseOS/client/src/window-behavior.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 46,
    "undocument": true,
    "type": {
      "types": [
        "{\"maximize\": *, \"minimize\": *, \"close\": *}"
      ]
    },
    "ignore": true
  },
  {
    "__docId__": 751,
    "kind": "class",
    "name": "WindowBehavior",
    "memberof": "src/window-behavior.js",
    "static": true,
    "longname": "src/window-behavior.js~WindowBehavior",
    "access": "public",
    "export": true,
    "importPath": "@meeseOS/client/src/window-behavior.js",
    "importStyle": "WindowBehavior",
    "description": "Default Window Behavior\n\nControls certain events and their interaction with a window",
    "lineNumber": 57,
    "interface": false
  },
  {
    "__docId__": 752,
    "kind": "constructor",
    "name": "constructor",
    "memberof": "src/window-behavior.js~WindowBehavior",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/window-behavior.js~WindowBehavior#constructor",
    "access": "public",
    "description": "Create window behavior",
    "lineNumber": 63,
    "params": [
      {
        "nullable": null,
        "types": [
          "Core"
        ],
        "spread": false,
        "optional": false,
        "name": "core",
        "description": "MeeseOS Core instance reference"
      }
    ]
  },
  {
    "__docId__": 753,
    "kind": "member",
    "name": "core",
    "memberof": "src/window-behavior.js~WindowBehavior",
    "static": false,
    "longname": "src/window-behavior.js~WindowBehavior#core",
    "access": "public",
    "description": "Core instance reference",
    "lineNumber": 69,
    "unknown": [
      {
        "tagName": "@readonly",
        "tagValue": ""
      }
    ],
    "type": {
      "nullable": null,
      "types": [
        "Core"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 754,
    "kind": "member",
    "name": "lastAction",
    "memberof": "src/window-behavior.js~WindowBehavior",
    "static": false,
    "longname": "src/window-behavior.js~WindowBehavior#lastAction",
    "access": "public",
    "description": "Last action",
    "lineNumber": 75,
    "type": {
      "nullable": null,
      "types": [
        "String"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 755,
    "kind": "member",
    "name": "$lofi",
    "memberof": "src/window-behavior.js~WindowBehavior",
    "static": false,
    "longname": "src/window-behavior.js~WindowBehavior#$lofi",
    "access": "public",
    "description": "LoFi DOM Element",
    "lineNumber": 82,
    "unknown": [
      {
        "tagName": "@readonly",
        "tagValue": ""
      }
    ],
    "type": {
      "nullable": null,
      "types": [
        "Element"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 756,
    "kind": "method",
    "name": "init",
    "memberof": "src/window-behavior.js~WindowBehavior",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/window-behavior.js~WindowBehavior#init",
    "access": "public",
    "description": "Initializes window behavior",
    "lineNumber": 90,
    "params": [
      {
        "nullable": null,
        "types": [
          "Window"
        ],
        "spread": false,
        "optional": false,
        "name": "win",
        "description": "Window reference"
      }
    ],
    "return": null
  },
  {
    "__docId__": 757,
    "kind": "method",
    "name": "click",
    "memberof": "src/window-behavior.js~WindowBehavior",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/window-behavior.js~WindowBehavior#click",
    "access": "public",
    "description": "Handles Mouse Click Event",
    "lineNumber": 159,
    "params": [
      {
        "nullable": null,
        "types": [
          "Event"
        ],
        "spread": false,
        "optional": false,
        "name": "ev",
        "description": "Browser Event"
      },
      {
        "nullable": null,
        "types": [
          "Window"
        ],
        "spread": false,
        "optional": false,
        "name": "win",
        "description": "Window reference"
      }
    ],
    "return": null
  },
  {
    "__docId__": 758,
    "kind": "method",
    "name": "dblclick",
    "memberof": "src/window-behavior.js~WindowBehavior",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/window-behavior.js~WindowBehavior#dblclick",
    "access": "public",
    "description": "Handles Mouse Double Click Event",
    "lineNumber": 178,
    "params": [
      {
        "nullable": null,
        "types": [
          "Event"
        ],
        "spread": false,
        "optional": false,
        "name": "ev",
        "description": "Browser Event"
      },
      {
        "nullable": null,
        "types": [
          "Window"
        ],
        "spread": false,
        "optional": false,
        "name": "win",
        "description": "Window reference"
      }
    ],
    "return": null
  },
  {
    "__docId__": 759,
    "kind": "method",
    "name": "mousedown",
    "memberof": "src/window-behavior.js~WindowBehavior",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/window-behavior.js~WindowBehavior#mousedown",
    "access": "public",
    "description": "Handles Mouse Down Event",
    "lineNumber": 202,
    "params": [
      {
        "nullable": null,
        "types": [
          "Event"
        ],
        "spread": false,
        "optional": false,
        "name": "ev",
        "description": "Browser Event"
      },
      {
        "nullable": null,
        "types": [
          "Window"
        ],
        "spread": false,
        "optional": false,
        "name": "win",
        "description": "Window reference"
      }
    ],
    "return": null
  },
  {
    "__docId__": 763,
    "kind": "method",
    "name": "iconDblclick",
    "memberof": "src/window-behavior.js~WindowBehavior",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/window-behavior.js~WindowBehavior#iconDblclick",
    "access": "public",
    "description": "Handles Icon Double Click Event",
    "lineNumber": 358,
    "params": [
      {
        "nullable": null,
        "types": [
          "Event"
        ],
        "spread": false,
        "optional": false,
        "name": "ev",
        "description": "Browser Event"
      },
      {
        "nullable": null,
        "types": [
          "Window"
        ],
        "spread": false,
        "optional": false,
        "name": "win",
        "description": "Window reference"
      }
    ],
    "return": null
  },
  {
    "__docId__": 764,
    "kind": "method",
    "name": "iconClick",
    "memberof": "src/window-behavior.js~WindowBehavior",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/window-behavior.js~WindowBehavior#iconClick",
    "access": "public",
    "description": "Handles Icon Click Event",
    "lineNumber": 367,
    "params": [
      {
        "nullable": null,
        "types": [
          "Event"
        ],
        "spread": false,
        "optional": false,
        "name": "ev",
        "description": "Browser Event"
      },
      {
        "nullable": null,
        "types": [
          "Window"
        ],
        "spread": false,
        "optional": false,
        "name": "win",
        "description": "Window reference"
      }
    ],
    "return": null
  },
  {
    "__docId__": 765,
    "kind": "file",
    "name": "src/window.js",
    "content": "/**\n * OS.js - JavaScript Cloud/Web Desktop Platform\n *\n * Copyright (c) 2011-Present, Anders Evenrud <andersevenrud@gmail.com>\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *\n * 1. Redistributions of source code must retain the above copyright notice, this\n *    list of conditions and the following disclaimer\n * 2. Redistributions in binary form must reproduce the above copyright notice,\n *    this list of conditions and the following disclaimer in the documentation\n *    and/or other materials provided with the distribution\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\n * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR\n * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n *\n * @author  Anders Evenrud <andersevenrud@gmail.com>\n * @license Simplified BSD License\n */\n\nimport {\n\tcreateAttributes,\n\tcreateDOMAttributes,\n\tcreateDOMStyles,\n\tclampPosition,\n\tcreateState,\n\tdimensionFromElement,\n\tpositionFromGravity,\n\trenderCallback,\n\ttransformVectors,\n} from \"./utils/windows\";\nimport {\n\tcreateCssText,\n\tescapeHtml,\n\tgetActiveElement,\n\tsupportsTransition,\n} from \"./utils/dom\";\nimport { EventEmitter } from \"@meeseOS/event-emitter\";\nimport { droppable } from \"./utils/dnd\";\nimport logger from \"./logger\";\n\n/**\n * Window dimension definition\n * @typedef {Object} WindowDimension\n * @property {Number} width Width in pixels (or float for percentage in setters)\n * @property {Number} height Height in pixels (or float for percentage in setters)\n */\n\n/**\n * Window position definition\n * @typedef {Object} WindowPosition\n * @property {Number} left Left in pixels (or float for percentage in setters)\n * @property {Number} top Top in pixels (or float for percentage in setters)\n */\n\n/**\n * Window session\n * @typedef {Object} WindowSession\n * @property {Number} id\n * @property {Boolean} maximized\n * @property {Boolean} minimized\n * @property {WindowPosition} position\n * @property {WindowDimension} dimension\n */\n\n/**\n * Window attributes definition\n *\n * @typedef {Object} WindowAttributes\n * @property {String[]} [classNames=[]] A list of class names\n * @property {Boolean} [ontop=false] If always on top\n * @property {String} [gravity] Gravity (center/top/left/right/bottom or any combination)\n * @property {Boolean} [resizable=true] If resizable\n * @property {Boolean} [focusable=true] If focusable\n * @property {Boolean} [maximizable=true] If window if maximizable\n * @property {Boolean} [minimizable=true] If minimizable\n * @property {Boolean} [moveable=true] If moveable\n * @property {Boolean} [closeable=true] If closeable\n * @property {Boolean} [header=true] Show header\n * @property {Boolean} [controls=true] Show controls\n * @property {String} [visibility=global] Global visibility, 'restricted' to hide from window lists etc.\n * @property {Boolean} [clamp=true] Clamp the window position upon creation\n * @property {Boolean} [droppable=true] If window should have the default drop action\n * @property {WindowDimension} [minDimension] Minimum dimension\n * @property {WindowDimension} [maxDimension] Maximum dimension\n * @property {{name: string}} [mediaQueries] A map of matchMedia to name\n */\n\n/**\n * Window state definition\n *\n * @typedef {Object} WindowState\n * @property {String} title Title\n * @property {String} icon Icon\n * @property {Boolean} [moving=false] If moving\n * @property {Boolean} [resizing=false] If resizing\n * @property {Boolean} [loading=false] If loading\n * @property {Boolean} [focused=false] If focused\n * @property {Boolean} [maximized=false] If maximized\n * @property {Boolean} [mimimized=false] If mimimized\n * @property {Boolean} [modal=false] If modal to the parent\n * @property {Number} [zIndex=10] The z-index (auto calculated)\n * @property {WindowPosition} [position] Position\n * @property {WindowDimension} [dimension] Dimension\n */\n\n/**\n * Window options definition\n *\n * @typedef {Object} WindowOptions\n * @property {String} id Window Id (not globaly unique)\n * @property {String} [title] Window Title\n * @property {String} [icon] Window Icon\n * @property {Window} [parent] The parent Window reference\n * @property {String|Function} [template] The Window HTML template (or function with signature (el, win) for programatic construction)\n * @property {Function} [ondestroy] A callback function when window destructs to interrupt the procedure\n * @property {WindowPosition|string} [position] Window position\n * @property {WindowDimension} [dimension] Window dimension\n * @property {WindowAttributes} [attributes] Apply Window attributes\n * @property {WindowState} [state] Apply Window state\n */\n\nconst windows = [];\nlet windowCount = 0;\nlet nextZindex = 1;\nlet lastWindow = null;\n\n/**\n * Default window template\n */\nconst TEMPLATE = `<div class=\"meeseOS-window-inner\">\n  <div class=\"meeseOS-window-header\">\n    <div class=\"meeseOS-window-icon\">\n      <div></div>\n    </div>\n    <div class=\"meeseOS-window-title\"></div>\n    <div class=\"meeseOS-window-button\" data-action=\"minimize\">\n      <div></div>\n    </div>\n    <div class=\"meeseOS-window-button\" data-action=\"maximize\">\n      <div></div>\n    </div>\n    <div class=\"meeseOS-window-button\" data-action=\"close\">\n      <div></div>\n    </div>\n  </div>\n  <div class=\"meeseOS-window-content\">\n  </div>\n  <div class=\"meeseOS-window-resize\" data-direction=\"n\"></div>\n  <div class=\"meeseOS-window-resize\" data-direction=\"nw\"></div>\n  <div class=\"meeseOS-window-resize\" data-direction=\"w\"></div>\n  <div class=\"meeseOS-window-resize\" data-direction=\"sw\"></div>\n  <div class=\"meeseOS-window-resize\" data-direction=\"s\"></div>\n  <div class=\"meeseOS-window-resize\" data-direction=\"se\"></div>\n  <div class=\"meeseOS-window-resize\" data-direction=\"e\"></div>\n  <div class=\"meeseOS-window-resize\" data-direction=\"ne\"></div>\n</div>`\n\t.replace(/\\n\\s+/g, \"\")\n\t.trim();\n\n/**\n * Window Implementation\n */\nexport default class Window extends EventEmitter {\n\t/**\n\t * Create window\n\t *\n\t * @param {Core} core MeeseOS Core instance reference\n\t * @param {WindowOptions} [options={}] Options\n\t */\n\tconstructor(core, options = {}) {\n\t\toptions = {\n\t\t\tid: null,\n\t\t\ttitle: null,\n\t\t\tparent: null,\n\t\t\ttemplate: null,\n\t\t\tondestroy: null,\n\t\t\tattributes: {},\n\t\t\tposition: {},\n\t\t\tdimension: {},\n\t\t\tstate: {},\n\t\t\t...options,\n\t\t};\n\n\t\tlogger.debug(\"Window::constructor()\", options);\n\n\t\tsuper(\"Window@\" + options.id);\n\n\t\tif (typeof options.position === \"string\") {\n\t\t\toptions.attributes.gravity = options.position;\n\t\t\toptions.position = {};\n\t\t}\n\n\t\t/**\n\t\t * The Window ID\n\t\t * @type {String}\n\t\t * @readonly\n\t\t */\n\t\tthis.id = options.id;\n\n\t\t/**\n\t\t * The Window ID\n\t\t * @type {Number}\n\t\t * @readonly\n\t\t */\n\t\tthis.wid = ++windowCount;\n\n\t\t/**\n\t\t * Parent Window reference\n\t\t * @type {Window}\n\t\t * @readonly\n\t\t */\n\t\tthis.parent = options.parent;\n\n\t\t/**\n\t\t * Child windows (via 'parent')\n\t\t * @type {Window[]}\n\t\t */\n\t\tthis.children = [];\n\n\t\t/**\n\t\t * Core instance reference\n\t\t * @type {Core}\n\t\t * @readonly\n\t\t */\n\t\tthis.core = core;\n\n\t\t/**\n\t\t * The window destruction state\n\t\t * @type {Boolean}\n\t\t */\n\t\tthis.destroyed = false;\n\n\t\t/**\n\t\t * The window rendered state\n\t\t * @type {Boolean}\n\t\t */\n\t\tthis.rendered = false;\n\n\t\t/**\n\t\t * The window was inited\n\t\t * @type {Boolean}\n\t\t */\n\t\tthis.inited = false;\n\n\t\t/**\n\t\t * The window attributes\n\t\t * @type {WindowAttributes}\n\t\t */\n\t\tthis.attributes = createAttributes(options.attributes);\n\n\t\t/**\n\t\t * The window state\n\t\t * @type {WindowState}\n\t\t */\n\t\tthis.state = createState(options.state, options, this.attributes);\n\n\t\t/**\n\t\t * The window container\n\t\t * @type {Element}\n\t\t * @readonly\n\t\t */\n\t\tthis.$element = document.createElement(\"div\");\n\n\t\t/**\n\t\t * The content container\n\t\t * @type {Element}\n\t\t */\n\t\tthis.$content = null;\n\n\t\t/**\n\t\t * The header container\n\t\t * @type {Element}\n\t\t */\n\t\tthis.$header = null;\n\n\t\t/**\n\t\t * The icon container\n\t\t * @type {Element}\n\t\t */\n\t\tthis.$icon = null;\n\n\t\t/**\n\t\t * The title container\n\t\t * @type {Element}\n\t\t */\n\t\tthis.$title = null;\n\n\t\t/**\n\t\t * Internal variable to signal not to use default position\n\t\t * given by user (used for restore)\n\t\t * @private\n\t\t * @type {Boolean}\n\t\t */\n\t\tthis._preventDefaultPosition = false;\n\n\t\t/**\n\t\t * Internal timeout reference used for triggering the loading\n\t\t * overlay.\n\t\t * @private\n\t\t * @type {Boolean}\n\t\t */\n\t\tthis._loadingDebounce = null;\n\n\t\t/**\n\t\t * The window template\n\t\t * @private\n\t\t * @type {String|Function}\n\t\t */\n\t\tthis._template = options.template;\n\n\t\t/**\n\t\t * Custom destructor callback\n\t\t * @private\n\t\t * @type {Function}\n\t\t * @readonly\n\t\t */\n\t\tthis._ondestroy = options.ondestroy || (() => true);\n\n\t\t// For whatever reason, these need to be included up here to be\n\t\t// bound to the window instance.\n\t\tthis.setState = this.setState.bind(this);\n\t\tthis.focus = this.focus.bind(this);\n\n\t\t/**\n\t\t * Last DOM update CSS text\n\t\t * @private\n\t\t * @type {String}\n\t\t */\n\t\tthis._lastCssText = \"\";\n\n\t\t/**\n\t\t * Last DOM update data attributes\n\t\t * @private\n\t\t * @type {WindowAttributes}\n\t\t */\n\t\tthis._lastAttributes = {};\n\n\t\twindows.push(this);\n\t}\n\n\t/**\n\t * Destroy window\n\t */\n\tdestroy() {\n\t\tif (this.destroyed) return;\n\n\t\tif (typeof this._ondestroy === \"function\" && this._ondestroy() === false) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis.destroyed = true;\n\t\tlogger.debug(\"Window::destroy()\");\n\n\t\tthis.emit(\"destroy\", this);\n\t\tthis.core.emit(\"meeseOS/window:destroy\", this);\n\n\t\tthis.children.forEach((w) => w.destroy());\n\n\t\tif (this.$element) {\n\t\t\tthis.$element.remove();\n\t\t}\n\n\t\tif (lastWindow === this) {\n\t\t\tlastWindow = null;\n\t\t}\n\n\t\tconst foundIndex = windows.findIndex((w) => w === this);\n\t\tif (foundIndex !== -1) {\n\t\t\twindows.splice(foundIndex, 1);\n\t\t}\n\n\t\tthis.children = [];\n\t\tthis.parent = null;\n\t\tthis.$element = null;\n\t\tthis.$content = null;\n\t\tthis.$header = null;\n\t\tthis.$icon = null;\n\t\tthis.$title = null;\n\n\t\tsuper.destroy();\n\t}\n\n\t/**\n\t * Initialize window\n\t */\n\tinit() {\n\t\tif (this.inited) return this;\n\n\t\tif (this.parent) {\n\t\t\t// Assign the window if it is a child\n\t\t\tthis.on(\"destroy\", () => {\n\t\t\t\tconst foundIndex = this.parent.children.findIndex((w) => w === this);\n\t\t\t\tif (foundIndex !== -1) {\n\t\t\t\t\tthis.parent.children.splice(foundIndex, 1);\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tthis.parent.children.push(this);\n\t\t}\n\n\t\tthis._initTemplate();\n\t\tthis._initBehavior();\n\n\t\tthis.inited = true;\n\t\tthis.emit(\"init\", this);\n\t\tthis.core.emit(\"meeseOS/window:create\", this);\n\n\t\treturn this;\n\t}\n\n\t/**\n\t * Initializes window template\n\t * @private\n\t */\n\t_initTemplate() {\n\t\tconst tpl = this.core.config(\"windows.template\") || TEMPLATE;\n\t\tif (this._template) {\n\t\t\tthis.$element.innerHTML = typeof this._template === \"function\"\n\t\t\t\t? this._template(this, tpl)\n\t\t\t\t: this._template;\n\t\t} else {\n\t\t\tthis.$element.innerHTML = tpl;\n\t\t}\n\n\t\tthis.$content = this.$element.querySelector(\".meeseOS-window-content\");\n\t\tthis.$header = this.$element.querySelector(\".meeseOS-window-header\");\n\t\tthis.$icon = this.$element.querySelector(\".meeseOS-window-icon > div\");\n\t\tthis.$title = this.$element.querySelector(\".meeseOS-window-title\");\n\t}\n\n\t/**\n\t * Initializes window behavior\n\t * @private\n\t */\n\t_initBehavior() {\n\t\t// Transform percentages in dimension to pixels\n\t\tif (this.core.has(\"meeseOS/desktop\")) {\n\t\t\tconst rect = this.core.make(\"meeseOS/desktop\").getRect();\n\t\t\tconst { dimension, position } = transformVectors(\n\t\t\t\trect,\n\t\t\t\tthis.state.dimension,\n\t\t\t\tthis.state.position\n\t\t\t);\n\t\t\tthis.state.dimension = dimension;\n\t\t\tthis.state.position = position;\n\t\t}\n\n\t\t// Behavior\n\t\tconst behavior = this.core.make(\"meeseOS/window-behavior\");\n\t\tif (behavior) {\n\t\t\tbehavior.init(this);\n\t\t}\n\n\t\t// DnD functionality\n\t\tif (this.attributes.droppable) {\n\t\t\tconst d = droppable(this.$element, {\n\t\t\t\tondragenter: (...args) => this.emit(\"dragenter\", ...args, this),\n\t\t\t\tondragover: (...args) => this.emit(\"dragover\", ...args, this),\n\t\t\t\tondragleave: (...args) => this.emit(\"dragleave\", ...args, this),\n\t\t\t\tondrop: (...args) => this.emit(\"drop\", ...args, this),\n\t\t\t});\n\n\t\t\tthis.on(\"destroy\", () => d.destroy());\n\t\t}\n\t}\n\n\t/**\n\t * Checks the modal state of the window upon render\n\t * @private\n\t */\n\t_checkModal() {\n\t\tif (!this.parent) return;\n\t\tif (this.attributes.modal) {\n\t\t\tthis.on(\"render\", () => this.parent.setState(\"loading\", true));\n\t\t\tthis.on(\"destroy\", () => this.parent.setState(\"loading\", false));\n\t\t}\n\n\t\tthis.on(\"destroy\", () => this.parent.focus());\n\t}\n\n\t/**\n\t * Sets the initial class names\n\t * @private\n\t */\n\t_setClassNames() {\n\t\tconst classNames = [\"meeseOS-window\", ...this.attributes.classNames];\n\t\tif (this.id) {\n\t\t\tclassNames.push(`Window_${this.id}`);\n\t\t}\n\n\t\tclassNames\n\t\t\t.filter((val) => Boolean(val))\n\t\t\t.forEach((val) => this.$element.classList.add(val));\n\t}\n\n\t/**\n\t * Render window\n\t * @param {Function} [callback] Callback when window DOM has been constructed\n\t * @returns {Window} this instance\n\t */\n\trender(callback = function() {}) {\n\t\tif (this.rendered) {\n\t\t\treturn this;\n\t\t} else if (!this.inited) {\n\t\t\tthis.init();\n\t\t}\n\n\t\tthis._setClassNames();\n\t\tthis._updateButtons();\n\t\tthis._updateAttributes();\n\t\tthis._updateStyles();\n\t\tthis._updateTitle();\n\t\tthis._updateIconStyles();\n\t\tthis._updateHeaderStyles();\n\t\tthis._checkModal();\n\n\t\tif (!this._preventDefaultPosition) {\n\t\t\tthis.gravitate(this.attributes.gravity);\n\t\t}\n\n\t\t// Clamp the initial window position to viewport\n\t\tif (this.attributes.clamp) {\n\t\t\tthis.clampToViewport(false);\n\t\t}\n\n\t\tthis.setNextZindex(true);\n\n\t\tthis.core.$contents.appendChild(this.$element);\n\n\t\trenderCallback(this, callback);\n\n\t\tthis.rendered = true;\n\n\t\tsetTimeout(() => {\n\t\t\tthis.emit(\"render\", this);\n\t\t\tthis.core.emit(\"meeseOS/window:render\", this);\n\t\t}, 1);\n\n\t\treturn this;\n\t}\n\n\t/**\n\t * Close the window\n\t * @returns {Boolean}\n\t */\n\tclose() {\n\t\tif (this.destroyed) return false;\n\n\t\tthis.emit(\"close\", this);\n\t\tthis.destroy();\n\n\t\treturn true;\n\t}\n\n\t/**\n\t * Focus the window\n\t * @returns {Boolean}\n\t */\n\tfocus() {\n\t\tif (!this.state.minimized && this._toggleState(\"focused\", true, \"focus\")) {\n\t\t\tthis._focus();\n\n\t\t\treturn true;\n\t\t}\n\n\t\treturn false;\n\t}\n\n\t/**\n\t * Internal for focus\n\t * @private\n\t */\n\t_focus() {\n\t\tif (lastWindow && lastWindow !== this) {\n\t\t\tlastWindow.blur();\n\t\t}\n\n\t\tlastWindow = this;\n\n\t\tthis.setNextZindex();\n\t}\n\n\t/**\n\t * Blur (un-focus) the window\n\t * @returns {Boolean}\n\t */\n\tblur() {\n\t\t// Forces blur-ing of browser input element belonging to this window\n\t\tconst activeElement = getActiveElement(this.$element);\n\t\tif (activeElement) activeElement.blur();\n\n\t\treturn this._toggleState(\"focused\", false, \"blur\");\n\t}\n\n\t/**\n\t * Minimize (hide) the window\n\t * @returns {Boolean}\n\t */\n\tminimize() {\n\t\tif (this.attributes.minimizable) {\n\t\t\tif (this._toggleState(\"minimized\", true, \"minimize\")) {\n\t\t\t\tthis.blur();\n\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\n\t\treturn false;\n\t}\n\n\t/**\n\t * Raise (un-minimize) the window\n\t * @returns {Boolean}\n\t */\n\traise() {\n\t\treturn this._toggleState(\"minimized\", false, \"raise\");\n\t}\n\n\t/**\n\t * Maximize the window\n\t * @returns {Boolean}\n\t */\n\tmaximize() {\n\t\tif (this.attributes.maximizable) {\n\t\t\treturn this._maximize(true);\n\t\t}\n\n\t\treturn false;\n\t}\n\n\t/**\n\t * Restore (un-maximize) the window\n\t * @returns {Boolean}\n\t */\n\trestore() {\n\t\treturn this._maximize(false);\n\t}\n\n\t/**\n\t * Internal for Maximize or restore\n\t * @private\n\t * @param {Boolean} toggle Maximize or restore\n\t * @returns {Boolean}\n\t */\n\t_maximize(toggle) {\n\t\tif (\n\t\t\tthis._toggleState(\"maximized\", toggle, toggle ? \"maximize\" : \"restore\")\n\t\t) {\n\t\t\tconst emit = () =>\n\t\t\t\tthis.emit(\n\t\t\t\t\t\"resized\",\n\t\t\t\t\t{\n\t\t\t\t\t\twidth: this.$element ? this.$element.offsetWidth : -1,\n\t\t\t\t\t\theight: this.$element ? this.$element.offsetHeight : -1,\n\t\t\t\t\t},\n\t\t\t\t\tthis\n\t\t\t\t);\n\n\t\t\tif (supportsTransition()) {\n\t\t\t\tthis.once(\"transitionend\", emit);\n\t\t\t} else {\n\t\t\t\temit();\n\t\t\t}\n\n\t\t\treturn true;\n\t\t}\n\n\t\treturn false;\n\t}\n\n\t/**\n\t * Resize to fit to current container\n\t * @param {Element} [container] The DOM element to use\n\t */\n\tresizeFit(container) {\n\t\tcontainer = container || this.$content.firstChild;\n\n\t\tif (container) {\n\t\t\tconst rect = this.core.has(\"meeseOS/desktop\")\n\t\t\t\t? this.core.make(\"meeseOS/desktop\").getRect(/* n00b */)\n\t\t\t\t: null;\n\n\t\t\tconst { width, height } = dimensionFromElement(this, rect, container);\n\t\t\tif (!isNaN(width) && !isNaN(height)) {\n\t\t\t\tthis.setDimension({ width, height });\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t * Clamps the position to viewport\n\t * @param {Boolean} [update=true] Update DOM\n\t */\n\tclampToViewport(update = true) {\n\t\tif (!this.core.has(\"meeseOS/desktop\")) return;\n\n\t\tconst rect = this.core.make(\"meeseOS/desktop\").getRect();\n\n\t\tthis.state.position = {\n\t\t\t...this.state.position,\n\t\t\t...clampPosition(rect, this.state),\n\t\t};\n\n\t\tif (update) {\n\t\t\tthis._updateStyles();\n\t\t}\n\t}\n\n\t/**\n\t * Set the Window icon\n\t * @param {String} uri Icon URI\n\t */\n\tsetIcon(uri) {\n\t\tthis.state.icon = uri;\n\n\t\tthis._updateIconStyles();\n\t}\n\n\t/**\n\t * Set the Window title\n\t * @param {String} title Title\n\t */\n\tsetTitle(title) {\n\t\tthis.state.title = title || \"\";\n\t\tthis._updateTitle();\n\n\t\tthis.core.emit(\"meeseOS/window:change\", this, \"title\", title);\n\t}\n\n\t/**\n\t * Set the Window dimension\n\t * @param {WindowDimension} dimension The dimension\n\t */\n\tsetDimension(dimension) {\n\t\tconst { width, height } = { ...this.state.dimension, ...(dimension || {}) };\n\n\t\tthis.state.dimension.width = width;\n\t\tthis.state.dimension.height = height;\n\n\t\tthis._updateStyles();\n\t}\n\n\t/**\n\t * Set the Window position\n\t * @param {WindowPosition} position The position\n\t * @param {Boolean} [preventDefault=false] Prevents any future position setting in init procedure\n\t */\n\tsetPosition(position, preventDefault = false) {\n\t\tconst { left, top } = { ...this.state.position, ...(position || {}) };\n\n\t\tthis.state.position.top = top;\n\t\tthis.state.position.left = left;\n\n\t\tif (preventDefault) {\n\t\t\tthis._preventDefaultPosition = true;\n\t\t}\n\n\t\tthis._updateStyles();\n\t}\n\n\t/**\n\t * Set the Window z index\n\t * @param {Number} zIndex the index\n\t */\n\tsetZindex(zIndex) {\n\t\tthis.state.zIndex = zIndex;\n\t\tlogger.debug(\"Window::setZindex()\", zIndex);\n\n\t\tthis._updateStyles();\n\t}\n\n\t/**\n\t * Sets the Window to next z index\n\t * @param {Boolean} [force] Force next index\n\t */\n\tsetNextZindex(force) {\n\t\tconst setNext = force || this._checkNextZindex();\n\n\t\tif (setNext) {\n\t\t\tthis.setZindex(nextZindex);\n\t\t\tnextZindex++;\n\t\t}\n\t}\n\n\t/**\n\t * Set a state by value\n\t * @param {String} name State name\n\t * @param {*} value State value\n\t * @param {Boolean} [update=true] Update the DOM\n\t * @see {WindowState}\n\t */\n\tsetState(name, value, update = true) {\n\t\tconst set = () => this._setState(name, value, update);\n\n\t\t// Allows for some \"grace time\" so the overlay does not\n\t\t// \"blink\"\n\t\tif (name === \"loading\" && update) {\n\t\t\tclearTimeout(this._loadingDebounce);\n\n\t\t\tif (value === true) {\n\t\t\t\tthis._loadingDebounce = setTimeout(() => set(), 250);\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\n\t\tset();\n\t}\n\n\t/**\n\t * Gravitates window towards a certain area\n\t * @param {String} gravity Gravity\n\t */\n\tgravitate(gravity) {\n\t\tif (!this.core.has(\"meeseOS/desktop\")) return;\n\n\t\tconst rect = this.core.make(\"meeseOS/desktop\").getRect();\n\t\tconst position = positionFromGravity(this, rect, gravity);\n\n\t\tthis.setPosition(position);\n\t}\n\n\t/**\n\t * Gets a astate\n\t * @returns {*}\n\t */\n\tgetState(n) {\n\t\tconst value = this.state[n];\n\n\t\treturn [\"position\", \"dimension\", \"styles\"].indexOf(n) !== -1\n\t\t\t? { ...value }\n\t\t\t: value;\n\t}\n\n\t/**\n\t * Get a snapshot of the Window session\n\t * @returns {WindowSession}\n\t */\n\tgetSession() {\n\t\treturn this.attributes.sessionable === false\n\t\t\t? null\n\t\t\t: {\n\t\t\t\tid: this.id,\n\t\t\t\tmaximized: this.state.maximized,\n\t\t\t\tminimized: this.state.minimized,\n\t\t\t\tposition: { ...this.state.position },\n\t\t\t\tdimension: { ...this.state.dimension },\n\t\t\t};\n\t}\n\n\t/**\n\t * Get a list of all windows\n\t * @returns {Window[]}\n\t */\n\tstatic getWindows() {\n\t\treturn windows;\n\t}\n\n\t/**\n\t * Gets the lastly focused Window\n\t * @returns {Window}\n\t */\n\tstatic lastWindow() {\n\t\treturn lastWindow;\n\t}\n\n\t/**\n\t * Internal method for setting state\n\t * @private\n\t * @param {String} name State name\n\t * @param {*} value State value\n\t * @param {Boolean} [update=true] Update the DOM\n\t * @param {Boolean} [updateAll=true] Update the entire DOM\n\t */\n\t_setState(name, value, update = true) {\n\t\tconst oldValue = this.state[name];\n\t\tthis.state[name] = value;\n\t\tif (!update) return;\n\n\t\tif (oldValue !== value) {\n\t\t\tlogger.debug(\"Window::_setState()\", name, value);\n\t\t}\n\n\t\tthis._updateAttributes();\n\t\tthis._updateStyles();\n\t}\n\n\t/**\n\t * Internal method for toggling state\n\t * @private\n\t * @param {String} name State name\n\t * @param {any} value State value\n\t * @param {String} eventName Name of event to emit\n\t * @param {Boolean} [update=true] Update the DOM\n\t */\n\t_toggleState(name, value, eventName, update = true) {\n\t\tif (this.state[name] === value) {\n\t\t\treturn false;\n\t\t}\n\n\t\tlogger.debug(\"Window::_toggleState()\", name, value, eventName, update);\n\n\t\tthis.state[name] = value;\n\t\tthis.emit(eventName, this);\n\t\tthis.core.emit(\"meeseOS/window:change\", this, name, value);\n\n\t\tif (update) {\n\t\t\tthis._updateAttributes();\n\t\t}\n\n\t\treturn true;\n\t}\n\n\t/**\n\t * Check if we have to set next zindex\n\t * @private\n\t * @returns {Boolean}\n\t */\n\t_checkNextZindex() {\n\t\tconst { ontop } = this.attributes;\n\t\tconst { zIndex } = this.state;\n\n\t\tconst windexes = windows\n\t\t\t.filter((w) => w.attributes.ontop === ontop)\n\t\t\t.filter((w) => w.wid !== this.wid)\n\t\t\t.map((w) => w.state.zIndex);\n\n\t\tconst max = windexes.length > 0 ? Math.max.apply(null, windexes) : 0;\n\n\t\treturn zIndex < max;\n\t}\n\n\t/**\n\t * Updates window styles and attributes\n\t */\n\t_updateDOM() {\n\t\tthis._updateAttributes();\n\t\tthis._updateStyles();\n\t}\n\n\t/**\n\t * Updates the window buttons in DOM\n\t * @private\n\t */\n\t_updateButtons() {\n\t\tconst hideButton = (action) =>\n\t\t\t(this.$header.querySelector(\n\t\t\t\t`.meeseOS-window-button[data-action=${action}]`\n\t\t\t).style.display = \"none\");\n\n\t\tconst buttonmap = {\n\t\t\tmaximizable: \"maximize\",\n\t\t\tminimizable: \"minimize\",\n\t\t\tcloseable: \"close\",\n\t\t};\n\n\t\tif (this.attributes.controls) {\n\t\t\tObject.keys(buttonmap).forEach((key) => {\n\t\t\t\tif (!this.attributes[key]) {\n\t\t\t\t\thideButton(buttonmap[key]);\n\t\t\t\t}\n\t\t\t});\n\t\t} else {\n\t\t\tArray.from(\n\t\t\t\tthis.$header.querySelectorAll(\".meeseOS-window-button\")\n\t\t\t).forEach((el) => (el.style.display = \"none\"));\n\t\t}\n\t}\n\n\t/**\n\t * Updates window title in DOM\n\t * @private\n\t */\n\t_updateTitle() {\n\t\tif (!this.$title) return;\n\n\t\tconst escapedTitle = escapeHtml(this.state.title);\n\t\tif (this.$title.innerHTML !== escapedTitle) {\n\t\t\tthis.$title.innerHTML = escapedTitle;\n\t\t}\n\t}\n\n\t/**\n\t * Updates window icon decoration in DOM\n\t * @private\n\t */\n\t_updateIconStyles() {\n\t\tif (!this.$icon) return;\n\n\t\tconst iconSource = `url(${this.state.icon})`;\n\t\tif (this.$icon.style.backgroundImage !== iconSource) {\n\t\t\tthis.$icon.style.backgroundImage = iconSource;\n\t\t}\n\t}\n\n\t/**\n\t * Updates window header decoration in DOM\n\t * @private\n\t */\n\t_updateHeaderStyles() {\n\t\tif (!this.$header) return;\n\n\t\tconst headerDisplay = this.attributes.header ? undefined : \"none\";\n\t\tif (this.$header.style.display !== headerDisplay) {\n\t\t\tthis.$header.style.display = headerDisplay;\n\t\t}\n\t}\n\n\t/**\n\t * Updates window data in DOM\n\t * @private\n\t */\n\t_updateAttributes() {\n\t\tif (!this.$element) return;\n\n\t\tconst attrs = createDOMAttributes(this.id, this.state, this.attributes);\n\t\tconst applyAttrs = Object.keys(attrs).filter(\n\t\t\t(k) => attrs[k] !== this._lastAttributes[k]\n\t\t);\n\n\t\tif (applyAttrs.length > 0) {\n\t\t\tapplyAttrs.forEach((a) =>\n\t\t\t\tthis.$element.setAttribute(`data-${a}`, String(attrs[a]))\n\t\t\t);\n\t\t\tthis._lastAttributes = attrs;\n\t\t}\n\t}\n\n\t/**\n\t * Updates window style in DOM\n\t * @private\n\t */\n\t_updateStyles() {\n\t\tif (!this.$element) return;\n\n\t\tconst cssText = createCssText(createDOMStyles(this.state, this.attributes));\n\t\tif (cssText !== this._lastCssText) {\n\t\t\tthis.$element.style.cssText = cssText;\n\t\t\tthis._lastCssText = cssText;\n\t\t}\n\t}\n}\n",
    "static": true,
    "longname": "/home/runner/work/meeseOS/meeseOS/frontend/client/src/window.js",
    "access": "public",
    "description": null,
    "lineNumber": 1
  },
  {
    "__docId__": 766,
    "kind": "typedef",
    "name": "WindowDimension",
    "memberof": "src/window.js",
    "static": true,
    "longname": "src/window.js~WindowDimension",
    "access": "public",
    "description": "Window dimension definition",
    "properties": [
      {
        "nullable": null,
        "types": [
          "Number"
        ],
        "spread": false,
        "optional": false,
        "name": "width",
        "description": "Width in pixels (or float for percentage in setters)"
      },
      {
        "nullable": null,
        "types": [
          "Number"
        ],
        "spread": false,
        "optional": false,
        "name": "height",
        "description": "Height in pixels (or float for percentage in setters)"
      }
    ],
    "type": {
      "types": [
        "Object"
      ],
      "optional": false,
      "name": "WindowDimension"
    }
  },
  {
    "__docId__": 767,
    "kind": "typedef",
    "name": "WindowPosition",
    "memberof": "src/window.js",
    "static": true,
    "longname": "src/window.js~WindowPosition",
    "access": "public",
    "description": "Window position definition",
    "properties": [
      {
        "nullable": null,
        "types": [
          "Number"
        ],
        "spread": false,
        "optional": false,
        "name": "left",
        "description": "Left in pixels (or float for percentage in setters)"
      },
      {
        "nullable": null,
        "types": [
          "Number"
        ],
        "spread": false,
        "optional": false,
        "name": "top",
        "description": "Top in pixels (or float for percentage in setters)"
      }
    ],
    "type": {
      "types": [
        "Object"
      ],
      "optional": false,
      "name": "WindowPosition"
    }
  },
  {
    "__docId__": 768,
    "kind": "typedef",
    "name": "WindowSession",
    "memberof": "src/window.js",
    "static": true,
    "longname": "src/window.js~WindowSession",
    "access": "public",
    "description": "Window session",
    "properties": [
      {
        "nullable": null,
        "types": [
          "Number"
        ],
        "spread": false,
        "optional": false,
        "name": "id",
        "description": ""
      },
      {
        "nullable": null,
        "types": [
          "Boolean"
        ],
        "spread": false,
        "optional": false,
        "name": "maximized",
        "description": ""
      },
      {
        "nullable": null,
        "types": [
          "Boolean"
        ],
        "spread": false,
        "optional": false,
        "name": "minimized",
        "description": ""
      },
      {
        "nullable": null,
        "types": [
          "WindowPosition"
        ],
        "spread": false,
        "optional": false,
        "name": "position",
        "description": ""
      },
      {
        "nullable": null,
        "types": [
          "WindowDimension"
        ],
        "spread": false,
        "optional": false,
        "name": "dimension",
        "description": ""
      }
    ],
    "type": {
      "types": [
        "Object"
      ],
      "optional": false,
      "name": "WindowSession"
    }
  },
  {
    "__docId__": 769,
    "kind": "typedef",
    "name": "WindowAttributes",
    "memberof": "src/window.js",
    "static": true,
    "longname": "src/window.js~WindowAttributes",
    "access": "public",
    "description": "Window attributes definition",
    "properties": [
      {
        "nullable": null,
        "types": [
          "String[]"
        ],
        "spread": false,
        "optional": true,
        "defaultValue": "[]",
        "defaultRaw": [],
        "name": "classNames",
        "description": "A list of class names"
      },
      {
        "nullable": null,
        "types": [
          "Boolean"
        ],
        "spread": false,
        "optional": true,
        "defaultValue": "false",
        "defaultRaw": false,
        "name": "ontop",
        "description": "If always on top"
      },
      {
        "nullable": null,
        "types": [
          "String"
        ],
        "spread": false,
        "optional": true,
        "name": "gravity",
        "description": "Gravity (center/top/left/right/bottom or any combination)"
      },
      {
        "nullable": null,
        "types": [
          "Boolean"
        ],
        "spread": false,
        "optional": true,
        "defaultValue": "true",
        "defaultRaw": true,
        "name": "resizable",
        "description": "If resizable"
      },
      {
        "nullable": null,
        "types": [
          "Boolean"
        ],
        "spread": false,
        "optional": true,
        "defaultValue": "true",
        "defaultRaw": true,
        "name": "focusable",
        "description": "If focusable"
      },
      {
        "nullable": null,
        "types": [
          "Boolean"
        ],
        "spread": false,
        "optional": true,
        "defaultValue": "true",
        "defaultRaw": true,
        "name": "maximizable",
        "description": "If window if maximizable"
      },
      {
        "nullable": null,
        "types": [
          "Boolean"
        ],
        "spread": false,
        "optional": true,
        "defaultValue": "true",
        "defaultRaw": true,
        "name": "minimizable",
        "description": "If minimizable"
      },
      {
        "nullable": null,
        "types": [
          "Boolean"
        ],
        "spread": false,
        "optional": true,
        "defaultValue": "true",
        "defaultRaw": true,
        "name": "moveable",
        "description": "If moveable"
      },
      {
        "nullable": null,
        "types": [
          "Boolean"
        ],
        "spread": false,
        "optional": true,
        "defaultValue": "true",
        "defaultRaw": true,
        "name": "closeable",
        "description": "If closeable"
      },
      {
        "nullable": null,
        "types": [
          "Boolean"
        ],
        "spread": false,
        "optional": true,
        "defaultValue": "true",
        "defaultRaw": true,
        "name": "header",
        "description": "Show header"
      },
      {
        "nullable": null,
        "types": [
          "Boolean"
        ],
        "spread": false,
        "optional": true,
        "defaultValue": "true",
        "defaultRaw": true,
        "name": "controls",
        "description": "Show controls"
      },
      {
        "nullable": null,
        "types": [
          "String"
        ],
        "spread": false,
        "optional": true,
        "defaultValue": "global",
        "defaultRaw": "global",
        "name": "visibility",
        "description": "Global visibility, 'restricted' to hide from window lists etc."
      },
      {
        "nullable": null,
        "types": [
          "Boolean"
        ],
        "spread": false,
        "optional": true,
        "defaultValue": "true",
        "defaultRaw": true,
        "name": "clamp",
        "description": "Clamp the window position upon creation"
      },
      {
        "nullable": null,
        "types": [
          "Boolean"
        ],
        "spread": false,
        "optional": true,
        "defaultValue": "true",
        "defaultRaw": true,
        "name": "droppable",
        "description": "If window should have the default drop action"
      },
      {
        "nullable": null,
        "types": [
          "WindowDimension"
        ],
        "spread": false,
        "optional": true,
        "name": "minDimension",
        "description": "Minimum dimension"
      },
      {
        "nullable": null,
        "types": [
          "WindowDimension"
        ],
        "spread": false,
        "optional": true,
        "name": "maxDimension",
        "description": "Maximum dimension"
      },
      {
        "nullable": null,
        "types": [
          "{name: string}"
        ],
        "spread": false,
        "optional": true,
        "name": "mediaQueries",
        "description": "A map of matchMedia to name"
      }
    ],
    "type": {
      "types": [
        "Object"
      ],
      "optional": false,
      "name": "WindowAttributes"
    }
  },
  {
    "__docId__": 770,
    "kind": "typedef",
    "name": "WindowState",
    "memberof": "src/window.js",
    "static": true,
    "longname": "src/window.js~WindowState",
    "access": "public",
    "description": "Window state definition",
    "properties": [
      {
        "nullable": null,
        "types": [
          "String"
        ],
        "spread": false,
        "optional": false,
        "name": "title",
        "description": "Title"
      },
      {
        "nullable": null,
        "types": [
          "String"
        ],
        "spread": false,
        "optional": false,
        "name": "icon",
        "description": "Icon"
      },
      {
        "nullable": null,
        "types": [
          "Boolean"
        ],
        "spread": false,
        "optional": true,
        "defaultValue": "false",
        "defaultRaw": false,
        "name": "moving",
        "description": "If moving"
      },
      {
        "nullable": null,
        "types": [
          "Boolean"
        ],
        "spread": false,
        "optional": true,
        "defaultValue": "false",
        "defaultRaw": false,
        "name": "resizing",
        "description": "If resizing"
      },
      {
        "nullable": null,
        "types": [
          "Boolean"
        ],
        "spread": false,
        "optional": true,
        "defaultValue": "false",
        "defaultRaw": false,
        "name": "loading",
        "description": "If loading"
      },
      {
        "nullable": null,
        "types": [
          "Boolean"
        ],
        "spread": false,
        "optional": true,
        "defaultValue": "false",
        "defaultRaw": false,
        "name": "focused",
        "description": "If focused"
      },
      {
        "nullable": null,
        "types": [
          "Boolean"
        ],
        "spread": false,
        "optional": true,
        "defaultValue": "false",
        "defaultRaw": false,
        "name": "maximized",
        "description": "If maximized"
      },
      {
        "nullable": null,
        "types": [
          "Boolean"
        ],
        "spread": false,
        "optional": true,
        "defaultValue": "false",
        "defaultRaw": false,
        "name": "mimimized",
        "description": "If mimimized"
      },
      {
        "nullable": null,
        "types": [
          "Boolean"
        ],
        "spread": false,
        "optional": true,
        "defaultValue": "false",
        "defaultRaw": false,
        "name": "modal",
        "description": "If modal to the parent"
      },
      {
        "nullable": null,
        "types": [
          "Number"
        ],
        "spread": false,
        "optional": true,
        "defaultValue": "10",
        "defaultRaw": 10,
        "name": "zIndex",
        "description": "The z-index (auto calculated)"
      },
      {
        "nullable": null,
        "types": [
          "WindowPosition"
        ],
        "spread": false,
        "optional": true,
        "name": "position",
        "description": "Position"
      },
      {
        "nullable": null,
        "types": [
          "WindowDimension"
        ],
        "spread": false,
        "optional": true,
        "name": "dimension",
        "description": "Dimension"
      }
    ],
    "type": {
      "types": [
        "Object"
      ],
      "optional": false,
      "name": "WindowState"
    }
  },
  {
    "__docId__": 771,
    "kind": "typedef",
    "name": "WindowOptions",
    "memberof": "src/window.js",
    "static": true,
    "longname": "src/window.js~WindowOptions",
    "access": "public",
    "description": "Window options definition",
    "lineNumber": 133,
    "properties": [
      {
        "nullable": null,
        "types": [
          "String"
        ],
        "spread": false,
        "optional": false,
        "name": "id",
        "description": "Window Id (not globaly unique)"
      },
      {
        "nullable": null,
        "types": [
          "String"
        ],
        "spread": false,
        "optional": true,
        "name": "title",
        "description": "Window Title"
      },
      {
        "nullable": null,
        "types": [
          "String"
        ],
        "spread": false,
        "optional": true,
        "name": "icon",
        "description": "Window Icon"
      },
      {
        "nullable": null,
        "types": [
          "Window"
        ],
        "spread": false,
        "optional": true,
        "name": "parent",
        "description": "The parent Window reference"
      },
      {
        "nullable": null,
        "types": [
          "String",
          "Function"
        ],
        "spread": false,
        "optional": true,
        "name": "template",
        "description": "The Window HTML template (or function with signature (el, win) for programatic construction)"
      },
      {
        "nullable": null,
        "types": [
          "Function"
        ],
        "spread": false,
        "optional": true,
        "name": "ondestroy",
        "description": "A callback function when window destructs to interrupt the procedure"
      },
      {
        "nullable": null,
        "types": [
          "WindowPosition",
          "string"
        ],
        "spread": false,
        "optional": true,
        "name": "position",
        "description": "Window position"
      },
      {
        "nullable": null,
        "types": [
          "WindowDimension"
        ],
        "spread": false,
        "optional": true,
        "name": "dimension",
        "description": "Window dimension"
      },
      {
        "nullable": null,
        "types": [
          "WindowAttributes"
        ],
        "spread": false,
        "optional": true,
        "name": "attributes",
        "description": "Apply Window attributes"
      },
      {
        "nullable": null,
        "types": [
          "WindowState"
        ],
        "spread": false,
        "optional": true,
        "name": "state",
        "description": "Apply Window state"
      }
    ],
    "type": {
      "types": [
        "Object"
      ],
      "optional": false,
      "name": "WindowOptions"
    }
  },
  {
    "__docId__": 772,
    "kind": "variable",
    "name": "windowCount",
    "memberof": "src/window.js",
    "static": true,
    "longname": "src/window.js~windowCount",
    "access": "public",
    "export": false,
    "importPath": "@meeseOS/client/src/window.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 134,
    "undocument": true,
    "type": {
      "types": [
        "number"
      ]
    },
    "ignore": true
  },
  {
    "__docId__": 773,
    "kind": "variable",
    "name": "nextZindex",
    "memberof": "src/window.js",
    "static": true,
    "longname": "src/window.js~nextZindex",
    "access": "public",
    "export": false,
    "importPath": "@meeseOS/client/src/window.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 135,
    "undocument": true,
    "type": {
      "types": [
        "number"
      ]
    },
    "ignore": true
  },
  {
    "__docId__": 774,
    "kind": "variable",
    "name": "lastWindow",
    "memberof": "src/window.js",
    "static": true,
    "longname": "src/window.js~lastWindow",
    "access": "public",
    "export": false,
    "importPath": "@meeseOS/client/src/window.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 136,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    },
    "ignore": true
  },
  {
    "__docId__": 775,
    "kind": "variable",
    "name": "TEMPLATE",
    "memberof": "src/window.js",
    "static": true,
    "longname": "src/window.js~TEMPLATE",
    "access": "public",
    "export": false,
    "importPath": "@meeseOS/client/src/window.js",
    "importStyle": null,
    "description": "Default window template",
    "lineNumber": 141,
    "type": {
      "types": [
        "*"
      ]
    },
    "ignore": true
  },
  {
    "__docId__": 776,
    "kind": "class",
    "name": "Window",
    "memberof": "src/window.js",
    "static": true,
    "longname": "src/window.js~Window",
    "access": "public",
    "export": true,
    "importPath": "@meeseOS/client/src/window.js",
    "importStyle": "Window",
    "description": "Window Implementation",
    "lineNumber": 174,
    "interface": false,
    "extends": [
      "@meeseOS/event-emitter~EventEmitter"
    ]
  },
  {
    "__docId__": 777,
    "kind": "constructor",
    "name": "constructor",
    "memberof": "src/window.js~Window",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/window.js~Window#constructor",
    "access": "public",
    "description": "Create window",
    "lineNumber": 181,
    "params": [
      {
        "nullable": null,
        "types": [
          "Core"
        ],
        "spread": false,
        "optional": false,
        "name": "core",
        "description": "MeeseOS Core instance reference"
      },
      {
        "nullable": null,
        "types": [
          "WindowOptions"
        ],
        "spread": false,
        "optional": true,
        "defaultValue": "{}",
        "defaultRaw": {},
        "name": "options",
        "description": "Options"
      }
    ]
  },
  {
    "__docId__": 778,
    "kind": "member",
    "name": "id",
    "memberof": "src/window.js~Window",
    "static": false,
    "longname": "src/window.js~Window#id",
    "access": "public",
    "description": "The Window ID",
    "lineNumber": 209,
    "unknown": [
      {
        "tagName": "@readonly",
        "tagValue": ""
      }
    ],
    "type": {
      "nullable": null,
      "types": [
        "String"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 779,
    "kind": "member",
    "name": "wid",
    "memberof": "src/window.js~Window",
    "static": false,
    "longname": "src/window.js~Window#wid",
    "access": "public",
    "description": "The Window ID",
    "lineNumber": 216,
    "unknown": [
      {
        "tagName": "@readonly",
        "tagValue": ""
      }
    ],
    "type": {
      "nullable": null,
      "types": [
        "Number"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 780,
    "kind": "member",
    "name": "parent",
    "memberof": "src/window.js~Window",
    "static": false,
    "longname": "src/window.js~Window#parent",
    "access": "public",
    "description": "Parent Window reference",
    "lineNumber": 223,
    "unknown": [
      {
        "tagName": "@readonly",
        "tagValue": ""
      }
    ],
    "type": {
      "nullable": null,
      "types": [
        "Window"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 781,
    "kind": "member",
    "name": "children",
    "memberof": "src/window.js~Window",
    "static": false,
    "longname": "src/window.js~Window#children",
    "access": "public",
    "description": "Child windows (via 'parent')",
    "lineNumber": 229,
    "type": {
      "nullable": null,
      "types": [
        "Window[]"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 782,
    "kind": "member",
    "name": "core",
    "memberof": "src/window.js~Window",
    "static": false,
    "longname": "src/window.js~Window#core",
    "access": "public",
    "description": "Core instance reference",
    "lineNumber": 236,
    "unknown": [
      {
        "tagName": "@readonly",
        "tagValue": ""
      }
    ],
    "type": {
      "nullable": null,
      "types": [
        "Core"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 783,
    "kind": "member",
    "name": "destroyed",
    "memberof": "src/window.js~Window",
    "static": false,
    "longname": "src/window.js~Window#destroyed",
    "access": "public",
    "description": "The window destruction state",
    "lineNumber": 242,
    "type": {
      "nullable": null,
      "types": [
        "Boolean"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 784,
    "kind": "member",
    "name": "rendered",
    "memberof": "src/window.js~Window",
    "static": false,
    "longname": "src/window.js~Window#rendered",
    "access": "public",
    "description": "The window rendered state",
    "lineNumber": 248,
    "type": {
      "nullable": null,
      "types": [
        "Boolean"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 785,
    "kind": "member",
    "name": "inited",
    "memberof": "src/window.js~Window",
    "static": false,
    "longname": "src/window.js~Window#inited",
    "access": "public",
    "description": "The window was inited",
    "lineNumber": 254,
    "type": {
      "nullable": null,
      "types": [
        "Boolean"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 786,
    "kind": "member",
    "name": "attributes",
    "memberof": "src/window.js~Window",
    "static": false,
    "longname": "src/window.js~Window#attributes",
    "access": "public",
    "description": "The window attributes",
    "lineNumber": 260,
    "type": {
      "nullable": null,
      "types": [
        "WindowAttributes"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 787,
    "kind": "member",
    "name": "state",
    "memberof": "src/window.js~Window",
    "static": false,
    "longname": "src/window.js~Window#state",
    "access": "public",
    "description": "The window state",
    "lineNumber": 266,
    "type": {
      "nullable": null,
      "types": [
        "WindowState"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 788,
    "kind": "member",
    "name": "$element",
    "memberof": "src/window.js~Window",
    "static": false,
    "longname": "src/window.js~Window#$element",
    "access": "public",
    "description": "The window container",
    "lineNumber": 273,
    "unknown": [
      {
        "tagName": "@readonly",
        "tagValue": ""
      }
    ],
    "type": {
      "nullable": null,
      "types": [
        "Element"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 789,
    "kind": "member",
    "name": "$content",
    "memberof": "src/window.js~Window",
    "static": false,
    "longname": "src/window.js~Window#$content",
    "access": "public",
    "description": "The content container",
    "lineNumber": 279,
    "type": {
      "nullable": null,
      "types": [
        "Element"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 790,
    "kind": "member",
    "name": "$header",
    "memberof": "src/window.js~Window",
    "static": false,
    "longname": "src/window.js~Window#$header",
    "access": "public",
    "description": "The header container",
    "lineNumber": 285,
    "type": {
      "nullable": null,
      "types": [
        "Element"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 791,
    "kind": "member",
    "name": "$icon",
    "memberof": "src/window.js~Window",
    "static": false,
    "longname": "src/window.js~Window#$icon",
    "access": "public",
    "description": "The icon container",
    "lineNumber": 291,
    "type": {
      "nullable": null,
      "types": [
        "Element"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 792,
    "kind": "member",
    "name": "$title",
    "memberof": "src/window.js~Window",
    "static": false,
    "longname": "src/window.js~Window#$title",
    "access": "public",
    "description": "The title container",
    "lineNumber": 297,
    "type": {
      "nullable": null,
      "types": [
        "Element"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 793,
    "kind": "member",
    "name": "_preventDefaultPosition",
    "memberof": "src/window.js~Window",
    "static": false,
    "longname": "src/window.js~Window#_preventDefaultPosition",
    "access": "private",
    "description": "Internal variable to signal not to use default position\ngiven by user (used for restore)",
    "lineNumber": 305,
    "type": {
      "nullable": null,
      "types": [
        "Boolean"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 794,
    "kind": "member",
    "name": "_loadingDebounce",
    "memberof": "src/window.js~Window",
    "static": false,
    "longname": "src/window.js~Window#_loadingDebounce",
    "access": "private",
    "description": "Internal timeout reference used for triggering the loading\noverlay.",
    "lineNumber": 313,
    "type": {
      "nullable": null,
      "types": [
        "Boolean"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 795,
    "kind": "member",
    "name": "_template",
    "memberof": "src/window.js~Window",
    "static": false,
    "longname": "src/window.js~Window#_template",
    "access": "private",
    "description": "The window template",
    "lineNumber": 320,
    "type": {
      "nullable": null,
      "types": [
        "String",
        "Function"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 796,
    "kind": "member",
    "name": "_ondestroy",
    "memberof": "src/window.js~Window",
    "static": false,
    "longname": "src/window.js~Window#_ondestroy",
    "access": "private",
    "description": "Custom destructor callback",
    "lineNumber": 328,
    "unknown": [
      {
        "tagName": "@readonly",
        "tagValue": ""
      }
    ],
    "type": {
      "nullable": null,
      "types": [
        "Function"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 799,
    "kind": "member",
    "name": "_lastCssText",
    "memberof": "src/window.js~Window",
    "static": false,
    "longname": "src/window.js~Window#_lastCssText",
    "access": "private",
    "description": "Last DOM update CSS text",
    "lineNumber": 340,
    "type": {
      "nullable": null,
      "types": [
        "String"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 800,
    "kind": "member",
    "name": "_lastAttributes",
    "memberof": "src/window.js~Window",
    "static": false,
    "longname": "src/window.js~Window#_lastAttributes",
    "access": "private",
    "description": "Last DOM update data attributes",
    "lineNumber": 347,
    "type": {
      "nullable": null,
      "types": [
        "WindowAttributes"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 801,
    "kind": "method",
    "name": "destroy",
    "memberof": "src/window.js~Window",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/window.js~Window#destroy",
    "access": "public",
    "description": "Destroy window",
    "lineNumber": 355,
    "params": [],
    "return": null
  },
  {
    "__docId__": 810,
    "kind": "method",
    "name": "init",
    "memberof": "src/window.js~Window",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/window.js~Window#init",
    "access": "public",
    "description": "Initialize window",
    "lineNumber": 397,
    "params": [],
    "return": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 812,
    "kind": "method",
    "name": "_initTemplate",
    "memberof": "src/window.js~Window",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/window.js~Window#_initTemplate",
    "access": "private",
    "description": "Initializes window template",
    "lineNumber": 426,
    "params": [],
    "return": null
  },
  {
    "__docId__": 817,
    "kind": "method",
    "name": "_initBehavior",
    "memberof": "src/window.js~Window",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/window.js~Window#_initBehavior",
    "access": "private",
    "description": "Initializes window behavior",
    "lineNumber": 446,
    "params": [],
    "return": null
  },
  {
    "__docId__": 818,
    "kind": "method",
    "name": "_checkModal",
    "memberof": "src/window.js~Window",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/window.js~Window#_checkModal",
    "access": "private",
    "description": "Checks the modal state of the window upon render",
    "lineNumber": 482,
    "params": [],
    "return": null
  },
  {
    "__docId__": 819,
    "kind": "method",
    "name": "_setClassNames",
    "memberof": "src/window.js~Window",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/window.js~Window#_setClassNames",
    "access": "private",
    "description": "Sets the initial class names",
    "lineNumber": 496,
    "params": [],
    "return": null
  },
  {
    "__docId__": 820,
    "kind": "method",
    "name": "render",
    "memberof": "src/window.js~Window",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/window.js~Window#render",
    "access": "public",
    "description": "Render window",
    "lineNumber": 512,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{Window} this instance"
      }
    ],
    "params": [
      {
        "nullable": null,
        "types": [
          "Function"
        ],
        "spread": false,
        "optional": true,
        "name": "callback",
        "description": "Callback when window DOM has been constructed"
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "Window"
      ],
      "spread": false,
      "description": "this instance"
    }
  },
  {
    "__docId__": 822,
    "kind": "method",
    "name": "close",
    "memberof": "src/window.js~Window",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/window.js~Window#close",
    "access": "public",
    "description": "Close the window",
    "lineNumber": 557,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{Boolean}"
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "Boolean"
      ],
      "spread": false,
      "description": ""
    },
    "params": []
  },
  {
    "__docId__": 823,
    "kind": "method",
    "name": "focus",
    "memberof": "src/window.js~Window",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/window.js~Window#focus",
    "access": "public",
    "description": "Focus the window",
    "lineNumber": 570,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{Boolean}"
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "Boolean"
      ],
      "spread": false,
      "description": ""
    },
    "params": []
  },
  {
    "__docId__": 824,
    "kind": "method",
    "name": "_focus",
    "memberof": "src/window.js~Window",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/window.js~Window#_focus",
    "access": "private",
    "description": "Internal for focus",
    "lineNumber": 584,
    "params": [],
    "return": null
  },
  {
    "__docId__": 825,
    "kind": "method",
    "name": "blur",
    "memberof": "src/window.js~Window",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/window.js~Window#blur",
    "access": "public",
    "description": "Blur (un-focus) the window",
    "lineNumber": 598,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{Boolean}"
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "Boolean"
      ],
      "spread": false,
      "description": ""
    },
    "params": []
  },
  {
    "__docId__": 826,
    "kind": "method",
    "name": "minimize",
    "memberof": "src/window.js~Window",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/window.js~Window#minimize",
    "access": "public",
    "description": "Minimize (hide) the window",
    "lineNumber": 610,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{Boolean}"
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "Boolean"
      ],
      "spread": false,
      "description": ""
    },
    "params": []
  },
  {
    "__docId__": 827,
    "kind": "method",
    "name": "raise",
    "memberof": "src/window.js~Window",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/window.js~Window#raise",
    "access": "public",
    "description": "Raise (un-minimize) the window",
    "lineNumber": 626,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{Boolean}"
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "Boolean"
      ],
      "spread": false,
      "description": ""
    },
    "params": []
  },
  {
    "__docId__": 828,
    "kind": "method",
    "name": "maximize",
    "memberof": "src/window.js~Window",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/window.js~Window#maximize",
    "access": "public",
    "description": "Maximize the window",
    "lineNumber": 634,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{Boolean}"
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "Boolean"
      ],
      "spread": false,
      "description": ""
    },
    "params": []
  },
  {
    "__docId__": 829,
    "kind": "method",
    "name": "restore",
    "memberof": "src/window.js~Window",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/window.js~Window#restore",
    "access": "public",
    "description": "Restore (un-maximize) the window",
    "lineNumber": 646,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{Boolean}"
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "Boolean"
      ],
      "spread": false,
      "description": ""
    },
    "params": []
  },
  {
    "__docId__": 830,
    "kind": "method",
    "name": "_maximize",
    "memberof": "src/window.js~Window",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/window.js~Window#_maximize",
    "access": "private",
    "description": "Internal for Maximize or restore",
    "lineNumber": 656,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{Boolean}"
      }
    ],
    "params": [
      {
        "nullable": null,
        "types": [
          "Boolean"
        ],
        "spread": false,
        "optional": false,
        "name": "toggle",
        "description": "Maximize or restore"
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "Boolean"
      ],
      "spread": false,
      "description": ""
    }
  },
  {
    "__docId__": 831,
    "kind": "method",
    "name": "resizeFit",
    "memberof": "src/window.js~Window",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/window.js~Window#resizeFit",
    "access": "public",
    "description": "Resize to fit to current container",
    "lineNumber": 686,
    "params": [
      {
        "nullable": null,
        "types": [
          "Element"
        ],
        "spread": false,
        "optional": true,
        "name": "container",
        "description": "The DOM element to use"
      }
    ],
    "return": null
  },
  {
    "__docId__": 832,
    "kind": "method",
    "name": "clampToViewport",
    "memberof": "src/window.js~Window",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/window.js~Window#clampToViewport",
    "access": "public",
    "description": "Clamps the position to viewport",
    "lineNumber": 705,
    "params": [
      {
        "nullable": null,
        "types": [
          "Boolean"
        ],
        "spread": false,
        "optional": true,
        "defaultValue": "true",
        "defaultRaw": true,
        "name": "update",
        "description": "Update DOM"
      }
    ],
    "return": null
  },
  {
    "__docId__": 833,
    "kind": "method",
    "name": "setIcon",
    "memberof": "src/window.js~Window",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/window.js~Window#setIcon",
    "access": "public",
    "description": "Set the Window icon",
    "lineNumber": 724,
    "params": [
      {
        "nullable": null,
        "types": [
          "String"
        ],
        "spread": false,
        "optional": false,
        "name": "uri",
        "description": "Icon URI"
      }
    ],
    "return": null
  },
  {
    "__docId__": 834,
    "kind": "method",
    "name": "setTitle",
    "memberof": "src/window.js~Window",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/window.js~Window#setTitle",
    "access": "public",
    "description": "Set the Window title",
    "lineNumber": 734,
    "params": [
      {
        "nullable": null,
        "types": [
          "String"
        ],
        "spread": false,
        "optional": false,
        "name": "title",
        "description": "Title"
      }
    ],
    "return": null
  },
  {
    "__docId__": 835,
    "kind": "method",
    "name": "setDimension",
    "memberof": "src/window.js~Window",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/window.js~Window#setDimension",
    "access": "public",
    "description": "Set the Window dimension",
    "lineNumber": 745,
    "params": [
      {
        "nullable": null,
        "types": [
          "WindowDimension"
        ],
        "spread": false,
        "optional": false,
        "name": "dimension",
        "description": "The dimension"
      }
    ],
    "return": null
  },
  {
    "__docId__": 836,
    "kind": "method",
    "name": "setPosition",
    "memberof": "src/window.js~Window",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/window.js~Window#setPosition",
    "access": "public",
    "description": "Set the Window position",
    "lineNumber": 759,
    "params": [
      {
        "nullable": null,
        "types": [
          "WindowPosition"
        ],
        "spread": false,
        "optional": false,
        "name": "position",
        "description": "The position"
      },
      {
        "nullable": null,
        "types": [
          "Boolean"
        ],
        "spread": false,
        "optional": true,
        "defaultValue": "false",
        "defaultRaw": false,
        "name": "preventDefault",
        "description": "Prevents any future position setting in init procedure"
      }
    ],
    "return": null
  },
  {
    "__docId__": 838,
    "kind": "method",
    "name": "setZindex",
    "memberof": "src/window.js~Window",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/window.js~Window#setZindex",
    "access": "public",
    "description": "Set the Window z index",
    "lineNumber": 776,
    "params": [
      {
        "nullable": null,
        "types": [
          "Number"
        ],
        "spread": false,
        "optional": false,
        "name": "zIndex",
        "description": "the index"
      }
    ],
    "return": null
  },
  {
    "__docId__": 839,
    "kind": "method",
    "name": "setNextZindex",
    "memberof": "src/window.js~Window",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/window.js~Window#setNextZindex",
    "access": "public",
    "description": "Sets the Window to next z index",
    "lineNumber": 787,
    "params": [
      {
        "nullable": null,
        "types": [
          "Boolean"
        ],
        "spread": false,
        "optional": true,
        "name": "force",
        "description": "Force next index"
      }
    ],
    "return": null
  },
  {
    "__docId__": 840,
    "kind": "method",
    "name": "setState",
    "memberof": "src/window.js~Window",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/window.js~Window#setState",
    "access": "public",
    "description": "Set a state by value",
    "see": [
      "{WindowState}"
    ],
    "lineNumber": 803,
    "params": [
      {
        "nullable": null,
        "types": [
          "String"
        ],
        "spread": false,
        "optional": false,
        "name": "name",
        "description": "State name"
      },
      {
        "nullable": null,
        "types": [
          "*"
        ],
        "spread": false,
        "optional": false,
        "name": "value",
        "description": "State value"
      },
      {
        "nullable": null,
        "types": [
          "Boolean"
        ],
        "spread": false,
        "optional": true,
        "defaultValue": "true",
        "defaultRaw": true,
        "name": "update",
        "description": "Update the DOM"
      }
    ],
    "return": null
  },
  {
    "__docId__": 842,
    "kind": "method",
    "name": "gravitate",
    "memberof": "src/window.js~Window",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/window.js~Window#gravitate",
    "access": "public",
    "description": "Gravitates window towards a certain area",
    "lineNumber": 824,
    "params": [
      {
        "nullable": null,
        "types": [
          "String"
        ],
        "spread": false,
        "optional": false,
        "name": "gravity",
        "description": "Gravity"
      }
    ],
    "return": null
  },
  {
    "__docId__": 843,
    "kind": "method",
    "name": "getState",
    "memberof": "src/window.js~Window",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/window.js~Window#getState",
    "access": "public",
    "description": "Gets a astate",
    "lineNumber": 837,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{*}"
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "*"
      ],
      "spread": false,
      "description": ""
    },
    "params": [
      {
        "name": "n",
        "types": [
          "*"
        ]
      }
    ]
  },
  {
    "__docId__": 844,
    "kind": "method",
    "name": "getSession",
    "memberof": "src/window.js~Window",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/window.js~Window#getSession",
    "access": "public",
    "description": "Get a snapshot of the Window session",
    "lineNumber": 849,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{WindowSession}"
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "WindowSession"
      ],
      "spread": false,
      "description": ""
    },
    "params": []
  },
  {
    "__docId__": 845,
    "kind": "method",
    "name": "getWindows",
    "memberof": "src/window.js~Window",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "src/window.js~Window.getWindows",
    "access": "public",
    "description": "Get a list of all windows",
    "lineNumber": 865,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{Window[]}"
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "Window[]"
      ],
      "spread": false,
      "description": ""
    },
    "params": []
  },
  {
    "__docId__": 846,
    "kind": "method",
    "name": "lastWindow",
    "memberof": "src/window.js~Window",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "src/window.js~Window.lastWindow",
    "access": "public",
    "description": "Gets the lastly focused Window",
    "lineNumber": 873,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{Window}"
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "Window"
      ],
      "spread": false,
      "description": ""
    },
    "params": []
  },
  {
    "__docId__": 847,
    "kind": "method",
    "name": "_setState",
    "memberof": "src/window.js~Window",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/window.js~Window#_setState",
    "access": "private",
    "description": "Internal method for setting state",
    "lineNumber": 885,
    "params": [
      {
        "nullable": null,
        "types": [
          "String"
        ],
        "spread": false,
        "optional": false,
        "name": "name",
        "description": "State name"
      },
      {
        "nullable": null,
        "types": [
          "*"
        ],
        "spread": false,
        "optional": false,
        "name": "value",
        "description": "State value"
      },
      {
        "nullable": null,
        "types": [
          "Boolean"
        ],
        "spread": false,
        "optional": true,
        "defaultValue": "true",
        "defaultRaw": true,
        "name": "update",
        "description": "Update the DOM"
      },
      {
        "nullable": null,
        "types": [
          "Boolean"
        ],
        "spread": false,
        "optional": true,
        "defaultValue": "true",
        "defaultRaw": true,
        "name": "updateAll",
        "description": "Update the entire DOM"
      }
    ],
    "return": null
  },
  {
    "__docId__": 848,
    "kind": "method",
    "name": "_toggleState",
    "memberof": "src/window.js~Window",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/window.js~Window#_toggleState",
    "access": "private",
    "description": "Internal method for toggling state",
    "lineNumber": 906,
    "params": [
      {
        "nullable": null,
        "types": [
          "String"
        ],
        "spread": false,
        "optional": false,
        "name": "name",
        "description": "State name"
      },
      {
        "nullable": null,
        "types": [
          "any"
        ],
        "spread": false,
        "optional": false,
        "name": "value",
        "description": "State value"
      },
      {
        "nullable": null,
        "types": [
          "String"
        ],
        "spread": false,
        "optional": false,
        "name": "eventName",
        "description": "Name of event to emit"
      },
      {
        "nullable": null,
        "types": [
          "Boolean"
        ],
        "spread": false,
        "optional": true,
        "defaultValue": "true",
        "defaultRaw": true,
        "name": "update",
        "description": "Update the DOM"
      }
    ],
    "return": {
      "types": [
        "boolean"
      ]
    }
  },
  {
    "__docId__": 849,
    "kind": "method",
    "name": "_checkNextZindex",
    "memberof": "src/window.js~Window",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/window.js~Window#_checkNextZindex",
    "access": "private",
    "description": "Check if we have to set next zindex",
    "lineNumber": 929,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{Boolean}"
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "Boolean"
      ],
      "spread": false,
      "description": ""
    },
    "params": []
  },
  {
    "__docId__": 850,
    "kind": "method",
    "name": "_updateDOM",
    "memberof": "src/window.js~Window",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/window.js~Window#_updateDOM",
    "access": "private",
    "description": "Updates window styles and attributes",
    "lineNumber": 946,
    "params": [],
    "return": null
  },
  {
    "__docId__": 851,
    "kind": "method",
    "name": "_updateButtons",
    "memberof": "src/window.js~Window",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/window.js~Window#_updateButtons",
    "access": "private",
    "description": "Updates the window buttons in DOM",
    "lineNumber": 955,
    "params": [],
    "return": null
  },
  {
    "__docId__": 852,
    "kind": "method",
    "name": "_updateTitle",
    "memberof": "src/window.js~Window",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/window.js~Window#_updateTitle",
    "access": "private",
    "description": "Updates window title in DOM",
    "lineNumber": 984,
    "params": [],
    "return": null
  },
  {
    "__docId__": 853,
    "kind": "method",
    "name": "_updateIconStyles",
    "memberof": "src/window.js~Window",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/window.js~Window#_updateIconStyles",
    "access": "private",
    "description": "Updates window icon decoration in DOM",
    "lineNumber": 997,
    "params": [],
    "return": null
  },
  {
    "__docId__": 854,
    "kind": "method",
    "name": "_updateHeaderStyles",
    "memberof": "src/window.js~Window",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/window.js~Window#_updateHeaderStyles",
    "access": "private",
    "description": "Updates window header decoration in DOM",
    "lineNumber": 1010,
    "params": [],
    "return": null
  },
  {
    "__docId__": 855,
    "kind": "method",
    "name": "_updateAttributes",
    "memberof": "src/window.js~Window",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/window.js~Window#_updateAttributes",
    "access": "private",
    "description": "Updates window data in DOM",
    "lineNumber": 1023,
    "params": [],
    "return": null
  },
  {
    "__docId__": 857,
    "kind": "method",
    "name": "_updateStyles",
    "memberof": "src/window.js~Window",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/window.js~Window#_updateStyles",
    "access": "private",
    "description": "Updates window style in DOM",
    "lineNumber": 1043,
    "params": [],
    "return": null
  },
  {
    "kind": "index",
    "content": "# aaronmeese.com Client Module\n\n[![Test Coverage](https://api.codeclimate.com/v1/badges/074b81c78fd887a7def5/test_coverage)](https://codeclimate.com/github/os-js/osjs-client/test_coverage)\n[![Maintainability](https://api.codeclimate.com/v1/badges/074b81c78fd887a7def5/maintainability)](https://codeclimate.com/github/os-js/osjs-client/maintainability)\n\nThis is the main client core component of meeseOS.\n\nContains base services, virtual filesystem, panels and other core services required for operation.\n",
    "longname": "/home/runner/work/meeseOS/meeseOS/frontend/client/README.md",
    "name": "./README.md",
    "static": true,
    "access": "public"
  },
  {
    "kind": "packageJSON",
    "content": "{\n  \"name\": \"@meeseOS/client\",\n  \"version\": \"2.5.4\",\n  \"description\": \"meeseOS client\",\n  \"main\": \"dist/main.js\",\n  \"style\": \"dist/main.css\",\n  \"typings\": \"index.d.ts\",\n  \"files\": [\n    \"index.d.ts\",\n    \"dist/main.js\",\n    \"dist/main.js.map\",\n    \"dist/main.css\",\n    \"dist/main.css.map\",\n    \"dist/*.png\",\n    \"README.md\"\n  ],\n  \"scripts\": {\n    \"test\": \"npm run eslint && npm run stylelint && npm run jest\",\n    \"jest\": \"jest\",\n    \"coverage\": \"jest --coverage\",\n    \"eslint\": \"eslint index.js 'src/**/*.js'\",\n    \"build\": \"webpack\",\n    \"watch\": \"webpack --watch\",\n    \"stylelint\": \"stylelint index.scss src/**/*.scss  --fix\",\n    \"prepublishOnly\": \"npm run test && rm ./dist/* && NODE_ENV=production npm run build\"\n  },\n  \"devDependencies\": {\n    \"@meeseOS/eslint-config\": \"workspace:*\",\n    \"@meeseOS/stylelint-config\": \"workspace:*\",\n    \"@babel/core\": \"^7.17.2\",\n    \"@babel/plugin-transform-runtime\": \"^7.17.0\",\n    \"@babel/preset-env\": \"^7.16.11\",\n    \"@babel/runtime\": \"^7.17.2\",\n    \"babel-loader\": \"^8.2.3\",\n    \"copy-webpack-plugin\": \"^10.2.4\",\n    \"css-loader\": \"^6.6.0\",\n    \"css-minimizer-webpack-plugin\": \"^3.4.1\",\n    \"eslint\": \"^8.18.0\",\n    \"eslint-plugin-jest\": \"^26.5.3\",\n    \"html-loader\": \"^3.1.0\",\n    \"html-loader-jest\": \"^0.2.1\",\n    \"mini-css-extract-plugin\": \"^2.5.3\",\n    \"sass\": \"^1.53.0\",\n    \"sass-loader\": \"^13.0.2\",\n    \"stylelint\": \"^14.5.0\",\n    \"stylelint-config-standard\": \"^25.0.0\",\n    \"stylelint-config-standard-scss\": \"^4.0.0\",\n    \"webpack\": \"^5.68.0\",\n    \"webpack-cli\": \"^4.9.2\",\n    \"jest\": \"^26.0.0\"\n  },\n  \"dependencies\": {\n    \"@meeseOS/common\": \"workspace:*\",\n    \"@meeseOS/cursor-effects\": \"workspace:*\",\n    \"@meeseOS/dynamic-wallpapers\": \"workspace:*\",\n    \"@meeseOS/event-emitter\": \"workspace:*\",\n    \"@meeseOS/gui\": \"workspace:*\",\n    \"@meeseOS/sounds\": \"workspace:*\",\n    \"css-mediaquery\": \"^0.1.2\",\n    \"deepmerge\": \"^4.2.2\",\n    \"hyperapp\": \"^1.2.10\",\n    \"js-cookie\": \"^3.0.1\",\n    \"simplejsonconf\": \"^2.0.7\",\n    \"is-plain-object\": \"^5.0.0\",\n    \"express-session\": \"^1.17.3\"\n  },\n  \"eslintConfig\": {\n    \"env\": {\n      \"browser\": true,\n      \"node\": true,\n      \"jest/globals\": true\n    },\n    \"plugins\": [\"jest\"],\n    \"parserOptions\": {\n      \"sourceType\": \"module\"\n    },\n    \"extends\": [\"@meeseOS/eslint-config\", \"plugin:jest/recommended\"]\n  },\n  \"stylelint\": {\n    \"extends\": [\"stylelint-config-standard-scss\", \"@meeseOS/stylelint-config\"]\n  },\n  \"babel\": {\n    \"presets\": [\n      \"@babel/preset-env\"\n    ],\n    \"plugins\": [\n      \"@babel/plugin-transform-runtime\"\n    ]\n  },\n  \"esdoc\": {\n    \"source\": \"./src\",\n    \"destination\": \"./doc\",\n    \"plugins\": [\n      {\n        \"name\": \"esdoc-standard-plugin\",\n        \"option\": {\n          \"brand\": {\n            \"title\": \"meeseOS Core API\",\n            \"description\": \"meeseOS Core API Documentation\"\n          },\n          \"lint\": {\n            \"enable\": false\n          },\n          \"coverage\": {\n            \"enable\": false\n          },\n          \"undocumentIdentifier\": {\n            \"enable\": false\n          }\n        }\n      },\n      {\n        \"name\": \"esdoc-publish-html-plugin\"\n      },\n      {\n        \"name\": \"esdoc-ecmascript-proposal-plugin\",\n        \"option\": {\n          \"all\": true\n        }\n      }\n    ]\n  },\n  \"jest\": {\n    \"collectCoverage\": true,\n    \"testEnvironment\": \"jsdom\",\n    \"coverageReporters\": [\n      \"lcov\"\n    ],\n    \"setupFilesAfterEnv\": [\n      \"<rootDir>/__mocks__/setup.js\"\n    ],\n    \"moduleNameMapper\": {\n      \"^meeseOS$\": \"<rootDir>/__mocks__/core.js\",\n      \"^.+\\\\.html?$\": \"html-loader-jest\",\n      \"^.+\\\\.scss$\": \"<rootDir>/__mocks__/null-module.js\",\n      \"^.+\\\\.(png|jpe?g|gif)$\": \"<rootDir>/__mocks__/null-module.js\"\n    },\n    \"coveragePathIgnorePatterns\": [\n      \"src/config.js\",\n      \"src/providers\",\n      \"/node_modules/\"\n    ]\n  }\n}\n",
    "longname": "/home/runner/work/meeseOS/meeseOS/frontend/client/package.json",
    "name": "package.json",
    "static": true,
    "access": "public"
  }
]